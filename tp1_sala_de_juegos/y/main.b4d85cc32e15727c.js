"use strict";(self.webpackChunktp1_sala_de_juegos=self.webpackChunktp1_sala_de_juegos||[]).push([[179],{2313:(Dn,Et,Z)=>{Z.d(Et,{nm:()=>Sr});var T=Z(3530),be=(Z(8256),Z(3692),Z(259),Z(5861)),he=Z(6881),Ce=Z(4859),Ae=Z(2090),vt=Z(1877);const ne=new Map,me={activated:!1,tokenObservers:[]},Ze={initialized:!1,enabled:!1};function rt(ie){return ne.get(ie)||Object.assign({},me)}function Ot(){return Ze}const Zt="https://content-firebaseappcheck.googleapis.com/v1",Sn="exchangeDebugToken",Dt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Pe{constructor(oe,xe,it,Ct,on){if(this.operation=oe,this.retryPolicy=xe,this.getWaitDuration=it,this.lowerBound=Ct,this.upperBound=on,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>on)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(oe){var xe=this;return(0,be.Z)(function*(){xe.stop();try{xe.pending=new Ae.BH,yield function ot(ie){return new Promise(oe=>{setTimeout(oe,ie)})}(xe.getNextRun(oe)),xe.pending.resolve(),yield xe.pending.promise,xe.pending=new Ae.BH,yield xe.operation(),xe.pending.resolve(),yield xe.pending.promise,xe.process(!0).catch(()=>{})}catch(it){xe.retryPolicy(it)?xe.process(!1).catch(()=>{}):xe.stop()}})()}getNextRun(oe){if(oe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const xe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),xe}}}const ct=new Ae.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function at(ie){if(!rt(ie).activated)throw ct.create("use-before-activation",{appName:ie.name})}function pn(ie,oe){return $e.apply(this,arguments)}function $e(){return($e=(0,be.Z)(function*({url:ie,body:oe},xe){const it={"Content-Type":"application/json"},Ct=xe.getImmediate({optional:!0});if(Ct){const Di=yield Ct.getHeartbeatsHeader();Di&&(it["X-Firebase-Client"]=Di)}const on={method:"POST",body:JSON.stringify(oe),headers:it};let Bn,wn;try{Bn=yield fetch(ie,on)}catch(Di){throw ct.create("fetch-network-error",{originalErrorMessage:Di?.message})}if(200!==Bn.status)throw ct.create("fetch-status-error",{httpStatus:Bn.status});try{wn=yield Bn.json()}catch(Di){throw ct.create("fetch-parse-error",{originalErrorMessage:Di?.message})}const gr=wn.ttl.match(/^([\d.]+)(s)$/);if(!gr||!gr[2]||isNaN(Number(gr[1])))throw ct.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${wn.ttl}`});const Ti=1e3*Number(gr[1]),Tn=Date.now();return{token:wn.token,expireTimeMillis:Tn+Ti,issuedAtTimeMillis:Tn}})).apply(this,arguments)}function nr(ie,oe){const{projectId:xe,appId:it,apiKey:Ct}=ie.options;return{url:`${Zt}/projects/${xe}/apps/${it}:${Sn}?key=${Ct}`,body:{debug_token:oe}}}const Qr="firebase-app-check-database",He=1,Ue="firebase-app-check-store";let ve=null;function Pt(ie,oe){return _n.apply(this,arguments)}function _n(){return(_n=(0,be.Z)(function*(ie,oe){const it=(yield function qe(){return ve||(ve=new Promise((ie,oe)=>{try{const xe=indexedDB.open(Qr,He);xe.onsuccess=it=>{ie(it.target.result)},xe.onerror=it=>{var Ct;oe(ct.create("storage-open",{originalErrorMessage:null===(Ct=it.target.error)||void 0===Ct?void 0:Ct.message}))},xe.onupgradeneeded=it=>{0===it.oldVersion&&it.target.result.createObjectStore(Ue,{keyPath:"compositeKey"})}}catch(xe){oe(ct.create("storage-open",{originalErrorMessage:xe?.message}))}}),ve)}()).transaction(Ue,"readwrite"),on=it.objectStore(Ue).put({compositeKey:ie,value:oe});return new Promise((Bn,wn)=>{on.onsuccess=gr=>{Bn()},it.onerror=gr=>{var Ti;wn(ct.create("storage-set",{originalErrorMessage:null===(Ti=gr.target.error)||void 0===Ti?void 0:Ti.message}))}})})).apply(this,arguments)}const Er=new vt.Yd("@firebase/app-check");function wr(ie,oe){return(0,Ae.hl)()?function Te(ie,oe){return Pt(function Hn(ie){return`${ie.options.appId}-${ie.name}`}(ie),oe)}(ie,oe).catch(xe=>{Er.warn(`Failed to write token to IndexedDB. Error: ${xe}`)}):Promise.resolve()}function ni(){return Ot().enabled}function Wr(){return hi.apply(this,arguments)}function hi(){return(hi=(0,be.Z)(function*(){const ie=Ot();if(ie.enabled&&ie.token)return ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fr={error:"UNKNOWN_ERROR"};function ri(ie){return Ae.US.encodeString(JSON.stringify(ie),!1)}function Mn(ie){return yt.apply(this,arguments)}function yt(){return(yt=(0,be.Z)(function*(ie,oe=!1){const xe=ie.app;at(xe);const it=rt(xe);let on,Ct=it.token;if(Ct&&!sr(Ct)&&(it.token=void 0,Ct=void 0),!Ct){const gr=yield it.cachedTokenPromise;gr&&(sr(gr)?Ct=gr:yield wr(xe,void 0))}if(!oe&&Ct&&sr(Ct))return{token:Ct.token};let wn,Bn=!1;if(ni()){it.exchangeTokenPromise||(it.exchangeTokenPromise=pn(nr(xe,yield Wr()),ie.heartbeatServiceProvider).finally(()=>{it.exchangeTokenPromise=void 0}),Bn=!0);const gr=yield it.exchangeTokenPromise;return yield wr(xe,gr),it.token=gr,{token:gr.token}}try{it.exchangeTokenPromise||(it.exchangeTokenPromise=it.provider.getToken().finally(()=>{it.exchangeTokenPromise=void 0}),Bn=!0),Ct=yield rt(xe).exchangeTokenPromise}catch(gr){"appCheck/throttled"===gr.code?Er.warn(gr.message):Er.error(gr),on=gr}return Ct?on?wn=sr(Ct)?{token:Ct.token,internalError:on}:yi(on):(wn={token:Ct.token},it.token=Ct,yield wr(xe,Ct)):wn=yi(on),Bn&&function mi(ie,oe){const xe=rt(ie).tokenObservers;for(const it of xe)try{"EXTERNAL"===it.type&&null!=oe.error?it.error(oe.error):it.next(oe)}catch{}}(xe,wn),wn})).apply(this,arguments)}function Vt(ie){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,be.Z)(function*(ie){const oe=ie.app;at(oe);const{provider:xe}=rt(oe);if(ni()){const it=yield Wr(),{token:Ct}=yield pn(nr(oe,it),ie.heartbeatServiceProvider);return{token:Ct}}{const{token:it}=yield xe.getToken();return{token:it}}})).apply(this,arguments)}function Gn(ie,oe){const xe=rt(ie),it=xe.tokenObservers.filter(Ct=>Ct.next!==oe);0===it.length&&xe.tokenRefresher&&xe.tokenRefresher.isRunning()&&xe.tokenRefresher.stop(),xe.tokenObservers=it}function Jr(ie){const{app:oe}=ie,xe=rt(oe);let it=xe.tokenRefresher;it||(it=function Rn(ie){const{app:oe}=ie;return new Pe((0,be.Z)(function*(){let it;if(it=rt(oe).token?yield Mn(ie,!0):yield Mn(ie),it.error)throw it.error;if(it.internalError)throw it.internalError}),()=>!0,()=>{const xe=rt(oe);if(xe.token){let it=xe.token.issuedAtTimeMillis+.5*(xe.token.expireTimeMillis-xe.token.issuedAtTimeMillis)+3e5;return it=Math.min(it,xe.token.expireTimeMillis-3e5),Math.max(0,it-Date.now())}return 0},Dt.RETRIAL_MIN_WAIT,Dt.RETRIAL_MAX_WAIT)}(ie),xe.tokenRefresher=it),!it.isRunning()&&xe.isTokenAutoRefreshEnabled&&it.start()}function sr(ie){return ie.expireTimeMillis-Date.now()>0}function yi(ie){return{token:ri(fr),error:ie}}class Ln{constructor(oe,xe){this.app=oe,this.heartbeatServiceProvider=xe}_delete(){const{tokenObservers:oe}=rt(this.app);for(const xe of oe)Gn(this.app,xe.next);return Promise.resolve()}}const ft="app-check-internal";!function bt(){(0,he.Xd)(new Ce.wA("app-check",ie=>function pr(ie,oe){return new Ln(ie,oe)}(ie.getProvider("app").getImmediate(),ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ie,oe,xe)=>{ie.getProvider(ft).initialize()})),(0,he.Xd)(new Ce.wA(ft,ie=>function Zn(ie){return{getToken:oe=>Mn(ie,oe),getLimitedUseToken:()=>Vt(ie),addTokenListener:oe=>function Xn(ie,oe,xe,it){const{app:Ct}=ie,on=rt(Ct);if(on.tokenObservers=[...on.tokenObservers,{next:xe,error:it,type:oe}],on.token&&sr(on.token)){const wn=on.token;Promise.resolve().then(()=>{xe({token:wn.token}),Jr(ie)}).catch(()=>{})}on.cachedTokenPromise.then(()=>Jr(ie))}(ie,"INTERNAL",oe),removeTokenListener:oe=>Gn(ie.app,oe)}}(ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,he.KN)("@firebase/app-check","0.8.0")}();class Sr{constructor(){return(0,T.vb)("app-check")}}typeof window<"u"&&window},3692:(Dn,Et,Z)=>{Z.d(Et,{Ot:()=>Oe,ZF:()=>fn,hX:()=>rt,z6:()=>be});var T=Z(259),z=Z(8256),X=Z(3530);class Oe{constructor(Pe){return Pe}}class be{constructor(){return(0,T.C6)()}}const Ae=new z.OlP("angularfire2._apps"),vt={provide:Oe,useFactory:function Ce(Qe){return Qe&&1===Qe.length?Qe[0]:new Oe((0,T.Mq)())},deps:[[new z.FiY,Ae]]},ne={provide:be,deps:[[new z.FiY,Ae]]};function me(Qe){return(Pe,ot)=>{const At=Pe.runOutsideAngular(()=>Qe(ot));return new Oe(At)}}let Ze=(()=>{class Qe{constructor(ot){(0,T.KN)("angularfire",X.q4.full,"core"),(0,T.KN)("angularfire",X.q4.full,"app"),(0,T.KN)("angular",z.q4F.full,ot.toString())}}return Qe.\u0275fac=function(ot){return new(ot||Qe)(z.LFG(z.Lbi))},Qe.\u0275mod=z.oAB({type:Qe}),Qe.\u0275inj=z.cJS({providers:[vt,ne]}),Qe})();function rt(Qe,...Pe){return{ngModule:Ze,providers:[{provide:Ae,useFactory:me(Qe),multi:!0,deps:[z.R0b,z.zs3,X.HU,...Pe]}]}}const fn=(0,X.u3)(T.ZF,!0)},2309:(Dn,Et,Z)=>{Z.d(Et,{gx:()=>Cu,dh:()=>dd,Xb:()=>ir,v0:()=>md,AR:()=>Bo,e5:()=>zc,w7:()=>cu});var T=Z(3530),z=Z(8256),X=Z(3692),Oe=Z(259),be=Z(2313),he=Z(5861),Ce=Z(2090),Ae=Z(6881),vt=Z(7582),ne=Z(1877),me=Z(4859);const Dt=function Ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new Ce.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new ne.Yd("@firebase/auth");function ct(w,...d){ot.logLevel<=ne.in.ERROR&&ot.error(`Auth (${Ae.Jn}): ${w}`,...d)}function Tt(w,...d){throw pn(w,...d)}function at(w,...d){return pn(w,...d)}function pn(w,...d){if("string"!=typeof w){const p=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=w.name),w._errorFactory.create(p,...C)}return Qe.create(w,...d)}function $e(w,d,...p){if(!w)throw pn(d,...p)}function On(w){const d="INTERNAL ASSERTION FAILED: "+w;throw ct(d),new Error(d)}function Jt(w,d){w||On(d)}function nr(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function He(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ve{constructor(d,p){this.shortDelay=d,this.longDelay=p,Jt(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,Ce.uI)()||(0,Ce.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Qr(){return"http:"===He()||"https:"===He()}()||(0,Ce.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(w,d){Jt(w.emulator,"Emulator should always be set here");const{url:p}=w.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class ue{static initialize(d,p,C){this.fetchImpl=d,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void On("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void On("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void On("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nt=new ve(3e4,6e4);function It(w,d){return w.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:w.tenantId}):d}function Pt(w,d,p,C){return _n.apply(this,arguments)}function _n(){return(_n=(0,he.Z)(function*(w,d,p,C,V={}){return sn(w,V,(0,he.Z)(function*(){let K={},Me={};C&&("GET"===d?Me=C:K={body:JSON.stringify(C)});const tt=(0,Ce.xO)(Object.assign({key:w.config.apiKey},Me)).slice(1),jt=yield w._getAdditionalHeaders();return jt["Content-Type"]="application/json",w.languageCode&&(jt["X-Firebase-Locale"]=w.languageCode),ue.fetch()(Jn(w,w.config.apiHost,p,tt),Object.assign({method:d,headers:jt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function sn(w,d,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,he.Z)(function*(w,d,p){w._canInitEmulator=!1;const C=Object.assign(Object.assign({},Te),d);try{const V=new Rr(w),K=yield Promise.race([p(),V.promise]);V.clearNetworkTimeout();const Me=yield K.json();if("needConfirmation"in Me)throw wr(w,"account-exists-with-different-credential",Me);if(K.ok&&!("errorMessage"in Me))return Me;{const tt=K.ok?Me.errorMessage:Me.error.message,[jt,rn]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jt)throw wr(w,"credential-already-in-use",Me);if("EMAIL_EXISTS"===jt)throw wr(w,"email-already-in-use",Me);if("USER_DISABLED"===jt)throw wr(w,"user-disabled",Me);const vn=C[jt]||jt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw function Wt(w,d,p){const C=Object.assign(Object.assign({},Dt()),{[d]:p});return new Ce.LL("auth","Firebase",C).create(d,{appName:w.name})}(w,vn,rn);Tt(w,vn)}}catch(V){if(V instanceof Ce.ZR)throw V;Tt(w,"network-request-failed",{message:String(V)})}})).apply(this,arguments)}function Hn(w,d,p,C){return Er.apply(this,arguments)}function Er(){return(Er=(0,he.Z)(function*(w,d,p,C,V={}){const K=yield Pt(w,d,p,C,V);return"mfaPendingCredential"in K&&Tt(w,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function Jn(w,d,p,C){const V=`${d}${p}?${C}`;return w.config.emulator?qe(w.config,V):`${w.config.apiScheme}://${V}`}class Rr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(at(this.auth,"network-request-failed")),nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(w,d,p){const C={appName:w.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const V=at(w,d,C);return V.customData._tokenResponse=p,V}function hr(){return(hr=(0,he.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function rr(){return(rr=(0,he.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function fr(w){if(w)try{const d=new Date(Number(w));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function yt(){return(yt=(0,he.Z)(function*(w,d=!1){const p=(0,Ce.m9)(w),C=yield p.getIdToken(d),V=Kn(C);$e(V&&V.exp&&V.auth_time&&V.iat,p.auth,"internal-error");const K="object"==typeof V.firebase?V.firebase:void 0,Me=K?.sign_in_provider;return{claims:V,token:C,authTime:fr(Vt(V.auth_time)),issuedAtTime:fr(Vt(V.iat)),expirationTime:fr(Vt(V.exp)),signInProvider:Me||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Vt(w){return 1e3*Number(w)}function Kn(w){const[d,p,C]=w.split(".");if(void 0===d||void 0===p||void 0===C)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,Ce.tV)(p);return V?JSON.parse(V):(ct("Failed to decode base64 JWT payload"),null)}catch(V){return ct("Caught error parsing JWT payload as JSON",V?.toString()),null}}function Gn(w,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,he.Z)(function*(w,d,p=!1){if(p)return d;try{return yield d}catch(C){throw C instanceof Ce.ZR&&function Rn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(C)&&w.auth.currentUser===w&&(yield w.auth.signOut()),C}})).apply(this,arguments)}class mi{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const V=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,V)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,he.Z)(function*(){yield p.iteration()}),C)}iteration(){var d=this;return(0,he.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class sr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(w){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,he.Z)(function*(w){var d;const p=w.auth,C=yield w.getIdToken(),V=yield Gn(w,function hi(w,d){return rr.apply(this,arguments)}(p,{idToken:C}));$e(V?.users.length,p,"internal-error");const K=V.users[0];w._notifyReloadListener(K);const Me=null!==(d=K.providerUserInfo)&&void 0!==d&&d.length?function kr(w){return w.map(d=>{var{providerId:p}=d,C=(0,vt._T)(d,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(K.providerUserInfo):[],tt=function fi(w,d){return[...w.filter(C=>!d.some(V=>V.providerId===C.providerId)),...d]}(w.providerData,Me),vn=!!w.isAnonymous&&!(w.email&&K.passwordHash||tt?.length),mr={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:tt,metadata:new sr(K.createdAt,K.lastLoginAt),isAnonymous:vn};Object.assign(w,mr)}),Ln.apply(this,arguments)}function Zn(){return(Zn=(0,he.Z)(function*(w){const d=(0,Ce.m9)(w);yield yi(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function fe(){return(fe=(0,he.Z)(function*(w,d){const p=yield sn(w,{},(0,he.Z)(function*(){const C=(0,Ce.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:V,apiKey:K}=w.config,Me=Jn(w,V,"/v1/token",`key=${K}`),tt=yield w._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(Me,{method:"POST",headers:tt,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class we{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){$e(d.idToken,"internal-error"),$e(typeof d.idToken<"u","internal-error"),$e(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Xn(w){const d=Kn(w);return $e(d,"internal-error"),$e(typeof d.exp<"u","internal-error"),$e(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var C=this;return(0,he.Z)(function*(){return $e(!C.accessToken||C.refreshToken,d,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var C=this;return(0,he.Z)(function*(){const{accessToken:V,refreshToken:K,expiresIn:Me}=yield function Fe(w,d){return fe.apply(this,arguments)}(d,p);C.updateTokensAndExpiration(V,K,Number(Me))})()}updateTokensAndExpiration(d,p,C){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,p){const{refreshToken:C,accessToken:V,expirationTime:K}=p,Me=new we;return C&&($e("string"==typeof C,"internal-error",{appName:d}),Me.refreshToken=C),V&&($e("string"==typeof V,"internal-error",{appName:d}),Me.accessToken=V),K&&($e("number"==typeof K,"internal-error",{appName:d}),Me.expirationTime=K),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new we,this.toJSON())}_performRefresh(){return On("not implemented")}}function ht(w,d){$e("string"==typeof w||typeof w>"u","internal-error",{appName:d})}class lt{constructor(d){var{uid:p,auth:C,stsTokenManager:V}=d,K=(0,vt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=V,this.accessToken=V.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new sr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,he.Z)(function*(){const C=yield Gn(p,p.stsTokenManager.getToken(p.auth,d));return $e(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(d){return function Mn(w){return yt.apply(this,arguments)}(this,d)}reload(){return function pr(w){return Zn.apply(this,arguments)}(this)}_assign(d){this!==d&&($e(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new lt(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var C=this;return(0,he.Z)(function*(){let V=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),V=!0),p&&(yield yi(C)),yield C.auth._persistUserIfCurrent(C),V&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,he.Z)(function*(){const p=yield d.getIdToken();return yield Gn(d,function Yt(w,d){return hr.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var C,V,K,Me,tt,jt,rn,vn;const mr=null!==(C=p.displayName)&&void 0!==C?C:void 0,so=null!==(V=p.email)&&void 0!==V?V:void 0,lu=null!==(K=p.phoneNumber)&&void 0!==K?K:void 0,pc=null!==(Me=p.photoURL)&&void 0!==Me?Me:void 0,vh=null!==(tt=p.tenantId)&&void 0!==tt?tt:void 0,_h=null!==(jt=p._redirectEventId)&&void 0!==jt?jt:void 0,Hf=null!==(rn=p.createdAt)&&void 0!==rn?rn:void 0,Cl=null!==(vn=p.lastLoginAt)&&void 0!==vn?vn:void 0,{uid:Gc,emailVerified:bd,isAnonymous:gc,providerData:Wc,stsTokenManager:Eh}=p;$e(Gc&&Eh,d,"internal-error");const es=we.fromJSON(this.name,Eh);$e("string"==typeof Gc,d,"internal-error"),ht(mr,d.name),ht(so,d.name),$e("boolean"==typeof bd,d,"internal-error"),$e("boolean"==typeof gc,d,"internal-error"),ht(lu,d.name),ht(pc,d.name),ht(vh,d.name),ht(_h,d.name),ht(Hf,d.name),ht(Cl,d.name);const qc=new lt({uid:Gc,auth:d,email:so,emailVerified:bd,displayName:mr,isAnonymous:gc,photoURL:pc,phoneNumber:lu,tenantId:vh,stsTokenManager:es,createdAt:Hf,lastLoginAt:Cl});return Wc&&Array.isArray(Wc)&&(qc.providerData=Wc.map(wh=>Object.assign({},wh))),_h&&(qc._redirectEventId=_h),qc}static _fromIdTokenResponse(d,p,C=!1){return(0,he.Z)(function*(){const V=new we;V.updateFromServerResponse(p);const K=new lt({uid:p.localId,auth:d,stsTokenManager:V,isAnonymous:C});return yield yi(K),K})()}}const ee=new Map;function te(w){Jt(w instanceof Function,"Expected a class definition");let d=ee.get(w);return d?(Jt(d instanceof w,"Instance stored in cache mismatched with class"),d):(d=new w,ee.set(w,d),d)}const ke=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,he.Z)(function*(){return!0})()}_set(p,C){var V=this;return(0,he.Z)(function*(){V.storage[p]=C})()}_get(p){var C=this;return(0,he.Z)(function*(){const V=C.storage[p];return void 0===V?null:V})()}_remove(p){var C=this;return(0,he.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return w.type="NONE",w})();function Re(w,d,p){return`firebase:${w}:${d}:${p}`}class Nt{constructor(d,p,C){this.persistence=d,this.auth=p,this.userKey=C;const{config:V,name:K}=this.auth;this.fullUserKey=Re(this.userKey,V.apiKey,K),this.fullPersistenceKey=Re("persistence",V.apiKey,K),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,he.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?lt._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,he.Z)(function*(){if(p.persistence===d)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,C="authUser"){return(0,he.Z)(function*(){if(!p.length)return new Nt(te(ke),d,C);const V=(yield Promise.all(p.map(function(){var rn=(0,he.Z)(function*(vn){if(yield vn._isAvailable())return vn});return function(vn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let K=V[0]||te(ke);const Me=Re(C,d.config.apiKey,d.name);let tt=null;for(const rn of p)try{const vn=yield rn._get(Me);if(vn){const mr=lt._fromJSON(d,vn);rn!==K&&(tt=mr),K=rn;break}}catch{}const jt=V.filter(rn=>rn._shouldAllowMigration);return K._shouldAllowMigration&&jt.length?(K=jt[0],tt&&(yield K._set(Me,tt.toJSON())),yield Promise.all(p.map(function(){var rn=(0,he.Z)(function*(vn){if(vn!==K)try{yield vn._remove(Me)}catch{}});return function(vn){return rn.apply(this,arguments)}}())),new Nt(K,d,C)):new Nt(K,d,C)})()}}function ye(w){const d=w.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(et(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ae(d))return"Firefox";if(d.includes("silk/"))return"Silk";if($t(d))return"Blackberry";if(un(d))return"Webos";if(Q(d))return"Safari";if((d.includes("chrome/")||pe(d))&&!d.includes("edge/"))return"Chrome";if(gt(d))return"Android";{const C=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ae(w=(0,Ce.z$)()){return/firefox\//i.test(w)}function Q(w=(0,Ce.z$)()){const d=w.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function pe(w=(0,Ce.z$)()){return/crios\//i.test(w)}function et(w=(0,Ce.z$)()){return/iemobile/i.test(w)}function gt(w=(0,Ce.z$)()){return/android/i.test(w)}function $t(w=(0,Ce.z$)()){return/blackberry/i.test(w)}function un(w=(0,Ce.z$)()){return/webos/i.test(w)}function kn(w=(0,Ce.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ie(w=(0,Ce.z$)()){return kn(w)||gt(w)||un(w)||$t(w)||/windows phone/i.test(w)||et(w)}function bt(w,d=[]){let p;switch(w){case"Browser":p=ye((0,Ce.z$)());break;case"Worker":p=`${ye((0,Ce.z$)())}-${w}`;break;default:p=w}const C=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ae.Jn}/${C}`}function Sr(w,d){return or.apply(this,arguments)}function or(){return(or=(0,he.Z)(function*(w,d){return Pt(w,"GET","/v2/recaptchaConfig",It(w,d))})).apply(this,arguments)}function Li(w){return void 0!==w&&void 0!==w.enterprise}class jr{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function ts(w){return new Promise((d,p)=>{const C=document.createElement("script");C.setAttribute("src",w),C.onload=d,C.onerror=V=>{const K=at("internal-error");K.customData=V,p(K)},C.type="text/javascript",C.charset="UTF-8",function vi(){var w,d;return null!==(d=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==d?d:document}().appendChild(C)})}function xn(w){return`__${w}${Math.floor(1e6*Math.random())}`}const ji="NO_RECAPTCHA";class Ii{constructor(d){this.type="recaptcha-enterprise",this.auth=ie(d)}verify(d="verify",p=!1){var C=this;return(0,he.Z)(function*(){function K(){return K=(0,he.Z)(function*(tt){if(!p){if(null==tt.tenantId&&null!=tt._agentRecaptchaConfig)return tt._agentRecaptchaConfig.siteKey;if(null!=tt.tenantId&&void 0!==tt._tenantRecaptchaConfigs[tt.tenantId])return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(function(){var jt=(0,he.Z)(function*(rn,vn){Sr(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(mr=>{if(void 0!==mr.recaptchaKey){const so=new jr(mr);return null==tt.tenantId?tt._agentRecaptchaConfig=so:tt._tenantRecaptchaConfigs[tt.tenantId]=so,rn(so.siteKey)}vn(new Error("recaptcha Enterprise site key undefined"))}).catch(mr=>{vn(mr)})});return function(rn,vn){return jt.apply(this,arguments)}}())}),K.apply(this,arguments)}function Me(tt,jt,rn){const vn=window.grecaptcha;Li(vn)?vn.enterprise.ready(()=>{vn.enterprise.execute(tt,{action:d}).then(mr=>{jt(mr)}).catch(()=>{jt(ji)})}):rn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tt,jt)=>{(function V(tt){return K.apply(this,arguments)})(C.auth).then(rn=>{if(!p&&Li(window.grecaptcha))Me(rn,tt,jt);else{if(typeof window>"u")return void jt(new Error("RecaptchaVerifier is only supported in browser"));ts("https://www.google.com/recaptcha/enterprise.js?render="+rn).then(()=>{Me(rn,tt,jt)}).catch(vn=>{jt(vn)})}}).catch(rn=>{jt(rn)})})})()}}function ms(w,d,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,he.Z)(function*(w,d,p,C=!1){const V=new Ii(w);let K;try{K=yield V.verify(p)}catch{K=yield V.verify(p,!0)}const Me=Object.assign({},d);return Object.assign(Me,C?{captchaResp:K}:{captchaResponse:K}),Object.assign(Me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Me})).apply(this,arguments)}class uo{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const C=K=>new Promise((Me,tt)=>{try{Me(d(K))}catch(jt){tt(jt)}});C.onAbort=p,this.queue.push(C);const V=this.queue.length-1;return()=>{this.queue[V]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,he.Z)(function*(){if(p.auth.currentUser===d)return;const C=[];try{for(const V of p.queue)yield V(d),V.onAbort&&C.push(V.onAbort)}catch(V){C.reverse();for(const K of C)try{K()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:V?.message})}})()}}class ns{constructor(d,p,C,V){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=C,this.config=V,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oe(this),this.idTokenSubscription=new oe(this),this.beforeStateQueue=new uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=V.sdkClientVersion}_initializeWithPersistence(d,p){var C=this;return p&&(this._popupRedirectResolver=te(p)),this._initializationPromise=this.queue((0,he.Z)(function*(){var V,K;if(!C._deleted&&(C.persistenceManager=yield Nt.create(C,d),!C._deleted)){if(null!==(V=C._popupRedirectResolver)&&void 0!==V&&V._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(K=C.currentUser)||void 0===K?void 0:K.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,he.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,he.Z)(function*(){var C;const V=yield p.assertedPersistence.getCurrentUser();let K=V,Me=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const tt=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,jt=K?._redirectEventId,rn=yield p.tryRedirectSignIn(d);(!tt||tt===jt)&&rn?.user&&(K=rn.user,Me=!0)}if(!K)return p.directlySetCurrentUser(null);if(!K._redirectEventId){if(Me)try{yield p.beforeStateQueue.runMiddleware(K)}catch(tt){K=V,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(tt))}return K?p.reloadAndSetCurrentUserOrClear(K):p.directlySetCurrentUser(null)}return $e(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===K._redirectEventId?p.directlySetCurrentUser(K):p.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(d){var p=this;return(0,he.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,he.Z)(function*(){try{yield yi(d)}catch(C){if("auth/network-request-failed"!==C?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Xe(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var d=this;return(0,he.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,he.Z)(function*(){const C=d?(0,Ce.m9)(d):null;return C&&$e(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(d,p=!1){var C=this;return(0,he.Z)(function*(){if(!C._deleted)return d&&$e(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,he.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,he.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,he.Z)(function*(){yield p.assertedPersistence.setPersistence(te(d))}))}initializeRecaptchaConfig(){var d=this;return(0,he.Z)(function*(){const p=yield Sr(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new jr(p);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new Ii(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new Ce.LL("auth","Firebase",d())}onAuthStateChanged(d,p,C){return this.registerStateListener(this.authStateSubscription,d,p,C)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,C){return this.registerStateListener(this.idTokenSubscription,d,p,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var C=this;return(0,he.Z)(function*(){const V=yield C.getOrInitRedirectPersistenceManager(p);return null===d?V.removeCurrentUser():V.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,he.Z)(function*(){if(!p.redirectPersistenceManager){const C=d&&te(d)||p._popupRedirectResolver;$e(C,p,"argument-error"),p.redirectPersistenceManager=yield Nt.create(p,[te(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,he.Z)(function*(){var C,V;return p._isInitialized&&(yield p.queue((0,he.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===d?p._currentUser:(null===(V=p.redirectUser)||void 0===V?void 0:V._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,he.Z)(function*(){if(d===p.currentUser)return p.queue((0,he.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,C,V){if(this._deleted)return()=>{};const K="function"==typeof p?p:p.next.bind(p),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return $e(Me,this,"internal-error"),Me.then(()=>K(this.currentUser)),"function"==typeof p?d.addObserver(p,C,V):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,he.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,he.Z)(function*(){var p;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const V=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();V&&(C["X-Firebase-Client"]=V);const K=yield d._getAppCheckToken();return K&&(C["X-Firebase-AppCheck"]=K),C})()}_getAppCheckToken(){var d=this;return(0,he.Z)(function*(){var p;const C=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return C?.error&&function At(w,...d){ot.logLevel<=ne.in.WARN&&ot.warn(`Auth (${Ae.Jn}): ${w}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function ie(w){return(0,Ce.m9)(w)}class oe{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,Ce.ne)(p=>this.observer=p)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function on(w){const d=w.indexOf(":");return d<0?"":w.substr(0,d+1)}function wn(w){if(!w)return null;const d=Number(w);return isNaN(d)?null:d}class Ti{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return On("not implemented")}_getIdTokenResponse(d){return On("not implemented")}_linkToIdToken(d,p){return On("not implemented")}_getReauthenticationResolver(d){return On("not implemented")}}function xr(w,d){return co.apply(this,arguments)}function co(){return(co=(0,he.Z)(function*(w,d){return Pt(w,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Ai(w,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,he.Z)(function*(w,d){return Hn(w,"POST","/v1/accounts:signInWithPassword",It(w,d))})).apply(this,arguments)}function Fs(){return(Fs=(0,he.Z)(function*(w,d){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",It(w,d))})).apply(this,arguments)}function Ri(){return(Ri=(0,he.Z)(function*(w,d){return Hn(w,"POST","/v1/accounts:signInWithEmailLink",It(w,d))})).apply(this,arguments)}class Ls extends Ti{constructor(d,p,C,V=null){super("password",C),this._email=d,this._password=p,this._tenantId=V}static _fromEmailAndPassword(d,p){return new Ls(d,p,"password")}static _fromEmailAndCode(d,p,C=null){return new Ls(d,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,he.Z)(function*(){var C;switch(p.signInMethod){case"password":const V={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const K=yield ms(d,V,"signInWithPassword");return Ai(d,K)}return Ai(d,V).catch(function(){var K=(0,he.Z)(function*(Me){if("auth/missing-recaptcha-token"===Me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tt=yield ms(d,V,"signInWithPassword");return Ai(d,tt)}return Promise.reject(Me)});return function(Me){return K.apply(this,arguments)}}());case"emailLink":return function tr(w,d){return Fs.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Tt(d,"internal-error")}})()}_linkToIdToken(d,p){var C=this;return(0,he.Z)(function*(){switch(C.signInMethod){case"password":return xr(d,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Mi(w,d){return Ri.apply(this,arguments)}(d,{idToken:p,email:C._email,oobCode:C._password});default:Tt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ki(w,d){return Us.apply(this,arguments)}function Us(){return(Us=(0,he.Z)(function*(w,d){return Hn(w,"POST","/v1/accounts:signInWithIdp",It(w,d))})).apply(this,arguments)}class Ao{constructor(d){var p,C,V,K,Me,tt;const jt=(0,Ce.zd)((0,Ce.pd)(d)),rn=null!==(p=jt.apiKey)&&void 0!==p?p:null,vn=null!==(C=jt.oobCode)&&void 0!==C?C:null,mr=function fu(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(V=jt.mode)&&void 0!==V?V:null);$e(rn&&vn&&mr,"argument-error"),this.apiKey=rn,this.operation=mr,this.code=vn,this.continueUrl=null!==(K=jt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Me=jt.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(tt=jt.tenantId)&&void 0!==tt?tt:null}static parseLink(d){const p=function Aa(w){const d=(0,Ce.zd)((0,Ce.pd)(w)).link,p=d?(0,Ce.zd)((0,Ce.pd)(d)).deep_link_id:null,C=(0,Ce.zd)((0,Ce.pd)(w)).deep_link_id;return(C?(0,Ce.zd)((0,Ce.pd)(C)).link:null)||C||p||d||w}(d);try{return new Ao(p)}catch{return null}}}let Qs=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(p,C){return Ls._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const V=Ao.parseLink(C);return $e(V,"argument-error"),Ls._fromEmailAndCode(p,V.code,V.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class rs{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class fa extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function Bs(w,d){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,he.Z)(function*(w,d){return Hn(w,"POST","/v1/accounts:signUp",It(w,d))})).apply(this,arguments)}class Pi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,C,V=!1){return(0,he.Z)(function*(){const K=yield lt._fromIdTokenResponse(d,C,V),Me=Ar(C);return new Pi({user:K,providerId:Me,_tokenResponse:C,operationType:p})})()}static _forOperation(d,p,C){return(0,he.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const V=Ar(C);return new Pi({user:d,providerId:V,_tokenResponse:C,operationType:p})})()}}function Ar(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class ss extends Ce.ZR{constructor(d,p,C,V){var K;super(p.code,p.message),this.operationType=C,this.user=V,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:d.name,tenantId:null!==(K=d.tenantId)&&void 0!==K?K:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,p,C,V){return new ss(d,p,C,V)}}function zo(w,d,p,C){return("reauthenticate"===d?p._getReauthenticationResolver(w):p._getIdTokenResponse(w)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?ss._fromErrorAndOperation(w,K,d,C):K})}function Ci(w,d){return Js.apply(this,arguments)}function Js(){return(Js=(0,he.Z)(function*(w,d,p=!1){const C=yield Gn(w,d._linkToIdToken(w.auth,yield w.getIdToken()),p);return Pi._forOperation(w,"link",C)})).apply(this,arguments)}function ui(w,d){return go.apply(this,arguments)}function go(){return(go=(0,he.Z)(function*(w,d,p=!1){const{auth:C}=w,V="reauthenticate";try{const K=yield Gn(w,zo(C,V,d,w),p);$e(K.idToken,C,"internal-error");const Me=Kn(K.idToken);$e(Me,C,"internal-error");const{sub:tt}=Me;return $e(w.uid===tt,C,"user-mismatch"),Pi._forOperation(w,V,K)}catch(K){throw"auth/user-not-found"===K?.code&&Tt(C,"user-mismatch"),K}})).apply(this,arguments)}function mo(w,d){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,he.Z)(function*(w,d,p=!1){const C="signIn",V=yield zo(w,C,d),K=yield Pi._fromIdTokenResponse(w,C,V);return p||(yield w._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Ni(w,d){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,he.Z)(function*(w,d){return mo(ie(w),d)})).apply(this,arguments)}function ga(w,d,p){return ci.apply(this,arguments)}function ci(){return ci=(0,he.Z)(function*(w,d,p){var C;const V=ie(w),K={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let Me;if(null!==(C=V._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const rn=yield ms(V,K,"signUpPassword");Me=Bs(V,rn)}else Me=Bs(V,K).catch(function(){var rn=(0,he.Z)(function*(vn){if("auth/missing-recaptcha-token"===vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const mr=yield ms(V,K,"signUpPassword");return Bs(V,mr)}return Promise.reject(vn)});return function(vn){return rn.apply(this,arguments)}}());const tt=yield Me.catch(rn=>Promise.reject(rn)),jt=yield Pi._fromIdTokenResponse(V,"signIn",tt);return yield V._updateCurrentUser(jt.user),jt}),ci.apply(this,arguments)}function zr(w,d,p){return Ni((0,Ce.m9)(w),Qs.credential(d,p))}function Rt(w){return(0,Ce.m9)(w).signOut()}const Ko="__sak";class ku{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ra=(()=>{class w extends ku{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ma(){const w=(0,Ce.z$)();return Q(w)||kn(w)}()&&function ft(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const V=this.storage.getItem(C),K=this.localCache[C];V!==K&&p(C,K,V)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((tt,jt,rn)=>{this.notifyListeners(tt,rn)});const V=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(V);if(p.newValue!==tt)null!==p.newValue?this.storage.setItem(V,p.newValue):this.storage.removeItem(V);else if(this.localCache[V]===p.newValue&&!C)return}const K=()=>{const tt=this.storage.getItem(V);!C&&this.localCache[V]===tt||this.notifyListeners(V,tt)},Me=this.storage.getItem(V);!function de(){return(0,Ce.w1)()&&10===document.documentMode}()||Me===p.newValue||p.newValue===p.oldValue?K():setTimeout(K,10)}notifyListeners(p,C){this.localCache[p]=C;const V=this.listeners[p];if(V)for(const K of Array.from(V))K(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,V)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:V}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var V=()=>super._set,K=this;return(0,he.Z)(function*(){yield V().call(K,p,C),K.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,V=this;return(0,he.Z)(function*(){const K=yield C().call(V,p);return V.localCache[p]=JSON.stringify(K),K})()}_remove(p){var C=()=>super._remove,V=this;return(0,he.Z)(function*(){yield C().call(V,p),delete V.localCache[p]})()}}return w.type="LOCAL",w})(),Fu=(()=>{class w extends ku{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return w.type="SESSION",w})();let xa=(()=>{class w{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(K=>K.isListeningto(p));if(C)return C;const V=new w(p);return this.receivers.push(V),V}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,he.Z)(function*(){const V=p,{eventId:K,eventType:Me,data:tt}=V.data,jt=C.handlersMap[Me];if(!jt?.size)return;V.ports[0].postMessage({status:"ack",eventId:K,eventType:Me});const rn=Array.from(jt).map(function(){var mr=(0,he.Z)(function*(so){return so(V.origin,tt)});return function(so){return mr.apply(this,arguments)}}()),vn=yield function Nn(w){return Promise.all(w.map(function(){var d=(0,he.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return d.apply(this,arguments)}}()))}(rn);V.ports[0].postMessage({status:"done",eventId:K,eventType:Me,response:vn})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Hs(w="",d=10){let p="";for(let C=0;C<d;C++)p+=Math.floor(10*Math.random());return w+p}class ti{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,C=50){var V=this;return(0,he.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Me,tt;return new Promise((jt,rn)=>{const vn=Hs("",20);K.port1.start();const mr=setTimeout(()=>{rn(new Error("unsupported_event"))},C);tt={messageChannel:K,onMessage(so){const lu=so;if(lu.data.eventId===vn)switch(lu.data.status){case"ack":clearTimeout(mr),Me=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),jt(lu.data.response);break;default:clearTimeout(mr),clearTimeout(Me),rn(new Error("invalid_response"))}}},V.handlers.add(tt),K.port1.addEventListener("message",tt.onMessage),V.target.postMessage({eventType:d,eventId:vn,data:p},[K.port2])}).finally(()=>{tt&&V.removeMessageHandler(tt)})})()}}function Xt(){return window}function bn(){return typeof Xt().WorkerGlobalScope<"u"&&"function"==typeof Xt().importScripts}function lr(){return(lr=(0,he.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $i="firebaseLocalStorageDb",Xo=1,ea="firebaseLocalStorage",Ya="fbase_key";class xo{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Is(w,d){return w.transaction([ea],d?"readwrite":"readonly").objectStore(ea)}function mu(){const w=indexedDB.open($i,Xo);return new Promise((d,p)=>{w.addEventListener("error",()=>{p(w.error)}),w.addEventListener("upgradeneeded",()=>{const C=w.result;try{C.createObjectStore(ea,{keyPath:Ya})}catch(V){p(V)}}),w.addEventListener("success",(0,he.Z)(function*(){const C=w.result;C.objectStoreNames.contains(ea)?d(C):(C.close(),yield function Uu(){const w=indexedDB.deleteDatabase($i);return new xo(w).toPromise()}(),d(yield mu()))}))})}function Ts(w,d,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,he.Z)(function*(w,d,p){const C=Is(w,!0).put({[Ya]:d,value:p});return new xo(C).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,he.Z)(function*(w,d){const p=Is(w,!1).get(d),C=yield new xo(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Eo(w,d){const p=Is(w,!0).delete(d);return new xo(p).toPromise()}const ai=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,he.Z)(function*(){return p.db||(p.db=yield mu()),p.db})()}_withRetries(p){var C=this;return(0,he.Z)(function*(){let V=0;for(;;)try{const K=yield C._openDb();return yield p(K)}catch(K){if(V++>3)throw K;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,he.Z)(function*(){return bn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,he.Z)(function*(){p.receiver=xa._getInstance(function Pa(){return bn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,he.Z)(function*(V,K){return{keyProcessed:(yield p._poll()).includes(K.key)}});return function(V,K){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,he.Z)(function*(V,K){return["keyChanged"]});return function(V,K){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,he.Z)(function*(){var C,V;if(p.activeServiceWorker=yield function Lu(){return lr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ti(p.activeServiceWorker);const K=yield p.sender._send("ping",{},800);K&&null!==(C=K[0])&&void 0!==C&&C.fulfilled&&null!==(V=K[0])&&void 0!==V&&V.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,he.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function nn(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,he.Z)(function*(){try{if(!indexedDB)return!1;const p=yield mu();return yield Ts(p,Ko,"1"),yield Eo(p,Ko),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,he.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var V=this;return(0,he.Z)(function*(){return V._withPendingWrite((0,he.Z)(function*(){return yield V._withRetries(K=>Ts(K,p,C)),V.localCache[p]=C,V.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,he.Z)(function*(){const V=yield C._withRetries(K=>function Bu(w,d){return cs.apply(this,arguments)}(K,p));return C.localCache[p]=V,V})()}_remove(p){var C=this;return(0,he.Z)(function*(){return C._withPendingWrite((0,he.Z)(function*(){return yield C._withRetries(V=>Eo(V,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,he.Z)(function*(){const C=yield p._withRetries(Me=>{const tt=Is(Me,!1).getAll();return new xo(tt).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const V=[],K=new Set;for(const{fbase_key:Me,value:tt}of C)K.add(Me),JSON.stringify(p.localCache[Me])!==JSON.stringify(tt)&&(p.notifyListeners(Me,tt),V.push(Me));for(const Me of Object.keys(p.localCache))p.localCache[Me]&&!K.has(Me)&&(p.notifyListeners(Me,null),V.push(Me));return V})()}notifyListeners(p,C){this.localCache[p]=C;const V=this.listeners[p];if(V)for(const K of Array.from(V))K(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,he.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();xn("rcb"),new ve(3e4,6e4);class S extends Ti{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ki(d,this._buildIdpRequest())}_linkToIdToken(d,p){return ki(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return ki(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function N(w){return mo(w.auth,new S(w),w.bypassAuthState)}function j(w){const{auth:d,user:p}=w;return $e(p,d,"internal-error"),ui(p,new S(w),w.bypassAuthState)}function W(w){return Se.apply(this,arguments)}function Se(){return(Se=(0,he.Z)(function*(w){const{auth:d,user:p}=w;return $e(p,d,"internal-error"),Ci(p,new S(w),w.bypassAuthState)})).apply(this,arguments)}class dt{constructor(d,p,C,V,K=!1){this.auth=d,this.resolver=C,this.user=V,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,he.Z)(function*(C,V){d.pendingPromise={resolve:C,reject:V};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(K){d.reject(K)}});return function(C,V){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,he.Z)(function*(){const{urlResponse:C,sessionId:V,postBody:K,tenantId:Me,error:tt,type:jt}=d;if(tt)return void p.reject(tt);const rn={auth:p.auth,requestUri:C,sessionId:V,tenantId:Me||void 0,postBody:K||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(jt)(rn))}catch(vn){p.reject(vn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return N;case"linkViaPopup":case"linkViaRedirect":return W;case"reauthViaPopup":case"reauthViaRedirect":return j;default:Tt(this.auth,"internal-error")}}resolve(d){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ve(2e3,1e4);const Hu="pendingRedirect",ii=new Map;class li extends dt{constructor(d,p,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,he.Z)(function*(){let C=ii.get(p.auth._key());if(!C){try{const K=(yield function El(w,d){return No.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;C=()=>Promise.resolve(K)}catch(V){C=()=>Promise.reject(V)}ii.set(p.auth._key(),C)}return p.bypassAuthState||ii.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,C=this;return(0,he.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(C,d);if("unknown"!==d.type){if(d.eventId){const V=yield C.auth._redirectUserForId(d.eventId);if(V)return C.user=V,p().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,he.Z)(function*(){})()}cleanUp(){}}function No(){return(No=(0,he.Z)(function*(w,d){const p=function Io(w){return Re(Hu,w.config.apiKey,w.name)}(d),C=function eu(w){return te(w._redirectPersistence)}(w);if(!(yield C._isAvailable()))return!1;const V="true"===(yield C._get(p));return yield C._remove(p),V})).apply(this,arguments)}function Xi(w,d){ii.set(w._key(),d)}function Eu(w,d){return ia.apply(this,arguments)}function ia(){return(ia=(0,he.Z)(function*(w,d,p=!1){const C=ie(w),V=function g(w,d){return d?te(d):($e(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}(C,d),Me=yield new li(C,V,p).execute();return Me&&!p&&(delete Me.user._redirectEventId,yield C._persistUserIfCurrent(Me.user),yield C._setRedirectUser(null,d)),Me})).apply(this,arguments)}class uc{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(p=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function wu(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gu(w);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var C;if(d.error&&!Gu(d)){const V=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(at(this.auth,V))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const C=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ko(d))}saveEventToCache(d){this.cachedEventUids.add(ko(d)),this.lastProcessedEventTime=Date.now()}}function ko(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(d=>d).join("-")}function Gu({type:w,error:d}){return"unknown"===w&&"auth/no-auth-event"===d?.code}function Wu(){return(Wu=(0,he.Z)(function*(w,d={}){return Pt(w,"GET","/v1/projects",d)})).apply(this,arguments)}const qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tu=/^https?/;function ad(){return ad=(0,he.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:d}=yield function Iu(w){return Wu.apply(this,arguments)}(w);for(const p of d)try{if(ah(p))return}catch{}Tt(w,"unauthorized-domain")}),ad.apply(this,arguments)}function ah(w){const d=nr(),{protocol:p,hostname:C}=new URL(d);if(w.startsWith("chrome-extension://")){const Me=new URL(w);return""===Me.hostname&&""===C?"chrome-extension:"===p&&w.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Me.hostname===C}if(!Tu.test(p))return!1;if(qu.test(w))return C===w;const V=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+V+"|"+V+")$","i").test(C)}const kc=new ve(3e4,6e4);function Ku(){const w=Xt().___jsl;if(w?.H)for(const d of Object.keys(w.H))if(w.H[d].r=w.H[d].r||[],w.H[d].L=w.H[d].L||[],w.H[d].r=[...w.H[d].L],w.CP)for(let p=0;p<w.CP.length;p++)w.CP[p]=null}let iu=null;const bs=new ve(5e3,15e3),$a="__/auth/iframe",wl="emulator/auth/iframe",Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ud=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fc(w){const d=w.config;$e(d.authDomain,w,"auth-domain-config-required");const p=d.emulator?qe(d,wl):`https://${w.config.authDomain}/${$a}`,C={apiKey:d.apiKey,appName:w.name,v:Ae.Jn},V=ud.get(w.config.apiHost);V&&(C.eid=V);const K=w._getFrameworks();return K.length&&(C.fw=K.join(",")),`${p}?${(0,Ce.xO)(C).slice(1)}`}function Gr(){return Gr=(0,he.Z)(function*(w){const d=yield function di(w){return iu=iu||function Si(w){return new Promise((d,p)=>{var C,V,K;function Me(){Ku(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Ku(),p(at(w,"network-request-failed"))},timeout:kc.get()})}if(null!==(V=null===(C=Xt().gapi)||void 0===C?void 0:C.iframes)&&void 0!==V&&V.Iframe)d(gapi.iframes.getContext());else{if(null===(K=Xt().gapi)||void 0===K||!K.load){const tt=xn("iframefcb");return Xt()[tt]=()=>{gapi.load?Me():p(at(w,"network-request-failed"))},ts(`https://apis.google.com/js/api.js?onload=${tt}`).catch(jt=>p(jt))}Me()}}).catch(d=>{throw iu=null,d})}(w),iu}(w),p=Xt().gapi;return $e(p,w,"internal-error"),d.open({where:document.body,url:Fc(w),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},C=>new Promise(function(){var V=(0,he.Z)(function*(K,Me){yield C.restyle({setHideOnLeave:!1});const tt=at(w,"network-request-failed"),jt=Xt().setTimeout(()=>{Me(tt)},bs.get());function rn(){Xt().clearTimeout(jt),K(C)}C.ping(rn).then(rn,()=>{Me(tt)})});return function(K,Me){return V.apply(this,arguments)}}()))}),Gr.apply(this,arguments)}const Du={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cc=500,I=600,M="_blank",k="http://localhost";class J{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Je="__/auth/handler",en="emulator/auth/handler",Qt=encodeURIComponent("fac");function En(w,d,p,C,V,K){return zn.apply(this,arguments)}function zn(){return(zn=(0,he.Z)(function*(w,d,p,C,V,K){$e(w.config.authDomain,w,"auth-domain-config-required"),$e(w.config.apiKey,w,"invalid-api-key");const Me={apiKey:w.config.apiKey,appName:w.name,authType:p,redirectUrl:C,v:Ae.Jn,eventId:V};if(d instanceof rs){d.setDefaultLanguage(w.languageCode),Me.providerId=d.providerId||"",(0,Ce.xb)(d.getCustomParameters())||(Me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[vn,mr]of Object.entries(K||{}))Me[vn]=mr}if(d instanceof fa){const vn=d.getScopes().filter(mr=>""!==mr);vn.length>0&&(Me.scopes=vn.join(","))}w.tenantId&&(Me.tid=w.tenantId);const tt=Me;for(const vn of Object.keys(tt))void 0===tt[vn]&&delete tt[vn];const jt=yield w._getAppCheckToken(),rn=jt?`#${Qt}=${encodeURIComponent(jt)}`:"";return`${function qn({config:w}){return w.emulator?qe(w,en):`https://${w.authDomain}/${Je}`}(w)}?${(0,Ce.xO)(tt).slice(1)}${rn}`})).apply(this,arguments)}const ro="webStorageSupport",lc=class fs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fu,this._completeRedirectFn=Eu,this._overrideRedirectResult=Xi}_openPopup(d,p,C,V){var K=this;return(0,he.Z)(function*(){var Me;Jt(null===(Me=K.eventManagers[d._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const tt=yield En(d,p,C,nr(),V);return function Ee(w,d,p,C=cc,V=I){const K=Math.max((window.screen.availHeight-V)/2,0).toString(),Me=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const jt=Object.assign(Object.assign({},Du),{width:C.toString(),height:V.toString(),top:K,left:Me}),rn=(0,Ce.z$)().toLowerCase();p&&(tt=pe(rn)?M:p),ae(rn)&&(d=d||k,jt.scrollbars="yes");const vn=Object.entries(jt).reduce((so,[lu,pc])=>`${so}${lu}=${pc},`,"");if(function Ke(w=(0,Ce.z$)()){var d;return kn(w)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(rn)&&"_self"!==tt)return function Ne(w,d){const p=document.createElement("a");p.href=w,p.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(d||"",tt),new J(null);const mr=window.open(d||"",tt,vn);$e(mr,w,"popup-blocked");try{mr.focus()}catch{}return new J(mr)}(d,tt,Hs())})()}_openRedirect(d,p,C,V){var K=this;return(0,he.Z)(function*(){return yield K._originValidation(d),function Zo(w){Xt().location.href=w}(yield En(d,p,C,nr(),V)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:V,promise:K}=this.eventManagers[p];return V?Promise.resolve(V):(Jt(K,"If manager is not set, promise should be"),K)}const C=this.initAndGetManager(d);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(d){var p=this;return(0,he.Z)(function*(){const C=yield function Cr(w){return Gr.apply(this,arguments)}(d),V=new uc(d);return C.register("authEvent",K=>($e(K?.authEvent,d,"invalid-auth-event"),{status:V.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:V},p.iframes[d._key()]=C,V})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(ro,{type:ro},V=>{var K;const Me=null===(K=V?.[0])||void 0===K?void 0:K[ro];void 0!==Me&&p(!!Me),Tt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function oh(w){return ad.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ie()||Q()||kn()}};var ja="@firebase/auth";class bu{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,he.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Lc=(0,Ce.Pz)("authIdTokenMaxAge")||300;let au=null;const To=w=>function(){var d=(0,he.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),V=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(V&&V>Lc)return;const K=C?.token;au!==K&&(au=K,yield fetch(w,{method:K?"POST":"DELETE",headers:K?{Authorization:`Bearer ${K}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Uc(w=(0,Ae.Mq)()){const d=(0,Ae.qX)(w,"auth");if(d.isInitialized())return d.getImmediate();const p=function xe(w,d){const p=(0,Ae.qX)(w,"auth");if(p.isInitialized()){const V=p.getImmediate(),K=p.getOptions();if((0,Ce.vZ)(K,d??{}))return V;Tt(V,"already-initialized")}return p.initialize({options:d})}(w,{popupRedirectResolver:lc,persistence:[ai,Ra,Fu]}),C=(0,Ce.Pz)("authTokenSyncURL");if(C){const K=To(C);(function Ht(w,d,p){(0,Ce.m9)(w).beforeAuthStateChanged(d,p)})(p,K,()=>K(p.currentUser)),function ut(w,d,p,C){(0,Ce.m9)(w).onIdTokenChanged(d,p,C)}(p,Me=>K(Me))}const V=(0,Ce.q4)("auth");return V&&function Ct(w,d,p){const C=ie(w);$e(C._canInitEmulator,C,"emulator-config-failed"),$e(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const V=!!p?.disableWarnings,K=on(d),{host:Me,port:tt}=function Bn(w){const d=on(w),p=/(\/\/)?([^?#/]+)/.exec(w.substr(d.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",V=/^(\[[^\]]+\])(:|$)/.exec(C);if(V){const K=V[1];return{host:K,port:wn(C.substr(K.length+1))}}{const[K,Me]=C.split(":");return{host:K,port:wn(Me)}}}(d);C.config.emulator={url:`${K}//${Me}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Me,port:tt,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:V})}),V||function gr(){function w(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(p,`http://${V}`),p}!function Tl(w){(0,Ae.Xd)(new me.wA("auth",(d,{options:p})=>{const C=d.getProvider("app").getImmediate(),V=d.getProvider("heartbeat"),K=d.getProvider("app-check-internal"),{apiKey:Me,authDomain:tt}=C.options;$e(Me&&!Me.includes(":"),"invalid-api-key",{appName:C.name});const jt={apiKey:Me,authDomain:tt,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bt(w)},rn=new ns(C,V,K,jt);return function it(w,d){const p=d?.persistence||[],C=(Array.isArray(p)?p:[p]).map(te);d?.errorMap&&w._updateErrorMap(d.errorMap),w._initializeWithPersistence(C,d?.popupRedirectResolver)}(rn,p),rn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,C)=>{d.getProvider("auth-internal").initialize()})),(0,Ae.Xd)(new me.wA("auth-internal",d=>{const p=ie(d.getProvider("auth").getImmediate());return new bu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ae.KN)(ja,"0.23.2",function Il(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ae.KN)(ja,"0.23.2","esm2017")}("Browser");class Cu{constructor(d){return d}}class dd{constructor(){return(0,T.vb)("auth")}}const Yu=new z.OlP("angularfire2.auth-instances");function hd(w){return(d,p)=>{const C=d.runOutsideAngular(()=>w(p));return new Cu(C)}}const fd={provide:dd,deps:[[new z.FiY,Yu]]},Ha={provide:Cu,useFactory:function ch(w,d){const p=(0,T.JM)("auth",w,d);return p&&new Cu(p)},deps:[[new z.FiY,Yu],X.Ot]};let pd=(()=>{class w{constructor(){(0,Oe.KN)("angularfire",T.q4.full,"auth")}}return w.\u0275fac=function(p){return new(p||w)},w.\u0275mod=z.oAB({type:w}),w.\u0275inj=z.cJS({providers:[Ha,fd]}),w})();function Bo(w,...d){return{ngModule:pd,providers:[{provide:Yu,useFactory:hd(w),multi:!0,deps:[z.R0b,z.zs3,T.HU,X.z6,[new z.FiY,be.nm],...d]}]}}const ir=(0,T.u3)(ga,!0),md=(0,T.u3)(Uc,!0),zc=(0,T.u3)(zr,!0),cu=(0,T.u3)(Rt,!0)},3562:(Dn,Et,Z)=>{Z.d(Et,{gg:()=>On,hJ:()=>ni,BS:()=>sn,JU:()=>Mn,ad:()=>Zn,Xo:()=>te,Cm:()=>Te,IO:()=>ge,pl:()=>ae,r7:()=>un,ar:()=>Fr});var T=Z(3530),z=Z(8256),X=Z(2309),Oe=Z(3692),be=Z(259),he=Z(2313),Ce=Z(7396),Ae=Z(9751),vt=Z(4004),ne=function(){return ne=Object.assign||function(Ie){for(var ft,bt=1,gn=arguments.length;bt<gn;bt++)for(var mn in ft=arguments[bt])Object.prototype.hasOwnProperty.call(ft,mn)&&(Ie[mn]=ft[mn]);return Ie},ne.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Ze={includeMetadataChanges:!1};function qt(de,Ie){return void 0===Ie&&(Ie={}),function Tt(de){return function rt(de,Ie){return void 0===Ie&&(Ie=Ze),new Ae.y(function(ft){return{unsubscribe:(0,Ce.cf)(de,Ie,{next:ft.next.bind(ft),error:ft.error.bind(ft),complete:ft.complete.bind(ft)})}})}(de,{includeMetadataChanges:!0}).pipe((0,vt.U)(function(Ie){return Ie.docs}))}(de).pipe((0,vt.U)(function(ft){return ft.map(function(bt){return function Zt(de,Ie){var ft;void 0===Ie&&(Ie={});var bt=de.data(Ie);return de.exists()&&"object"==typeof bt&&null!==bt&&Ie.idField?ne(ne({},bt),((ft={})[Ie.idField]=de.id,ft)):bt}(bt,Ie)})}))}class On{constructor(Ie){return Ie}}const Jt="firestore",He=new z.OlP("angularfire2.firestore-instances");function Xe(de){return(Ie,ft)=>{const bt=Ie.runOutsideAngular(()=>de(ft));return new On(bt)}}const ve={provide:class nr{constructor(){return(0,T.vb)(Jt)}},deps:[[new z.FiY,He]]},qe={provide:On,useFactory:function Ue(de,Ie){const ft=(0,T.JM)(Jt,de,Ie);return ft&&new On(ft)},deps:[[new z.FiY,He],Oe.Ot]};let ue=(()=>{class de{constructor(){(0,be.KN)("angularfire",T.q4.full,"fst")}}return de.\u0275fac=function(ft){return new(ft||de)},de.\u0275mod=z.oAB({type:de}),de.\u0275inj=z.cJS({providers:[qe,ve]}),de})();function Te(de,...Ie){return{ngModule:ue,providers:[{provide:He,useFactory:Xe(de),multi:!0,deps:[z.R0b,z.zs3,T.HU,Oe.z6,[new z.FiY,X.dh],[new z.FiY,he.nm],...Ie]}]}}const sn=(0,T.u3)(qt,!0),ni=(0,T.u3)(Ce.hJ,!0),Mn=(0,T.u3)(Ce.JU,!0),Zn=(0,T.u3)(Ce.ad,!0),te=(0,T.u3)(Ce.Xo,!0),ge=(0,T.u3)(Ce.IO,!0),ae=(0,T.u3)(Ce.pl,!0),un=(0,T.u3)(Ce.r7,!0),Fr=(0,T.u3)(Ce.ar,!0)},3530:(Dn,Et,Z)=>{Z.d(Et,{q4:()=>uc,HU:()=>bs,vb:()=>Ku,JM:()=>kc,u3:()=>cc});var T=Z(8256),z=Z(259),X=Z(5861),Oe=Z(6881),be=Z(2090),he=Z(4859),Ce=Z(1877);const Ae=(I,M)=>M.some(k=>I instanceof k);let vt,ne;const rt=new WeakMap,Ye=new WeakMap,Ot=new WeakMap,Zt=new WeakMap,fn=new WeakMap;let Dt={get(I,M,k){if(I instanceof IDBTransaction){if("done"===M)return Ye.get(I);if("objectStoreNames"===M)return I.objectStoreNames||Ot.get(I);if("store"===M)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return At(I[M])},set:(I,M,k)=>(I[M]=k,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function ot(I){return"function"==typeof I?function Pe(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(ct(this),M),At(rt.get(this))}:function(...M){return At(I.apply(ct(this),M))}:function(M,...k){const J=I.call(ct(this),M,...k);return Ot.set(J,M.sort?M.sort():[M]),At(J)}}(I):(I instanceof IDBTransaction&&function Sn(I){if(Ye.has(I))return;const M=new Promise((k,J)=>{const Ee=()=>{I.removeEventListener("complete",Ne),I.removeEventListener("error",Je),I.removeEventListener("abort",Je)},Ne=()=>{k(),Ee()},Je=()=>{J(I.error||new DOMException("AbortError","AbortError")),Ee()};I.addEventListener("complete",Ne),I.addEventListener("error",Je),I.addEventListener("abort",Je)});Ye.set(I,M)}(I),Ae(I,function me(){return vt||(vt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Dt):I)}function At(I){if(I instanceof IDBRequest)return function Ft(I){const M=new Promise((k,J)=>{const Ee=()=>{I.removeEventListener("success",Ne),I.removeEventListener("error",Je)},Ne=()=>{k(At(I.result)),Ee()},Je=()=>{J(I.error),Ee()};I.addEventListener("success",Ne),I.addEventListener("error",Je)});return M.then(k=>{k instanceof IDBCursor&&rt.set(k,I)}).catch(()=>{}),fn.set(M,I),M}(I);if(Zt.has(I))return Zt.get(I);const M=ot(I);return M!==I&&(Zt.set(I,M),fn.set(M,I)),M}const ct=I=>fn.get(I),Wt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],pn=new Map;function $e(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(pn.get(M))return pn.get(M);const k=M.replace(/FromIndex$/,""),J=M!==k,Ee=qt.includes(k);if(!(k in(J?IDBIndex:IDBObjectStore).prototype)||!Ee&&!Wt.includes(k))return;const Ne=function(){var Je=(0,X.Z)(function*(en,...Qt){const En=this.transaction(en,Ee?"readwrite":"readonly");let zn=En.store;return J&&(zn=zn.index(Qt.shift())),(yield Promise.all([zn[k](...Qt),Ee&&En.done]))[0]});return function(Qt){return Je.apply(this,arguments)}}();return pn.set(M,Ne),Ne}!function Qe(I){Dt=I(Dt)}(I=>({...I,get:(M,k,J)=>$e(M,k)||I.get(M,k,J),has:(M,k)=>!!$e(M,k)||I.has(M,k)}));const On="@firebase/installations",Jt="0.6.4",nr=1e4,Qr=`w:${Jt}`,He="FIS_v2",Ue="https://firebaseinstallations.googleapis.com/v1",Xe=36e5,Te=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(I){return I instanceof be.ZR&&I.code.includes("request-failed")}function It({projectId:I}){return`${Ue}/projects/${I}/installations`}function Pt(I){return{token:I.token,requestStatus:2,expiresIn:Rr(I.expiresIn),creationTime:Date.now()}}function _n(I,M){return sn.apply(this,arguments)}function sn(){return(sn=(0,X.Z)(function*(I,M){const J=(yield M.json()).error;return Te.create("request-failed",{requestName:I,serverCode:J.code,serverMessage:J.message,serverStatus:J.status})})).apply(this,arguments)}function Qn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Er(I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,X.Z)(function*(I){const M=yield I();return M.status>=500&&M.status<600?I():M})).apply(this,arguments)}function Rr(I){return Number(I.replace("s","000"))}function hr(){return(hr=(0,X.Z)(function*({appConfig:I,heartbeatServiceProvider:M},{fid:k}){const J=It(I),Ee=Qn(I),Ne=M.getImmediate({optional:!0});if(Ne){const En=yield Ne.getHeartbeatsHeader();En&&Ee.append("x-firebase-client",En)}const en={method:"POST",headers:Ee,body:JSON.stringify({fid:k,authVersion:He,appId:I.appId,sdkVersion:Qr})},Qt=yield Er(()=>fetch(J,en));if(Qt.ok){const En=yield Qt.json();return{fid:En.fid||k,registrationStatus:2,refreshToken:En.refreshToken,authToken:Pt(En.authToken)}}throw yield _n("Create Installation",Qt)})).apply(this,arguments)}function ni(I){return new Promise(M=>{setTimeout(M,I)})}const hi=/^[cdef][\w-]{21}$/,rr="";function fr(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function ri(I){return function Wr(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return hi.test(k)?k:rr}catch{return rr}}function Mn(I){return`${I.appName}!${I.appId}`}const yt=new Map;function Vt(I,M){const k=Mn(I);Gn(k,M),function Jr(I,M){const k=function mi(){return!Rn&&"BroadcastChannel"in self&&(Rn=new BroadcastChannel("[Firebase] FID Change"),Rn.onmessage=I=>{Gn(I.data.key,I.data.fid)}),Rn}();k&&k.postMessage({key:I,fid:M}),function sr(){0===yt.size&&Rn&&(Rn.close(),Rn=null)}()}(k,M)}function Gn(I,M){const k=yt.get(I);if(k)for(const J of k)J(M)}let Rn=null;const yi="firebase-installations-database",Ln=1,pr="firebase-installations-store";let Zn=null;function fi(){return Zn||(Zn=function Tt(I,M,{blocked:k,upgrade:J,blocking:Ee,terminated:Ne}={}){const Je=indexedDB.open(I,M),en=At(Je);return J&&Je.addEventListener("upgradeneeded",Qt=>{J(At(Je.result),Qt.oldVersion,Qt.newVersion,At(Je.transaction))}),k&&Je.addEventListener("blocked",()=>k()),en.then(Qt=>{Ne&&Qt.addEventListener("close",()=>Ne()),Ee&&Qt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),en}(yi,Ln,{upgrade:(I,M)=>{0===M&&I.createObjectStore(pr)}})),Zn}function kr(I,M){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,X.Z)(function*(I,M){const k=Mn(I),Ee=(yield fi()).transaction(pr,"readwrite"),Ne=Ee.objectStore(pr),Je=yield Ne.get(k);return yield Ne.put(M,k),yield Ee.done,(!Je||Je.fid!==M.fid)&&Vt(I,M.fid),M})).apply(this,arguments)}function fe(I){return we.apply(this,arguments)}function we(){return(we=(0,X.Z)(function*(I){const M=Mn(I),J=(yield fi()).transaction(pr,"readwrite");yield J.objectStore(pr).delete(M),yield J.done})).apply(this,arguments)}function ht(I,M){return lt.apply(this,arguments)}function lt(){return(lt=(0,X.Z)(function*(I,M){const k=Mn(I),Ee=(yield fi()).transaction(pr,"readwrite"),Ne=Ee.objectStore(pr),Je=yield Ne.get(k),en=M(Je);return void 0===en?yield Ne.delete(k):yield Ne.put(en,k),yield Ee.done,en&&(!Je||Je.fid!==en.fid)&&Vt(I,en.fid),en})).apply(this,arguments)}function ee(I){return te.apply(this,arguments)}function te(){return te=(0,X.Z)(function*(I){let M;const k=yield ht(I.appConfig,J=>{const Ee=function ge(I){return pe(I||{fid:fr(),registrationStatus:0})}(J),Ne=function ke(I,M){if(0===M.registrationStatus){if(!navigator.onLine)return{installationEntry:M,registrationPromise:Promise.reject(Te.create("app-offline"))};const k={fid:M.fid,registrationStatus:1,registrationTime:Date.now()},J=function Re(I,M){return Nt.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:J}}return 1===M.registrationStatus?{installationEntry:M,registrationPromise:ye(I)}:{installationEntry:M}}(I,Ee);return M=Ne.registrationPromise,Ne.installationEntry});return k.fid===rr?{installationEntry:yield M}:{installationEntry:k,registrationPromise:M}}),te.apply(this,arguments)}function Nt(){return Nt=(0,X.Z)(function*(I,M){try{const k=yield function Yt(I,M){return hr.apply(this,arguments)}(I,M);return kr(I.appConfig,k)}catch(k){throw nt(k)&&409===k.customData.serverCode?yield fe(I.appConfig):yield kr(I.appConfig,{fid:M.fid,registrationStatus:0}),k}}),Nt.apply(this,arguments)}function ye(I){return ae.apply(this,arguments)}function ae(){return(ae=(0,X.Z)(function*(I){let M=yield Q(I.appConfig);for(;1===M.registrationStatus;)yield ni(100),M=yield Q(I.appConfig);if(0===M.registrationStatus){const{installationEntry:k,registrationPromise:J}=yield ee(I);return J||k}return M})).apply(this,arguments)}function Q(I){return ht(I,M=>{if(!M)throw Te.create("installation-not-found");return pe(M)})}function pe(I){return function et(I){return 1===I.registrationStatus&&I.registrationTime+nr<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function $t(){return($t=(0,X.Z)(function*({appConfig:I,heartbeatServiceProvider:M},k){const J=function un(I,{fid:M}){return`${It(I)}/${M}/authTokens:generate`}(I,k),Ee=function Hn(I,{refreshToken:M}){const k=Qn(I);return k.append("Authorization",function wr(I){return`${He} ${I}`}(M)),k}(I,k),Ne=M.getImmediate({optional:!0});if(Ne){const En=yield Ne.getHeartbeatsHeader();En&&Ee.append("x-firebase-client",En)}const en={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:Qr,appId:I.appId}})},Qt=yield Er(()=>fetch(J,en));if(Qt.ok)return Pt(yield Qt.json());throw yield _n("Generate Auth Token",Qt)})).apply(this,arguments)}function kn(I){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,X.Z)(function*(I,M=!1){let k;const J=yield ht(I.appConfig,Ne=>{if(!gn(Ne))throw Te.create("not-registered");const Je=Ne.authToken;if(!M&&function mn(I){return 2===I.requestStatus&&!function Sr(I){const M=Date.now();return M<I.creationTime||I.creationTime+I.expiresIn<M+Xe}(I)}(Je))return Ne;if(1===Je.requestStatus)return k=function Ke(I,M){return de.apply(this,arguments)}(I,M),Ne;{if(!navigator.onLine)throw Te.create("app-offline");const en=function or(I){const M={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:M})}(Ne);return k=function ft(I,M){return bt.apply(this,arguments)}(I,en),en}});return k?yield k:J.authToken}),Fr.apply(this,arguments)}function de(){return(de=(0,X.Z)(function*(I,M){let k=yield Ie(I.appConfig);for(;1===k.authToken.requestStatus;)yield ni(100),k=yield Ie(I.appConfig);const J=k.authToken;return 0===J.requestStatus?kn(I,M):J})).apply(this,arguments)}function Ie(I){return ht(I,M=>{if(!gn(M))throw Te.create("not-registered");return function Xr(I){return 1===I.requestStatus&&I.requestTime+nr<Date.now()}(M.authToken)?Object.assign(Object.assign({},M),{authToken:{requestStatus:0}}):M})}function bt(){return bt=(0,X.Z)(function*(I,M){try{const k=yield function gt(I,M){return $t.apply(this,arguments)}(I,M),J=Object.assign(Object.assign({},M),{authToken:k});return yield kr(I.appConfig,J),k}catch(k){if(!nt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const J=Object.assign(Object.assign({},M),{authToken:{requestStatus:0}});yield kr(I.appConfig,J)}else yield fe(I.appConfig);throw k}}),bt.apply(this,arguments)}function gn(I){return void 0!==I&&2===I.registrationStatus}function jr(){return(jr=(0,X.Z)(function*(I){const M=I,{installationEntry:k,registrationPromise:J}=yield ee(M);return J?J.catch(console.error):kn(M).catch(console.error),k.fid})).apply(this,arguments)}function ts(){return ts=(0,X.Z)(function*(I,M=!1){const k=I;return yield function xn(I){return Lr.apply(this,arguments)}(k),(yield kn(k,M)).token}),ts.apply(this,arguments)}function Lr(){return(Lr=(0,X.Z)(function*(I){const{registrationPromise:M}=yield ee(I);M&&(yield M)})).apply(this,arguments)}function oe(I){return Te.create("missing-app-config-values",{valueName:I})}const xe="installations",Ct=I=>{const M=I.getProvider("app").getImmediate(),k=function ie(I){if(!I||!I.options)throw oe("App Configuration");if(!I.name)throw oe("App Name");const M=["projectId","apiKey","appId"];for(const k of M)if(!I.options[k])throw oe(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(M);return{app:M,appConfig:k,heartbeatServiceProvider:(0,Oe.qX)(M,"heartbeat"),_delete:()=>Promise.resolve()}},on=I=>{const M=I.getProvider("app").getImmediate(),k=(0,Oe.qX)(M,xe).getImmediate();return{getId:()=>function Li(I){return jr.apply(this,arguments)}(k),getToken:Ee=>function vi(I){return ts.apply(this,arguments)}(k,Ee)}};(function Bn(){(0,Oe.Xd)(new he.wA(xe,Ct,"PUBLIC")),(0,Oe.Xd)(new he.wA("installations-internal",on,"PRIVATE"))})(),(0,Oe.KN)(On,Jt),(0,Oe.KN)(On,Jt,"esm2017");const wn="@firebase/remote-config",xr=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ls{constructor(M,k,J,Ee){this.client=M,this.storage=k,this.storageCache=J,this.logger=Ee}isCachedDataFresh(M,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const J=Date.now()-k,Ee=J<=M;return this.logger.debug(`Config fetch cache check. Cache age millis: ${J}. Cache max age millis (minimumFetchIntervalMillis setting): ${M}. Is cache hit: ${Ee}.`),Ee}fetch(M){var k=this;return(0,X.Z)(function*(){const[J,Ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Ee&&k.isCachedDataFresh(M.cacheMaxAgeMillis,J))return Ee;M.eTag=Ee&&Ee.eTag;const Ne=yield k.client.fetch(M),Je=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ne.status&&Je.push(k.storage.setLastSuccessfulFetchResponse(Ne)),yield Promise.all(Je),Ne})()}}function ki(I=navigator){return I.languages&&I.languages[0]||I.language}class Us{constructor(M,k,J,Ee,Ne,Je){this.firebaseInstallations=M,this.sdkVersion=k,this.namespace=J,this.projectId=Ee,this.apiKey=Ne,this.appId=Je}fetch(M){var k=this;return(0,X.Z)(function*(){const[J,Ee]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Je=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,en={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":M.eTag||"*"},Qt={sdk_version:k.sdkVersion,app_instance_id:J,app_instance_id_token:Ee,app_id:k.appId,language_code:ki()},En={method:"POST",headers:en,body:JSON.stringify(Qt)},zn=fetch(Je,En),qn=new Promise((io,Uo)=>{M.signal.addEventListener(()=>{const Ea=new Error("The operation was aborted.");Ea.name="AbortError",Uo(Ea)})});let ro;try{yield Promise.race([zn,qn]),ro=yield zn}catch(io){let Uo="fetch-client-network";throw"AbortError"===io?.name&&(Uo="fetch-timeout"),xr.create(Uo,{originalErrorMessage:io?.message})}let fs=ro.status;const lc=ro.headers.get("ETag")||void 0;let Zu,Lo;if(200===ro.status){let io;try{io=yield ro.json()}catch(Uo){throw xr.create("fetch-client-parse",{originalErrorMessage:Uo?.message})}Zu=io.entries,Lo=io.state}if("INSTANCE_STATE_UNSPECIFIED"===Lo?fs=500:"NO_CHANGE"===Lo?fs=304:("NO_TEMPLATE"===Lo||"EMPTY_CONFIG"===Lo)&&(Zu={}),304!==fs&&200!==fs)throw xr.create("fetch-status",{httpStatus:fs});return{status:fs,eTag:lc,config:Zu}})()}}class ho{constructor(M,k){this.client=M,this.storage=k}fetch(M){var k=this;return(0,X.Z)(function*(){const J=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(M,J)})()}attemptFetch(M,{throttleEndTimeMillis:k,backoffCount:J}){var Ee=this;return(0,X.Z)(function*(){yield function Wi(I,M){return new Promise((k,J)=>{const Ee=Math.max(M-Date.now(),0),Ne=setTimeout(k,Ee);I.addEventListener(()=>{clearTimeout(Ne),J(xr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(M.signal,k);try{const Ne=yield Ee.client.fetch(M);return yield Ee.storage.deleteThrottleMetadata(),Ne}catch(Ne){if(!function Bi(I){if(!(I instanceof be.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(Ne))throw Ne;const Je={throttleEndTimeMillis:Date.now()+(0,be.$s)(J),backoffCount:J+1};return yield Ee.storage.setThrottleMetadata(Je),Ee.attemptFetch(M,Je)}})()}}class Sa{constructor(M,k,J,Ee,Ne){this.app=M,this._client=k,this._storageCache=J,this._storage=Ee,this._logger=Ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Zs(I,M){const k=I.target.error||void 0;return xr.create(M,{originalErrorMessage:k&&k?.message})}const Rs="app_namespace_store";class Ys{constructor(M,k,J,Ee=function ha(){return new Promise((I,M)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=J=>{M(Zs(J,"storage-open"))},k.onsuccess=J=>{I(J.target.result)},k.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Rs,{keyPath:"compositeKey"})}}catch(k){M(xr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=M,this.appName=k,this.namespace=J,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(M){return this.set("last_fetch_status",M)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(M){return this.set("last_successful_fetch_timestamp_millis",M)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(M){return this.set("last_successful_fetch_response",M)}getActiveConfig(){return this.get("active_config")}setActiveConfig(M){return this.set("active_config",M)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(M){return this.set("active_config_etag",M)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(M){return this.set("throttle_metadata",M)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(M){var k=this;return(0,X.Z)(function*(){const J=yield k.openDbPromise;return new Promise((Ee,Ne)=>{const en=J.transaction([Rs],"readonly").objectStore(Rs),Qt=k.createCompositeKey(M);try{const En=en.get(Qt);En.onerror=zn=>{Ne(Zs(zn,"storage-get"))},En.onsuccess=zn=>{const qn=zn.target.result;Ee(qn?qn.value:void 0)}}catch(En){Ne(xr.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(M,k){var J=this;return(0,X.Z)(function*(){const Ee=yield J.openDbPromise;return new Promise((Ne,Je)=>{const Qt=Ee.transaction([Rs],"readwrite").objectStore(Rs),En=J.createCompositeKey(M);try{const zn=Qt.put({compositeKey:En,value:k});zn.onerror=qn=>{Je(Zs(qn,"storage-set"))},zn.onsuccess=()=>{Ne()}}catch(zn){Je(xr.create("storage-set",{originalErrorMessage:zn?.message}))}})})()}delete(M){var k=this;return(0,X.Z)(function*(){const J=yield k.openDbPromise;return new Promise((Ee,Ne)=>{const en=J.transaction([Rs],"readwrite").objectStore(Rs),Qt=k.createCompositeKey(M);try{const En=en.delete(Qt);En.onerror=zn=>{Ne(Zs(zn,"storage-delete"))},En.onsuccess=()=>{Ee()}}catch(En){Ne(xr.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(M){return[this.appId,this.appName,this.namespace,M].join()}}class fu{constructor(M){this.storage=M}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var M=this;return(0,X.Z)(function*(){const k=M.storage.getLastFetchStatus(),J=M.storage.getLastSuccessfulFetchTimestampMillis(),Ee=M.storage.getActiveConfig(),Ne=yield k;Ne&&(M.lastFetchStatus=Ne);const Je=yield J;Je&&(M.lastSuccessfulFetchTimestampMillis=Je);const en=yield Ee;en&&(M.activeConfig=en)})()}setLastFetchStatus(M){return this.lastFetchStatus=M,this.storage.setLastFetchStatus(M)}setLastSuccessfulFetchTimestampMillis(M){return this.lastSuccessfulFetchTimestampMillis=M,this.storage.setLastSuccessfulFetchTimestampMillis(M)}setActiveConfig(M){return this.activeConfig=M,this.storage.setActiveConfig(M)}}function Qs(){return rs.apply(this,arguments)}function rs(){return(rs=(0,X.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Aa(){(0,Oe.Xd)(new he.wA("remote-config",function I(M,{instanceIdentifier:k}){const J=M.getProvider("app").getImmediate(),Ee=M.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw xr.create("registration-window");if(!(0,be.hl)())throw xr.create("indexed-db-unavailable");const{projectId:Ne,apiKey:Je,appId:en}=J.options;if(!Ne)throw xr.create("registration-project-id");if(!Je)throw xr.create("registration-api-key");if(!en)throw xr.create("registration-app-id");const Qt=new Ys(en,J.name,k=k||"firebase"),En=new fu(Qt),zn=new Ce.Yd(wn);zn.logLevel=Ce.in.ERROR;const qn=new Us(Ee,Oe.Jn,k,Ne,Je,en),ro=new ho(qn,Qt),fs=new Ls(ro,Qt,En,zn),lc=new Sa(J,fs,En,Qt,zn);return function Ca(I){const M=(0,be.m9)(I);M._initializePromise||(M._initializePromise=M._storageCache.loadFromStorage().then(()=>{M._isInitializationComplete=!0}))}(lc),lc},"PUBLIC").setMultipleInstances(!0)),(0,Oe.KN)(wn,"0.4.4"),(0,Oe.KN)(wn,"0.4.4","esm2017")}();const fa=(I,M)=>M.some(k=>I instanceof k);let fo,qa;const xi=new WeakMap,bi=new WeakMap,qi=new WeakMap,is=new WeakMap,Ho=new WeakMap;let Pi={get(I,M,k){if(I instanceof IDBTransaction){if("done"===M)return bi.get(I);if("objectStoreNames"===M)return I.objectStoreNames||qi.get(I);if("store"===M)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return ss(I[M])},set:(I,M,k)=>(I[M]=k,!0),has:(I,M)=>I instanceof IDBTransaction&&("done"===M||"store"===M)||M in I};function Zi(I){return"function"==typeof I?function pa(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function po(){return qa||(qa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...M){return I.apply(zo(this),M),ss(xi.get(this))}:function(...M){return ss(I.apply(zo(this),M))}:function(M,...k){const J=I.call(zo(this),M,...k);return qi.set(J,M.sort?M.sort():[M]),ss(J)}}(I):(I instanceof IDBTransaction&&function Ki(I){if(bi.has(I))return;const M=new Promise((k,J)=>{const Ee=()=>{I.removeEventListener("complete",Ne),I.removeEventListener("error",Je),I.removeEventListener("abort",Je)},Ne=()=>{k(),Ee()},Je=()=>{J(I.error||new DOMException("AbortError","AbortError")),Ee()};I.addEventListener("complete",Ne),I.addEventListener("error",Je),I.addEventListener("abort",Je)});bi.set(I,M)}(I),fa(I,function pu(){return fo||(fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Pi):I)}function ss(I){if(I instanceof IDBRequest)return function Bs(I){const M=new Promise((k,J)=>{const Ee=()=>{I.removeEventListener("success",Ne),I.removeEventListener("error",Je)},Ne=()=>{k(ss(I.result)),Ee()},Je=()=>{J(I.error),Ee()};I.addEventListener("success",Ne),I.addEventListener("error",Je)});return M.then(k=>{k instanceof IDBCursor&&xi.set(k,I)}).catch(()=>{}),Ho.set(M,I),M}(I);if(is.has(I))return is.get(I);const M=Zi(I);return M!==I&&(is.set(I,M),Ho.set(M,I)),M}const zo=I=>Ho.get(I);function ei(I,M,{blocked:k,upgrade:J,blocking:Ee,terminated:Ne}={}){const Je=indexedDB.open(I,M),en=ss(Je);return J&&Je.addEventListener("upgradeneeded",Qt=>{J(ss(Je.result),Qt.oldVersion,Qt.newVersion,ss(Je.transaction))}),k&&Je.addEventListener("blocked",()=>k()),en.then(Qt=>{Ne&&Qt.addEventListener("close",()=>Ne()),Ee&&Qt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),en}function Vi(I,{blocked:M}={}){const k=indexedDB.deleteDatabase(I);return M&&k.addEventListener("blocked",()=>M()),ss(k).then(()=>{})}const os=["get","getKey","getAll","getAllKeys","count"],Ci=["put","add","delete","clear"],Js=new Map;function Ur(I,M){if(!(I instanceof IDBDatabase)||M in I||"string"!=typeof M)return;if(Js.get(M))return Js.get(M);const k=M.replace(/FromIndex$/,""),J=M!==k,Ee=Ci.includes(k);if(!(k in(J?IDBIndex:IDBObjectStore).prototype)||!Ee&&!os.includes(k))return;const Ne=function(){var Je=(0,X.Z)(function*(en,...Qt){const En=this.transaction(en,Ee?"readwrite":"readonly");let zn=En.store;return J&&(zn=zn.index(Qt.shift())),(yield Promise.all([zn[k](...Qt),Ee&&En.done]))[0]});return function(Qt){return Je.apply(this,arguments)}}();return Js.set(M,Ne),Ne}!function Ar(I){Pi=I(Pi)}(I=>({...I,get:(M,k,J)=>Ur(M,k)||I.get(M,k,J),has:(M,k)=>!!Ur(M,k)||I.has(M,k)}));const xs="/firebase-messaging-sw.js",ui="/firebase-cloud-messaging-push-scope",go="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="https://fcmregistrations.googleapis.com/v1",Vs="google.c.a.c_id",Ni="google.c.a.c_l",Mo="google.c.a.ts",Ro="google.c.a.e";var ur=(()=>{return(I=ur||(ur={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ur;var I})();function $s(I){const M=new Uint8Array(I);return btoa(String.fromCharCode(...M)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ka(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),J=atob(k),Ee=new Uint8Array(J.length);for(let Ne=0;Ne<J.length;++Ne)Ee[Ne]=J.charCodeAt(Ne);return Ee}const as="fcm_token_details_db",Go=5,Xs="fcm_token_object_Store";function yo(){return yo=(0,X.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ne=>Ne.name).includes(as))return null;let M=null;return(yield ei(as,Go,{upgrade:(J=(0,X.Z)(function*(Ee,Ne,Je,en){var Qt;if(Ne<2||!Ee.objectStoreNames.contains(Xs))return;const En=en.objectStore(Xs),zn=yield En.index("fcmSenderId").get(I);if(yield En.clear(),zn)if(2===Ne){const qn=zn;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;M={token:qn.fcmToken,createTime:null!==(Qt=qn.createTime)&&void 0!==Qt?Qt:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:$s(qn.vapidKey)}}}else if(3===Ne){const qn=zn;M={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:$s(qn.auth),p256dh:$s(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:$s(qn.vapidKey)}}}else if(4===Ne){const qn=zn;M={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:$s(qn.auth),p256dh:$s(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:$s(qn.vapidKey)}}}}),function(Ne,Je,en,Qt){return J.apply(this,arguments)})})).close(),yield Vi(as),yield Vi("fcm_vapid_details_db"),yield Vi("undefined"),function wt(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:M}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof M.auth&&M.auth.length>0&&"string"==typeof M.p256dh&&M.p256dh.length>0&&"string"==typeof M.endpoint&&M.endpoint.length>0&&"string"==typeof M.swScope&&M.swScope.length>0&&"string"==typeof M.vapidKey&&M.vapidKey.length>0}(M)?M:null;var J}),yo.apply(this,arguments)}const Wn="firebase-messaging-database",Za=1,_s="firebase-messaging-store";let qr=null;function js(){return qr||(qr=ei(Wn,Za,{upgrade:(I,M)=>{0===M&&I.createObjectStore(_s)}})),qr}function Es(I){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,X.Z)(function*(I){const M=ga(I),J=yield(yield js()).transaction(_s).objectStore(_s).get(M);if(J)return J;{const Ee=yield function Wo(I){return yo.apply(this,arguments)}(I.appConfig.senderId);if(Ee)return yield vo(I,Ee),Ee}}),Hr.apply(this,arguments)}function vo(I,M){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,X.Z)(function*(I,M){const k=ga(I),Ee=(yield js()).transaction(_s,"readwrite");return yield Ee.objectStore(_s).put(M,k),yield Ee.done,M})).apply(this,arguments)}function qo(){return(qo=(0,X.Z)(function*(I){const M=ga(I),J=(yield js()).transaction(_s,"readwrite");yield J.objectStore(_s).delete(M),yield J.done})).apply(this,arguments)}function ga({appConfig:I}){return I.appId}const zr=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function us(I,M){return ws.apply(this,arguments)}function ws(){return(ws=(0,X.Z)(function*(I,M){const k=yield Y(I),J=_e(M),Ee={method:"POST",headers:k,body:JSON.stringify(J)};let Ne;try{Ne=yield(yield fetch($(I.appConfig),Ee)).json()}catch(Je){throw zr.create("token-subscribe-failed",{errorInfo:Je?.toString()})}if(Ne.error)throw zr.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw zr.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function v(){return(v=(0,X.Z)(function*(I,M){const k=yield Y(I),J=_e(M.subscriptionOptions),Ee={method:"PATCH",headers:k,body:JSON.stringify(J)};let Ne;try{Ne=yield(yield fetch(`${$(I.appConfig)}/${M.token}`,Ee)).json()}catch(Je){throw zr.create("token-update-failed",{errorInfo:Je?.toString()})}if(Ne.error)throw zr.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw zr.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function E(I,M){return P.apply(this,arguments)}function P(){return(P=(0,X.Z)(function*(I,M){const J={method:"DELETE",headers:yield Y(I)};try{const Ne=yield(yield fetch(`${$(I.appConfig)}/${M}`,J)).json();if(Ne.error)throw zr.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(Ee){throw zr.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function $({projectId:I}){return`${mo}/projects/${I}/registrations`}function Y(I){return le.apply(this,arguments)}function le(){return(le=(0,X.Z)(function*({appConfig:I,installations:M}){const k=yield M.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function _e({p256dh:I,auth:M,endpoint:k,vapidKey:J}){const Ee={web:{endpoint:k,auth:M,p256dh:I}};return J!==go&&(Ee.web.applicationPubKey=J),Ee}const Be=6048e5;function Mt(){return Mt=(0,X.Z)(function*(I){const M=yield function Ir(I,M){return oi.apply(this,arguments)}(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:M.endpoint,auth:$s(M.getKey("auth")),p256dh:$s(M.getKey("p256dh"))},J=yield Es(I.firebaseDependencies);if(J){if(function Nr(I,M){return M.vapidKey===I.vapidKey&&M.endpoint===I.endpoint&&M.auth===I.auth&&M.p256dh===I.p256dh}(J.subscriptionOptions,k))return Date.now()>=J.createTime+Be?function Fn(I,M){return yn.apply(this,arguments)}(I,{token:J.token,createTime:Date.now(),subscriptionOptions:k}):J.token;try{yield E(I.firebaseDependencies,J.token)}catch(Ee){console.warn(Ee)}return An(I.firebaseDependencies,k)}return An(I.firebaseDependencies,k)}),Mt.apply(this,arguments)}function Pn(){return Pn=(0,X.Z)(function*(I){const M=yield Es(I.firebaseDependencies);M&&(yield E(I.firebaseDependencies,M.token),yield function Yi(I){return qo.apply(this,arguments)}(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),Pn.apply(this,arguments)}function yn(){return yn=(0,X.Z)(function*(I,M){try{const k=yield function B(I,M){return v.apply(this,arguments)}(I.firebaseDependencies,M),J=Object.assign(Object.assign({},M),{token:k,createTime:Date.now()});return yield vo(I.firebaseDependencies,J),k}catch(k){throw yield function kt(I){return Pn.apply(this,arguments)}(I),k}}),yn.apply(this,arguments)}function An(I,M){return ar.apply(this,arguments)}function ar(){return(ar=(0,X.Z)(function*(I,M){const J={token:yield us(I,M),createTime:Date.now(),subscriptionOptions:M};return yield vo(I,J),J.token})).apply(this,arguments)}function oi(){return(oi=(0,X.Z)(function*(I,M){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ka(M)})})).apply(this,arguments)}function Br(I){const M={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function $r(I,M){if(!M.notification)return;I.notification={};const k=M.notification.title;k&&(I.notification.title=k);const J=M.notification.body;J&&(I.notification.body=J);const Ee=M.notification.image;Ee&&(I.notification.image=Ee);const Ne=M.notification.icon;Ne&&(I.notification.icon=Ne)}(M,I),function Ns(I,M){M.data&&(I.data=M.data)}(M,I),function A(I,M){var k,J,Ee,Ne,Je;if(!(M.fcmOptions||null!==(k=M.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const en=null!==(Ee=null===(J=M.fcmOptions)||void 0===J?void 0:J.link)&&void 0!==Ee?Ee:null===(Ne=M.notification)||void 0===Ne?void 0:Ne.click_action;en&&(I.fcmOptions.link=en);const Qt=null===(Je=M.fcmOptions)||void 0===Je?void 0:Je.analytics_label;Qt&&(I.fcmOptions.analyticsLabel=Qt)}(M,I),M}function x(I,M){const k=[];for(let J=0;J<I.length;J++)k.push(I.charAt(J)),J<M.length&&k.push(M.charAt(J));return k.join("")}function se(I){return zr.create("missing-app-config-values",{valueName:I})}x("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),x("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ze{constructor(M,k,J){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function H(I){if(!I||!I.options)throw se("App Configuration Object");if(!I.name)throw se("App Name");const M=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const J of M)if(!k[J])throw se(J);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(M);this.firebaseDependencies={app:M,appConfig:Ee,installations:k,analyticsProvider:J}}_delete(){return Promise.resolve()}}function ut(I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,X.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(xs,{scope:ui}),I.swRegistration.update().catch(()=>{})}catch(M){throw zr.create("failed-service-worker-registration",{browserErrorMessage:M?.message})}})).apply(this,arguments)}function St(){return(St=(0,X.Z)(function*(I,M){if(!M&&!I.swRegistration&&(yield ut(I)),M||!I.swRegistration){if(!(M instanceof ServiceWorkerRegistration))throw zr.create("invalid-sw-registration");I.swRegistration=M}})).apply(this,arguments)}function Rt(){return(Rt=(0,X.Z)(function*(I,M){M?I.vapidKey=M:I.vapidKey||(I.vapidKey=go)})).apply(this,arguments)}function cn(){return cn=(0,X.Z)(function*(I,M){if(!navigator)throw zr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw zr.create("permission-blocked");return yield function zt(I,M){return Rt.apply(this,arguments)}(I,M?.vapidKey),yield function cr(I,M){return St.apply(this,arguments)}(I,M?.serviceWorkerRegistration),function st(I){return Mt.apply(this,arguments)}(I)}),cn.apply(this,arguments)}function Or(){return(Or=(0,X.Z)(function*(I,M,k){const J=function Kt(I){switch(I){case ur.NOTIFICATION_CLICKED:return"notification_open";case ur.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(M);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(J,{message_id:k[Vs],message_name:k[Ni],message_time:k[Mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qi(){return Qi=(0,X.Z)(function*(I,M){const k=M.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===ur.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Br(k)):I.onMessageHandler.next(Br(k)));const J=k.data;(function F(I){return"object"==typeof I&&!!I&&Vs in I})(J)&&"1"===J[Ro]&&(yield function Vn(I,M,k){return Or.apply(this,arguments)}(I,k.messageType,J))}),Qi.apply(this,arguments)}const Gt="@firebase/messaging",mt=I=>{const M=new ze(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Lt(I,M){return Qi.apply(this,arguments)}(M,k)),M},yr=I=>{const M=I.getProvider("messaging").getImmediate();return{getToken:J=>function Ge(I,M){return cn.apply(this,arguments)}(M,J)}};function Os(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,X.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _o(){(0,Oe.Xd)(new he.wA("messaging",mt,"PUBLIC")),(0,Oe.Xd)(new he.wA("messaging-internal",yr,"PRIVATE")),(0,Oe.KN)(Gt,"0.12.4"),(0,Oe.KN)(Gt,"0.12.4","esm2017")}();const Nn="analytics",xa="firebase_id",Hs="origin",ti=6e4,Xt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zo="https://www.googletagmanager.com/gtag/js",bn=new Ce.Yd("@firebase/analytics"),lr=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function nn(I){if(!I.startsWith(Zo)){const M=lr.create("invalid-gtag-resource",{gtagURL:I});return bn.warn(M.message),""}return I}function Pa(I){return Promise.all(I.map(M=>M.catch(k=>k)))}function xo(){return(xo=(0,X.Z)(function*(I,M,k,J,Ee,Ne){const Je=J[Ee];try{if(Je)yield M[Je];else{const Qt=(yield Pa(k)).find(En=>En.measurementId===Ee);Qt&&(yield M[Qt.appId])}}catch(en){bn.error(en)}I("config",Ee,Ne)})).apply(this,arguments)}function Uu(){return(Uu=(0,X.Z)(function*(I,M,k,J,Ee){try{let Ne=[];if(Ee&&Ee.send_to){let Je=Ee.send_to;Array.isArray(Je)||(Je=[Je]);const en=yield Pa(k);for(const Qt of Je){const En=en.find(qn=>qn.measurementId===Qt),zn=En&&M[En.appId];if(!zn){Ne=[];break}Ne.push(zn)}}0===Ne.length&&(Ne=Object.values(M)),yield Promise.all(Ne),I("event",J,Ee||{})}catch(Ne){bn.error(Ne)}})).apply(this,arguments)}const Bu=30,Yo=new class Eo{constructor(M={},k=1e3){this.throttleMetadata=M,this.intervalMillis=k}getThrottleMetadata(M){return this.throttleMetadata[M]}setThrottleMetadata(M,k){this.throttleMetadata[M]=k}deleteThrottleMetadata(M){delete this.throttleMetadata[M]}};function We(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ai(){return(ai=(0,X.Z)(function*(I){var M;const{appId:k,apiKey:J}=I,Ee={method:"GET",headers:We(J)},Ne=Xt.replace("{app-id}",k),Je=yield fetch(Ne,Ee);if(200!==Je.status&&304!==Je.status){let en="";try{const Qt=yield Je.json();null!==(M=Qt.error)&&void 0!==M&&M.message&&(en=Qt.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:Je.status,responseMessage:en})}return Je.json()})).apply(this,arguments)}function to(){return(to=(0,X.Z)(function*(I,M=Yo,k){const{appId:J,apiKey:Ee,measurementId:Ne}=I.options;if(!J)throw lr.create("no-app-id");if(!Ee){if(Ne)return{measurementId:Ne,appId:J};throw lr.create("no-api-key")}const Je=M.getThrottleMetadata(J)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new Ja;return setTimeout((0,X.Z)(function*(){en.abort()}),void 0!==k?k:ti),Qo({appId:J,apiKey:Ee,measurementId:Ne},Je,en,M)})).apply(this,arguments)}function Qo(I,M,k){return yu.apply(this,arguments)}function yu(){return yu=(0,X.Z)(function*(I,{throttleEndTimeMillis:M,backoffCount:k},J,Ee=Yo){var Ne;const{appId:Je,measurementId:en}=I;try{yield function zs(I,M){return new Promise((k,J)=>{const Ee=Math.max(M-Date.now(),0),Ne=setTimeout(k,Ee);I.addEventListener(()=>{clearTimeout(Ne),J(lr.create("fetch-throttle",{throttleEndTimeMillis:M}))})})}(J,M)}catch(Qt){if(en)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${Qt?.message}]`),{appId:Je,measurementId:en};throw Qt}try{const Qt=yield function Na(I){return ai.apply(this,arguments)}(I);return Ee.deleteThrottleMetadata(Je),Qt}catch(Qt){const En=Qt;if(!function Qa(I){if(!(I instanceof be.ZR&&I.customData))return!1;const M=Number(I.customData.httpStatus);return 429===M||500===M||503===M||504===M}(En)){if(Ee.deleteThrottleMetadata(Je),en)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:Je,measurementId:en};throw Qt}const zn=503===Number(null===(Ne=En?.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,be.$s)(k,Ee.intervalMillis,Bu):(0,be.$s)(k,Ee.intervalMillis),qn={throttleEndTimeMillis:Date.now()+zn,backoffCount:k+1};return Ee.setThrottleMetadata(Je,qn),bn.debug(`Calling attemptFetch again in ${zn} millis`),Qo(I,qn,J,Ee)}}),yu.apply(this,arguments)}class Ja{constructor(){this.listeners=[]}addEventListener(M){this.listeners.push(M)}abort(){this.listeners.forEach(M=>M())}}let Kr,ka;function ls(){return(ls=(0,X.Z)(function*(I,M,k,J,Ee){if(Ee&&Ee.global)I("event",k,J);else{const Ne=yield M;I("event",k,Object.assign(Object.assign({},J),{send_to:Ne}))}})).apply(this,arguments)}function $u(){return($u=(0,X.Z)(function*(){if(!(0,be.hl)())return bn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(I){return bn.warn(lr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function Po(){return Po=(0,X.Z)(function*(I,M,k,J,Ee,Ne,Je){var en;const Qt=function ta(I){return to.apply(this,arguments)}(I);Qt.then(fs=>{k[fs.measurementId]=fs.appId,I.options.measurementId&&fs.measurementId!==I.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${fs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fs=>bn.error(fs)),M.push(Qt);const En=function Jo(){return $u.apply(this,arguments)}().then(fs=>{if(fs)return J.getId()}),[zn,qn]=yield Promise.all([Qt,En]);(function eo(I){const M=window.document.getElementsByTagName("script");for(const k of Object.values(M))if(k.src&&k.src.includes(Zo)&&k.src.includes(I))return k;return null})(Ne)||function Xo(I,M){const k=function $i(I,M){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(I,M)),k}("firebase-js-sdk-policy",{createScriptURL:nn}),J=document.createElement("script"),Ee=`${Zo}?l=${I}&id=${M}`;J.src=k?k?.createScriptURL(Ee):Ee,J.async=!0,document.head.appendChild(J)}(Ne,zn.measurementId),ka&&(Ee("consent","default",ka),function vu(I){ka=I}(void 0)),Ee("js",new Date);const ro=null!==(en=Je?.config)&&void 0!==en?en:{};return ro[Hs]="firebase",ro.update=!0,null!=qn&&(ro[xa]=qn),Ee("config",zn.measurementId,ro),Kr&&(Ee("set",Kr),function no(I){Kr=I}(void 0)),zn.measurementId}),Po.apply(this,arguments)}class ju{constructor(M){this.app=M}_delete(){return delete va[this.app.options.appId],Promise.resolve()}}let va={},y=[];const _={};let N,j,g="dataLayer",S="gtag",W=!1;function tn(I,M,k){!function dt(){const I=[];if((0,be.ru)()&&I.push("This is a browser extension environment."),(0,be.zI)()||I.push("Cookies are not available."),I.length>0){const M=I.map((J,Ee)=>`(${Ee+1}) ${J}`).join(" "),k=lr.create("invalid-analytics-context",{errorInfo:M});bn.warn(k.message)}}();const J=I.options.appId;if(!J)throw lr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw lr.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=va[J])throw lr.create("already-exists",{id:J});if(!W){!function ea(I){let M=[];Array.isArray(window[I])?M=window[I]:window[I]=M}(g);const{wrappedGtag:Ne,gtagCore:Je}=function Ts(I,M,k,J,Ee){let Ne=function(...Je){window[J].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Ne=window[Ee]),window[Ee]=function mu(I,M,k,J){function Ne(){return Ne=(0,X.Z)(function*(Je,...en){try{if("event"===Je){const[Qt,En]=en;yield function Is(I,M,k,J,Ee){return Uu.apply(this,arguments)}(I,M,k,Qt,En)}else if("config"===Je){const[Qt,En]=en;yield function Ya(I,M,k,J,Ee,Ne){return xo.apply(this,arguments)}(I,M,k,J,Qt,En)}else if("consent"===Je){const[Qt]=en;I("consent","update",Qt)}else if("get"===Je){const[Qt,En,zn]=en;I("get",Qt,En,zn)}else if("set"===Je){const[Qt]=en;I("set",Qt)}else I(Je,...en)}catch(Qt){bn.error(Qt)}}),Ne.apply(this,arguments)}return function Ee(Je){return Ne.apply(this,arguments)}}(Ne,I,M,k),{gtagCore:Ne,wrappedGtag:window[Ee]}}(va,y,_,g,S);j=Ne,N=Je,W=!0}return va[J]=function Fa(I,M,k,J,Ee,Ne,Je){return Po.apply(this,arguments)}(I,y,_,M,N,g,k),new ju(I)}function br(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,X.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const _u="@firebase/analytics";!function Xi(){(0,Oe.Xd)(new he.wA(Nn,(M,{options:k})=>tn(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Oe.Xd)(new he.wA("analytics-internal",function I(M){try{const k=M.getProvider(Nn).getImmediate();return{logEvent:(J,Ee,Ne)=>function No(I,M,k,J){I=(0,be.m9)(I),function vl(I,M,k,J,Ee){return ls.apply(this,arguments)}(j,va[I.app.options.appId],M,k,J).catch(Ee=>bn.error(Ee))}(k,J,Ee,Ne)}}catch(k){throw lr.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Oe.KN)(_u,"0.10.0"),(0,Oe.KN)(_u,"0.10.0","esm2017")}();var eu=Z(727);class Io extends eu.w0{constructor(M,k){super()}schedule(M,k=0){return this}}const Ei={setInterval(I,M,...k){const{delegate:J}=Ei;return J?.setInterval?J.setInterval(I,M,...k):setInterval(I,M,...k)},clearInterval(I){const{delegate:M}=Ei;return(M?.clearInterval||clearInterval)(I)},delegate:void 0};var La=Z(8737);class Ua extends Io{constructor(M,k){super(M,k),this.scheduler=M,this.work=k,this.pending=!1}schedule(M,k=0){var J;if(this.closed)return this;this.state=M;const Ee=this.id,Ne=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Ne,Ee,k)),this.pending=!0,this.delay=k,this.id=null!==(J=this.id)&&void 0!==J?J:this.requestAsyncId(Ne,this.id,k),this}requestAsyncId(M,k,J=0){return Ei.setInterval(M.flush.bind(M,this),J)}recycleAsyncId(M,k,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return k;null!=k&&Ei.clearInterval(k)}execute(M,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(M,k);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,k){let Ee,J=!1;try{this.work(M)}catch(Ne){J=!0,Ee=Ne||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:M,scheduler:k}=this,{actions:J}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,La.P)(J,this),null!=M&&(this.id=this.recycleAsyncId(k,M,null)),this.delay=null,super.unsubscribe()}}}const zu={now:()=>(zu.delegate||Date).now(),delegate:void 0};class tu{constructor(M,k=tu.now){this.schedulerActionCtor=M,this.now=k}schedule(M,k=0,J){return new this.schedulerActionCtor(this,M).schedule(J,k)}}tu.now=zu.now;class nu extends tu{constructor(M,k=tu.now){super(M,k),this.actions=[],this._active=!1}flush(M){const{actions:k}=this;if(this._active)return void k.push(M);let J;this._active=!0;do{if(J=M.execute(M.state,M.delay))break}while(M=k.shift());if(this._active=!1,J){for(;M=k.shift();)M.unsubscribe();throw J}}}const _a=new class Ba extends nu{}(class Oc extends Ua{constructor(M,k){super(M,k),this.scheduler=M,this.work=k}schedule(M,k=0){return k>0?super.schedule(M,k):(this.delay=k,this.state=M,this.scheduler.flush(this),this)}execute(M,k){return k>0||this.closed?super.execute(M,k):this._execute(M,k)}requestAsyncId(M,k,J=0){return null!=J&&J>0||null==J&&this.delay>0?super.requestAsyncId(M,k,J):(M.flush(this),0)}}),Oo=new nu(Ua);var ia=Z(9751),oc=Z(8505),Va=Z(9468),ac=Z(5363);const uc=new T.GfV("7.6.1"),ko="__angularfire_symbol__analyticsIsSupportedValue",Gu="__angularfire_symbol__analyticsIsSupported",wu="__angularfire_symbol__remoteConfigIsSupportedValue",Iu="__angularfire_symbol__remoteConfigIsSupported",Wu="__angularfire_symbol__messagingIsSupportedValue",qu="__angularfire_symbol__messagingIsSupported";function kc(I,M,k){if(M){if(1===M.length)return M[0];const Ne=M.filter(Je=>Je.app===k);if(1===Ne.length)return Ne[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[Gu]||(globalThis[Gu]=br().then(I=>globalThis[ko]=I).catch(()=>globalThis[ko]=!1)),globalThis[qu]||(globalThis[qu]=Os().then(I=>globalThis[Wu]=I).catch(()=>globalThis[Wu]=!1)),globalThis[Iu]||(globalThis[Iu]=Qs().then(I=>globalThis[wu]=I).catch(()=>globalThis[wu]=!1));const Ku=(I,M)=>{const k=M?[M]:(0,z.C6)(),J=[];return k.forEach(Ee=>{Ee.container.getProvider(I).instances.forEach(Je=>{J.includes(Je)||J.push(Je)})}),J};function Si(){}class iu{constructor(M,k=_a){this.zone=M,this.delegate=k}now(){return this.delegate.now()}schedule(M,k,J){const Ee=this.zone;return this.delegate.schedule(function(Je){Ee.runGuarded(()=>{M.apply(this,[Je])})},k,J)}}class di{constructor(M){this.zone=M,this.task=null}call(M,k){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),k.pipe((0,oc.b)({next:J,complete:J,error:J})).subscribe(M).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bs=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new iu(Zone.current)),this.insideAngular=k.run(()=>new iu(Zone.current,Oo)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(T.LFG(T.R0b))},I.\u0275prov=T.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function $a(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Fo(I){return $a().ngZone.run(()=>I())}function Cr(I){return $a(),function Gr(I){return function(k){return(k=k.lift(new di(I.ngZone))).pipe((0,Va.R)(I.outsideAngular),(0,ac.Q)(I.insideAngular))}}($a())(I)}const Du=(I,M)=>function(){const J=arguments;return M&&setTimeout(()=>{"scheduled"===M.state&&M.invoke()},10),Fo(()=>I.apply(void 0,J))},cc=(I,M)=>function(){let k;const J=arguments;for(let Ne=0;Ne<arguments.length;Ne++)"function"==typeof J[Ne]&&(M&&(k||(k=Fo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)))),J[Ne]=Du(J[Ne],k));const Ee=function wl(I){return $a().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,J));if(!M){if(Ee instanceof ia.y){const Ne=$a();return Ee.pipe((0,Va.R)(Ne.outsideAngular),(0,ac.Q)(Ne.insideAngular))}return Fo(()=>Ee)}return Ee instanceof ia.y?Ee.pipe(Cr):Ee instanceof Promise?Fo(()=>new Promise((Ne,Je)=>Ee.then(en=>Fo(()=>Ne(en)),en=>Fo(()=>Je(en))))):"function"==typeof Ee&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),Ee.apply(this,arguments)}:Fo(()=>Ee)}},2090:(Dn,Et,Z)=>{Z.d(Et,{$s:()=>fe,BH:()=>ot,L:()=>vt,LL:()=>ue,P0:()=>Dt,Pz:()=>Pe,Sg:()=>At,US:()=>he,ZR:()=>qe,aH:()=>Qe,b$:()=>pn,eu:()=>Ue,hl:()=>He,m9:()=>lt,ne:()=>Mn,pd:()=>fr,q4:()=>Sn,ru:()=>qt,tV:()=>ne,uI:()=>Tt,vZ:()=>hr,w1:()=>On,xO:()=>hi,xb:()=>wr,z$:()=>ct,zI:()=>Xe,zd:()=>rr});const Oe=function(ee){const te=[];let ge=0;for(let ke=0;ke<ee.length;ke++){let Re=ee.charCodeAt(ke);Re<128?te[ge++]=Re:Re<2048?(te[ge++]=Re>>6|192,te[ge++]=63&Re|128):55296==(64512&Re)&&ke+1<ee.length&&56320==(64512&ee.charCodeAt(ke+1))?(Re=65536+((1023&Re)<<10)+(1023&ee.charCodeAt(++ke)),te[ge++]=Re>>18|240,te[ge++]=Re>>12&63|128,te[ge++]=Re>>6&63|128,te[ge++]=63&Re|128):(te[ge++]=Re>>12|224,te[ge++]=Re>>6&63|128,te[ge++]=63&Re|128)}return te},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ee,te){if(!Array.isArray(ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,ke=[];for(let Re=0;Re<ee.length;Re+=3){const Nt=ee[Re],ye=Re+1<ee.length,ae=ye?ee[Re+1]:0,Q=Re+2<ee.length,pe=Q?ee[Re+2]:0;let $t=(15&ae)<<2|pe>>6,un=63&pe;Q||(un=64,ye||($t=64)),ke.push(ge[Nt>>2],ge[(3&Nt)<<4|ae>>4],ge[$t],ge[un])}return ke.join("")},encodeString(ee,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(ee):this.encodeByteArray(Oe(ee),te)},decodeString(ee,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(ee):function(ee){const te=[];let ge=0,ke=0;for(;ge<ee.length;){const Re=ee[ge++];if(Re<128)te[ke++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const Nt=ee[ge++];te[ke++]=String.fromCharCode((31&Re)<<6|63&Nt)}else if(Re>239&&Re<365){const Q=((7&Re)<<18|(63&ee[ge++])<<12|(63&ee[ge++])<<6|63&ee[ge++])-65536;te[ke++]=String.fromCharCode(55296+(Q>>10)),te[ke++]=String.fromCharCode(56320+(1023&Q))}else{const Nt=ee[ge++],ye=ee[ge++];te[ke++]=String.fromCharCode((15&Re)<<12|(63&Nt)<<6|63&ye)}}return te.join("")}(this.decodeStringToByteArray(ee,te))},decodeStringToByteArray(ee,te){this.init_();const ge=te?this.charToByteMapWebSafe_:this.charToByteMap_,ke=[];for(let Re=0;Re<ee.length;){const Nt=ge[ee.charAt(Re++)],ae=Re<ee.length?ge[ee.charAt(Re)]:0;++Re;const pe=Re<ee.length?ge[ee.charAt(Re)]:64;++Re;const gt=Re<ee.length?ge[ee.charAt(Re)]:64;if(++Re,null==Nt||null==ae||null==pe||null==gt)throw new Ce;ke.push(Nt<<2|ae>>4),64!==pe&&(ke.push(ae<<4&240|pe>>2),64!==gt&&ke.push(pe<<6&192|gt))}return ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ee=0;ee<this.ENCODED_VALS.length;ee++)this.byteToCharMap_[ee]=this.ENCODED_VALS.charAt(ee),this.charToByteMap_[this.byteToCharMap_[ee]]=ee,this.byteToCharMapWebSafe_[ee]=this.ENCODED_VALS_WEBSAFE.charAt(ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ee]]=ee,ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ee)]=ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ee)]=ee)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vt=function(ee){return function(ee){const te=Oe(ee);return he.encodeByteArray(te,!0)}(ee).replace(/\./g,"")},ne=function(ee){try{return he.decodeString(ee,!0)}catch(te){console.error("base64Decode failed: ",te)}return null},Ft=()=>{try{return function Ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ee=process.env.__FIREBASE_DEFAULTS__;return ee?JSON.parse(ee):void 0})()||(()=>{if(typeof document>"u")return;let ee;try{ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=ee&&ne(ee[1]);return te&&JSON.parse(te)})()}catch(ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ee}`)}},Sn=ee=>{var te,ge;return null===(ge=null===(te=Ft())||void 0===te?void 0:te.emulatorHosts)||void 0===ge?void 0:ge[ee]},Dt=ee=>{const te=Sn(ee);if(!te)return;const ge=te.lastIndexOf(":");if(ge<=0||ge+1===te.length)throw new Error(`Invalid host ${te} with no separate hostname and port!`);const ke=parseInt(te.substring(ge+1),10);return"["===te[0]?[te.substring(1,ge-1),ke]:[te.substring(0,ge),ke]},Qe=()=>{var ee;return null===(ee=Ft())||void 0===ee?void 0:ee.config},Pe=ee=>{var te;return null===(te=Ft())||void 0===te?void 0:te[`_${ee}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,ge)=>{this.resolve=te,this.reject=ge})}wrapCallback(te){return(ge,ke)=>{ge?this.reject(ge):this.resolve(ke),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(ge):te(ge,ke))}}}function At(ee,te){if(ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ke=te||"demo-project",Re=ee.iat||0,Nt=ee.sub||ee.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ye=Object.assign({iss:`https://securetoken.google.com/${ke}`,aud:ke,iat:Re,exp:Re+3600,auth_time:Re,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},ee);return[vt(JSON.stringify({alg:"none",type:"JWT"})),vt(JSON.stringify(ye)),""].join(".")}function ct(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ct())}function qt(){const ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ee&&void 0!==ee.id}function pn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function On(){const ee=ct();return ee.indexOf("MSIE ")>=0||ee.indexOf("Trident/")>=0}function He(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((ee,te)=>{try{let ge=!0;const ke="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(ke);Re.onsuccess=()=>{Re.result.close(),ge||self.indexedDB.deleteDatabase(ke),ee(!0)},Re.onupgradeneeded=()=>{ge=!1},Re.onerror=()=>{var Nt;te((null===(Nt=Re.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(ge){te(ge)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qe extends Error{constructor(te,ge,ke){super(ge),this.code=te,this.customData=ke,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(te,ge,ke){this.service=te,this.serviceName=ge,this.errors=ke}create(te,...ge){const ke=ge[0]||{},Re=`${this.service}/${te}`,Nt=this.errors[te],ye=Nt?function Te(ee,te){return ee.replace(nt,(ge,ke)=>{const Re=te[ke];return null!=Re?String(Re):`<${ke}?>`})}(Nt,ke):"Error";return new qe(Re,`${this.serviceName}: ${ye} (${Re}).`,ke)}}const nt=/\{\$([^}]+)}/g;function wr(ee){for(const te in ee)if(Object.prototype.hasOwnProperty.call(ee,te))return!1;return!0}function hr(ee,te){if(ee===te)return!0;const ge=Object.keys(ee),ke=Object.keys(te);for(const Re of ge){if(!ke.includes(Re))return!1;const Nt=ee[Re],ye=te[Re];if(ni(Nt)&&ni(ye)){if(!hr(Nt,ye))return!1}else if(Nt!==ye)return!1}for(const Re of ke)if(!ge.includes(Re))return!1;return!0}function ni(ee){return null!==ee&&"object"==typeof ee}function hi(ee){const te=[];for(const[ge,ke]of Object.entries(ee))Array.isArray(ke)?ke.forEach(Re=>{te.push(encodeURIComponent(ge)+"="+encodeURIComponent(Re))}):te.push(encodeURIComponent(ge)+"="+encodeURIComponent(ke));return te.length?"&"+te.join("&"):""}function rr(ee){const te={};return ee.replace(/^\?/,"").split("&").forEach(ke=>{if(ke){const[Re,Nt]=ke.split("=");te[decodeURIComponent(Re)]=decodeURIComponent(Nt)}}),te}function fr(ee){const te=ee.indexOf("?");if(!te)return"";const ge=ee.indexOf("#",te);return ee.substring(te,ge>0?ge:void 0)}function Mn(ee,te){const ge=new yt(ee,te);return ge.subscribe.bind(ge)}class yt{constructor(te,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{te(this)}).catch(ke=>{this.error(ke)})}next(te){this.forEachObserver(ge=>{ge.next(te)})}error(te){this.forEachObserver(ge=>{ge.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,ge,ke){let Re;if(void 0===te&&void 0===ge&&void 0===ke)throw new Error("Missing Observer.");Re=function Kn(ee,te){if("object"!=typeof ee||null===ee)return!1;for(const ge of te)if(ge in ee&&"function"==typeof ee[ge])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:ge,complete:ke},void 0===Re.next&&(Re.next=Xn),void 0===Re.error&&(Re.error=Xn),void 0===Re.complete&&(Re.complete=Xn);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch{}}),this.observers.push(Re),Nt}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,te)}sendOne(te,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{ge(this.observers[te])}catch(ke){typeof console<"u"&&console.error&&console.error(ke)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}const Zn=1e3,fi=2,kr=144e5,Fe=.5;function fe(ee,te=Zn,ge=fi){const ke=te*Math.pow(ge,ee),Re=Math.round(Fe*ke*(Math.random()-.5)*2);return Math.min(kr,ke+Re)}function lt(ee){return ee&&ee._delegate?ee._delegate:ee}},9682:(Dn,Et,Z)=>{Z.d(Et,{R:()=>Oe});var T=Z(2309),z=Z(3562),X=Z(8256);let Oe=(()=>{class be{constructor(Ce,Ae){this.auth=Ce,this.firestore=Ae,this.sesionFirestore=[],this.coleccionUsuarios=(0,z.hJ)(this.firestore,"usuarios")}modificar(Ce){const Ae=(0,z.JU)(this.coleccionUsuarios,this.sesionFirestore.id);(0,z.r7)(Ae,{...this.sesionFirestore})}guardar(Ce){const Ae=(0,z.JU)(this.coleccionUsuarios);return(0,z.pl)(Ae,{id:Ae.id,mail:Ce,fechaDeCreacion:(new Date).toLocaleString(),puntos:0})}traerUsuarios(){return(0,z.BS)(this.coleccionUsuarios)}register(Ce,Ae){return(0,T.Xb)(this.auth,Ce,Ae)}login(Ce,Ae){return(0,T.e5)(this.auth,Ce,Ae)}logout(){return(0,T.w7)(this.auth)}obtenerSesion(){return this.auth.currentUser}static#e=this.\u0275fac=function(Ae){return new(Ae||be)(X.LFG(T.gx),X.LFG(z.gg))};static#t=this.\u0275prov=X.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},4716:(Dn,Et,Z)=>{var T=Z(1481),z=Z(5450),X=Z(8256),Oe=Z(9682);let be=(()=>{class B{constructor(E,P){this.serviceAuth=E,this.router=P}canActivate(E,P){return this.serviceAuth.obtenerSesion()||this.router.navigateByUrl("login"),!0}canDeactivate(E,P,$,Y){return null==this.serviceAuth.obtenerSesion()||(this.router.navigateByUrl("games"),!1)}static#e=this.\u0275fac=function(P){return new(P||B)(X.LFG(Oe.R),X.LFG(z.F0))};static#t=this.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})();const he=[{path:"",loadChildren:()=>Z.e(341).then(Z.bind(Z,9341)).then(B=>B.UsersModule)},{path:"games",loadChildren:()=>Z.e(648).then(Z.bind(Z,4648)).then(B=>B.GamesModule),canActivate:[be],canDeactivate:[be]}];let Ce=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=X.oAB({type:B});static#n=this.\u0275inj=X.cJS({imports:[z.Bz.forRoot(he),z.Bz]})}return B})(),Ae=(()=>{class B{constructor(){this.title="Sala de juegos"}static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275cmp=X.Xpm({type:B,selectors:[["app-root"]],decls:1,vars:0,template:function(P,$){1&P&&X._UZ(0,"router-outlet")},dependencies:[z.lC]})}return B})();var vt=Z(3692);const ne_firebase={projectId:"tp-sala-de-juegos-2a3d4",appId:"1:452300520714:web:6e5701238bf03768c54ef3",storageBucket:"tp-sala-de-juegos-2a3d4.appspot.com",apiKey:"AIzaSyDMs525r_WeJn6493hbSqli9NXoW5lPLDE",authDomain:"tp-sala-de-juegos-2a3d4.firebaseapp.com",messagingSenderId:"452300520714",measurementId:"G-FSWQDFW5SE"};var me=Z(2309),Ze=Z(3562),rt=Z(7340);function Ot(B){return new X.vHH(3e3,!1)}function Rr(){return typeof window<"u"&&typeof window.document<"u"}function wr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yt(B){switch(B.length){case 0:return new rt.ZN;case 1:return B[0];default:return new rt.ZE(B)}}function hr(B,v,E,P,$=new Map,Y=new Map){const le=[],_e=[];let Be=-1,st=null;if(P.forEach(Mt=>{const kt=Mt.get("offset"),Pn=kt==Be,Fn=Pn&&st||new Map;Mt.forEach((yn,An)=>{let ar=An,Ir=yn;if("offset"!==An)switch(ar=v.normalizePropertyName(ar,le),Ir){case rt.k1:Ir=$.get(An);break;case rt.l3:Ir=Y.get(An);break;default:Ir=v.normalizeStyleValue(An,ar,Ir,le)}Fn.set(ar,Ir)}),Pn||_e.push(Fn),st=Fn,Be=kt}),le.length)throw function ve(B){return new X.vHH(3502,!1)}();return _e}function ni(B,v,E,P){switch(v){case"start":B.onStart(()=>P(E&&Wr(E,"start",B)));break;case"done":B.onDone(()=>P(E&&Wr(E,"done",B)));break;case"destroy":B.onDestroy(()=>P(E&&Wr(E,"destroy",B)))}}function Wr(B,v,E){const Y=hi(B.element,B.triggerName,B.fromState,B.toState,v||B.phaseName,E.totalTime??B.totalTime,!!E.disabled),le=B._data;return null!=le&&(Y._data=le),Y}function hi(B,v,E,P,$="",Y=0,le){return{element:B,triggerName:v,fromState:E,toState:P,phaseName:$,totalTime:Y,disabled:!!le}}function rr(B,v,E){let P=B.get(v);return P||B.set(v,P=E),P}function fr(B){const v=B.indexOf(":");return[B.substring(1,v),B.slice(v+1)]}let ri=(B,v)=>!1,Mn=(B,v,E)=>[],yt=null;function Vt(B){const v=B.parentNode||B.host;return v===yt?null:v}(wr()||typeof Element<"u")&&(Rr()?(yt=(()=>document.documentElement)(),ri=(B,v)=>{for(;v;){if(v===B)return!0;v=Vt(v)}return!1}):ri=(B,v)=>B.contains(v),Mn=(B,v,E)=>{if(E)return Array.from(B.querySelectorAll(v));const P=B.querySelector(v);return P?[P]:[]});let Gn=null,Jr=!1;const yi=ri,Ln=Mn;let Zn=(()=>{class B{validateStyleProperty(E){return function Rn(B){Gn||(Gn=function sr(){return typeof document<"u"?document.body:null}()||{},Jr=!!Gn.style&&"WebkitAppearance"in Gn.style);let v=!0;return Gn.style&&!function Xn(B){return"ebkit"==B.substring(1,6)}(B)&&(v=B in Gn.style,!v&&Jr&&(v="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in Gn.style)),v}(E)}matchesElement(E,P){return!1}containsElement(E,P){return yi(E,P)}getParentElement(E){return Vt(E)}query(E,P,$){return Ln(E,P,$)}computeStyle(E,P,$){return $||""}animate(E,P,$,Y,le,_e=[],Be){return new rt.ZN($,Y)}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac}),B})(),fi=(()=>{class B{}return B.NOOP=new Zn,B})();const kr=1e3,we="ng-enter",ht="ng-leave",lt="ng-trigger",ee=".ng-trigger",te="ng-animating",ge=".ng-animating";function ke(B){if("number"==typeof B)return B;const v=B.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Re(parseFloat(v[1]),v[2])}function Re(B,v){return"s"===v?B*kr:B}function Nt(B,v,E){return B.hasOwnProperty("duration")?B:function ye(B,v,E){let $,Y=0,le="";if("string"==typeof B){const _e=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return v.push(Ot()),{duration:0,delay:0,easing:""};$=Re(parseFloat(_e[1]),_e[2]);const Be=_e[3];null!=Be&&(Y=Re(parseFloat(Be),_e[4]));const st=_e[5];st&&(le=st)}else $=B;if(!E){let _e=!1,Be=v.length;$<0&&(v.push(function Zt(){return new X.vHH(3100,!1)}()),_e=!0),Y<0&&(v.push(function fn(){return new X.vHH(3101,!1)}()),_e=!0),_e&&v.splice(Be,0,Ot())}return{duration:$,delay:Y,easing:le}}(B,v,E)}function ae(B,v={}){return Object.keys(B).forEach(E=>{v[E]=B[E]}),v}function Q(B){const v=new Map;return Object.keys(B).forEach(E=>{v.set(E,B[E])}),v}function gt(B,v=new Map,E){if(E)for(let[P,$]of E)v.set(P,$);for(let[P,$]of B)v.set(P,$);return v}function $t(B,v,E){return E?v+":"+E+";":""}function un(B){let v="";for(let E=0;E<B.style.length;E++){const P=B.style.item(E);v+=$t(0,P,B.style.getPropertyValue(P))}for(const E in B.style)B.style.hasOwnProperty(E)&&!E.startsWith("_")&&(v+=$t(0,or(E),B.style[E]));B.setAttribute("style",v)}function kn(B,v,E){B.style&&(v.forEach((P,$)=>{const Y=Sr($);E&&!E.has($)&&E.set($,B.style[Y]),B.style[Y]=P}),wr()&&un(B))}function Fr(B,v){B.style&&(v.forEach((E,P)=>{const $=Sr(P);B.style[$]=""}),wr()&&un(B))}function Ke(B){return Array.isArray(B)?1==B.length?B[0]:(0,rt.vP)(B):B}const Ie=new RegExp("{{\\s*(.+?)\\s*}}","g");function ft(B){let v=[];if("string"==typeof B){let E;for(;E=Ie.exec(B);)v.push(E[1]);Ie.lastIndex=0}return v}function bt(B,v,E){const P=B.toString(),$=P.replace(Ie,(Y,le)=>{let _e=v[le];return null==_e&&(E.push(function Sn(B){return new X.vHH(3003,!1)}()),_e=""),_e.toString()});return $==P?B:$}function gn(B){const v=[];let E=B.next();for(;!E.done;)v.push(E.value),E=B.next();return v}const mn=/-+([a-z0-9])/g;function Sr(B){return B.replace(mn,(...v)=>v[1].toUpperCase())}function or(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jr(B,v,E){switch(v.type){case 7:return B.visitTrigger(v,E);case 0:return B.visitState(v,E);case 1:return B.visitTransition(v,E);case 2:return B.visitSequence(v,E);case 3:return B.visitGroup(v,E);case 4:return B.visitAnimate(v,E);case 5:return B.visitKeyframes(v,E);case 6:return B.visitStyle(v,E);case 8:return B.visitReference(v,E);case 9:return B.visitAnimateChild(v,E);case 10:return B.visitAnimateRef(v,E);case 11:return B.visitQuery(v,E);case 12:return B.visitStagger(v,E);default:throw function Dt(B){return new X.vHH(3004,!1)}()}}function vi(B,v){return window.getComputedStyle(B)[v]}const pi="*";function uo(B,v){const E=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(P=>function ns(B,v,E){if(":"==B[0]){const Be=function ie(B,v){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,P)=>parseFloat(P)>parseFloat(E);case":decrement":return(E,P)=>parseFloat(P)<parseFloat(E);default:return v.push(function Qr(B){return new X.vHH(3016,!1)}()),"* => *"}}(B,E);if("function"==typeof Be)return void v.push(Be);B=Be}const P=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return E.push(function nr(B){return new X.vHH(3015,!1)}()),v;const $=P[1],Y=P[2],le=P[3];v.push(it($,le));"<"==Y[0]&&!($==pi&&le==pi)&&v.push(it(le,$))}(P,E,v)):E.push(B),E}const oe=new Set(["true","1"]),xe=new Set(["false","0"]);function it(B,v){const E=oe.has(B)||xe.has(B),P=oe.has(v)||xe.has(v);return($,Y)=>{let le=B==pi||B==$,_e=v==pi||v==Y;return!le&&E&&"boolean"==typeof $&&(le=$?oe.has(B):xe.has(B)),!_e&&P&&"boolean"==typeof Y&&(_e=Y?oe.has(v):xe.has(v)),le&&_e}}const on=new RegExp("s*:selfs*,?","g");function Bn(B,v,E,P){return new gr(B).build(v,E,P)}class gr{constructor(v){this._driver=v}build(v,E,P){const $=new Di(E);return this._resetContextStyleTimingState($),jr(this,Ke(v),$)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,E){let P=E.queryCount=0,$=E.depCount=0;const Y=[],le=[];return"@"==v.name.charAt(0)&&E.errors.push(function Pe(){return new X.vHH(3006,!1)}()),v.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(E),0==_e.type){const Be=_e,st=Be.name;st.toString().split(/\s*,\s*/).forEach(Mt=>{Be.name=Mt,Y.push(this.visitState(Be,E))}),Be.name=st}else if(1==_e.type){const Be=this.visitTransition(_e,E);P+=Be.queryCount,$+=Be.depCount,le.push(Be)}else E.errors.push(function ot(){return new X.vHH(3007,!1)}())}),{type:7,name:v.name,states:Y,transitions:le,queryCount:P,depCount:$,options:null}}visitState(v,E){const P=this.visitStyle(v.styles,E),$=v.options&&v.options.params||null;if(P.containsDynamicStyles){const Y=new Set,le=$||{};P.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(Be=>{ft(Be).forEach(st=>{le.hasOwnProperty(st)||Y.add(st)})})}),Y.size&&(gn(Y.values()),E.errors.push(function At(B,v){return new X.vHH(3008,!1)}()))}return{type:0,name:v.name,style:P,options:$?{params:$}:null}}visitTransition(v,E){E.queryCount=0,E.depCount=0;const P=jr(this,Ke(v.animation),E);return{type:1,matchers:uo(v.expr,E.errors),animation:P,queryCount:E.queryCount,depCount:E.depCount,options:Pr(v.options)}}visitSequence(v,E){return{type:2,steps:v.steps.map(P=>jr(this,P,E)),options:Pr(v.options)}}visitGroup(v,E){const P=E.currentTime;let $=0;const Y=v.steps.map(le=>{E.currentTime=P;const _e=jr(this,le,E);return $=Math.max($,E.currentTime),_e});return E.currentTime=$,{type:3,steps:Y,options:Pr(v.options)}}visitAnimate(v,E){const P=function co(B,v){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Vr(Nt(B,v).duration,0,"");const E=B;if(E.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=Vr(0,0,"");return Y.dynamic=!0,Y.strValue=E,Y}const $=Nt(E,v);return Vr($.duration,$.delay,$.easing)}(v.timings,E.errors);E.currentAnimateTimings=P;let $,Y=v.styles?v.styles:(0,rt.oB)({});if(5==Y.type)$=this.visitKeyframes(Y,E);else{let le=v.styles,_e=!1;if(!le){_e=!0;const st={};P.easing&&(st.easing=P.easing),le=(0,rt.oB)(st)}E.currentTime+=P.duration+P.delay;const Be=this.visitStyle(le,E);Be.isEmptyStep=_e,$=Be}return E.currentAnimateTimings=null,{type:4,timings:P,style:$,options:null}}visitStyle(v,E){const P=this._makeStyleAst(v,E);return this._validateStyleAst(P,E),P}_makeStyleAst(v,E){const P=[],$=Array.isArray(v.styles)?v.styles:[v.styles];for(let _e of $)"string"==typeof _e?_e===rt.l3?P.push(_e):E.errors.push(new X.vHH(3002,!1)):P.push(Q(_e));let Y=!1,le=null;return P.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(le=_e.get("easing"),_e.delete("easing")),!Y))for(let Be of _e.values())if(Be.toString().indexOf("{{")>=0){Y=!0;break}}),{type:6,styles:P,easing:le,offset:v.offset,containsDynamicStyles:Y,options:null}}_validateStyleAst(v,E){const P=E.currentAnimateTimings;let $=E.currentTime,Y=E.currentTime;P&&Y>0&&(Y-=P.duration+P.delay),v.styles.forEach(le=>{"string"!=typeof le&&le.forEach((_e,Be)=>{const st=E.collectedStyles.get(E.currentQuerySelector),Mt=st.get(Be);let kt=!0;Mt&&(Y!=$&&Y>=Mt.startTime&&$<=Mt.endTime&&(E.errors.push(function at(B,v,E,P,$){return new X.vHH(3010,!1)}()),kt=!1),Y=Mt.startTime),kt&&st.set(Be,{startTime:Y,endTime:$}),E.options&&function de(B,v,E){const P=v.params||{},$=ft(B);$.length&&$.forEach(Y=>{P.hasOwnProperty(Y)||E.push(function Ft(B){return new X.vHH(3001,!1)}())})}(_e,E.options,E.errors)})})}visitKeyframes(v,E){const P={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function Wt(){return new X.vHH(3011,!1)}()),P;let Y=0;const le=[];let _e=!1,Be=!1,st=0;const Mt=v.steps.map(Ir=>{const oi=this._makeStyleAst(Ir,E);let Nr=null!=oi.offset?oi.offset:function xr(B){if("string"==typeof B)return null;let v=null;if(Array.isArray(B))B.forEach(E=>{if(E instanceof Map&&E.has("offset")){const P=E;v=parseFloat(P.get("offset")),P.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const E=B;v=parseFloat(E.get("offset")),E.delete("offset")}return v}(oi.styles),Br=0;return null!=Nr&&(Y++,Br=oi.offset=Nr),Be=Be||Br<0||Br>1,_e=_e||Br<st,st=Br,le.push(Br),oi});Be&&E.errors.push(function qt(){return new X.vHH(3012,!1)}()),_e&&E.errors.push(function pn(){return new X.vHH(3200,!1)}());const kt=v.steps.length;let Pn=0;Y>0&&Y<kt?E.errors.push(function $e(){return new X.vHH(3202,!1)}()):0==Y&&(Pn=1/(kt-1));const Fn=kt-1,yn=E.currentTime,An=E.currentAnimateTimings,ar=An.duration;return Mt.forEach((Ir,oi)=>{const Nr=Pn>0?oi==Fn?1:Pn*oi:le[oi],Br=Nr*ar;E.currentTime=yn+An.delay+Br,An.duration=Br,this._validateStyleAst(Ir,E),Ir.offset=Nr,P.styles.push(Ir)}),P}visitReference(v,E){return{type:8,animation:jr(this,Ke(v.animation),E),options:Pr(v.options)}}visitAnimateChild(v,E){return E.depCount++,{type:9,options:Pr(v.options)}}visitAnimateRef(v,E){return{type:10,animation:this.visitReference(v.animation,E),options:Pr(v.options)}}visitQuery(v,E){const P=E.currentQuerySelector,$=v.options||{};E.queryCount++,E.currentQuery=v;const[Y,le]=function Ti(B){const v=!!B.split(/\s*,\s*/).find(E=>":self"==E);return v&&(B=B.replace(on,"")),B=B.replace(/@\*/g,ee).replace(/@\w+/g,E=>ee+"-"+E.slice(1)).replace(/:animating/g,ge),[B,v]}(v.selector);E.currentQuerySelector=P.length?P+" "+Y:Y,rr(E.collectedStyles,E.currentQuerySelector,new Map);const _e=jr(this,Ke(v.animation),E);return E.currentQuery=null,E.currentQuerySelector=P,{type:11,selector:Y,limit:$.limit||0,optional:!!$.optional,includeSelf:le,animation:_e,originalSelector:v.selector,options:Pr(v.options)}}visitStagger(v,E){E.currentQuery||E.errors.push(function On(){return new X.vHH(3013,!1)}());const P="full"===v.timings?{duration:0,delay:0,easing:"full"}:Nt(v.timings,E.errors,!0);return{type:12,animation:jr(this,Ke(v.animation),E),timings:P,options:null}}}class Di{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Pr(B){return B?(B=ae(B)).params&&(B.params=function Tn(B){return B?ae(B):null}(B.params)):B={},B}function Vr(B,v,E){return{duration:B,delay:v,easing:E}}function Ai(B,v,E,P,$,Y,le=null,_e=!1){return{type:1,element:B,keyframes:v,preStyleProps:E,postStyleProps:P,duration:$,delay:Y,totalTime:$+Y,easing:le,subTimeline:_e}}class Hi{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,E){let P=this._map.get(v);P||this._map.set(v,P=[]),P.push(...E)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const la=new RegExp(":enter","g"),Ca=new RegExp(":leave","g");function zi(B,v,E,P,$,Y=new Map,le=new Map,_e,Be,st=[]){return(new Ui).buildKeyframes(B,v,E,P,$,Y,le,_e,Be,st)}class Ui{buildKeyframes(v,E,P,$,Y,le,_e,Be,st,Mt=[]){st=st||new Hi;const kt=new Ks(v,E,st,$,Y,Mt,[]);kt.options=Be;const Pn=Be.delay?ke(Be.delay):0;kt.currentTimeline.delayNextStep(Pn),kt.currentTimeline.setStyles([le],null,kt.errors,Be),jr(this,P,kt);const Fn=kt.timelines.filter(yn=>yn.containsAnimation());if(Fn.length&&_e.size){let yn;for(let An=Fn.length-1;An>=0;An--){const ar=Fn[An];if(ar.element===E){yn=ar;break}}yn&&!yn.allowOnlyTimelineStyles()&&yn.setStyles([_e],null,kt.errors,Be)}return Fn.length?Fn.map(yn=>yn.buildKeyframes()):[Ai(E,[],[],[],0,Pn,"",!1)]}visitTrigger(v,E){}visitState(v,E){}visitTransition(v,E){}visitAnimateChild(v,E){const P=E.subInstructions.get(E.element);if(P){const $=E.createSubContext(v.options),Y=E.currentTimeline.currentTime,le=this._visitSubInstructions(P,$,$.options);Y!=le&&E.transformIntoNewTimeline(le)}E.previousNode=v}visitAnimateRef(v,E){const P=E.createSubContext(v.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],E,P),this.visitReference(v.animation,P),E.transformIntoNewTimeline(P.currentTimeline.currentTime),E.previousNode=v}_applyAnimationRefDelays(v,E,P){for(const $ of v){const Y=$?.delay;if(Y){const le="number"==typeof Y?Y:ke(bt(Y,$?.params??{},E.errors));P.delayNextStep(le)}}}_visitSubInstructions(v,E,P){let Y=E.currentTimeline.currentTime;const le=null!=P.duration?ke(P.duration):null,_e=null!=P.delay?ke(P.delay):null;return 0!==le&&v.forEach(Be=>{const st=E.appendInstructionToTimeline(Be,le,_e);Y=Math.max(Y,st.duration+st.delay)}),Y}visitReference(v,E){E.updateOptions(v.options,!0),jr(this,v.animation,E),E.previousNode=v}visitSequence(v,E){const P=E.subContextCount;let $=E;const Y=v.options;if(Y&&(Y.params||Y.delay)&&($=E.createSubContext(Y),$.transformIntoNewTimeline(),null!=Y.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=ys);const le=ke(Y.delay);$.delayNextStep(le)}v.steps.length&&(v.steps.forEach(le=>jr(this,le,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>P&&$.transformIntoNewTimeline()),E.previousNode=v}visitGroup(v,E){const P=[];let $=E.currentTimeline.currentTime;const Y=v.options&&v.options.delay?ke(v.options.delay):0;v.steps.forEach(le=>{const _e=E.createSubContext(v.options);Y&&_e.delayNextStep(Y),jr(this,le,_e),$=Math.max($,_e.currentTimeline.currentTime),P.push(_e.currentTimeline)}),P.forEach(le=>E.currentTimeline.mergeTimelineCollectedStyles(le)),E.transformIntoNewTimeline($),E.previousNode=v}_visitTiming(v,E){if(v.dynamic){const P=v.strValue;return Nt(E.params?bt(P,E.params,E.errors):P,E.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,E){const P=E.currentAnimateTimings=this._visitTiming(v.timings,E),$=E.currentTimeline;P.delay&&(E.incrementTime(P.delay),$.snapshotCurrentStyles());const Y=v.style;5==Y.type?this.visitKeyframes(Y,E):(E.incrementTime(P.duration),this.visitStyle(Y,E),$.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=v}visitStyle(v,E){const P=E.currentTimeline,$=E.currentAnimateTimings;!$&&P.hasCurrentStyleProperties()&&P.forwardFrame();const Y=$&&$.easing||v.easing;v.isEmptyStep?P.applyEmptyStep(Y):P.setStyles(v.styles,Y,E.errors,E.options),E.previousNode=v}visitKeyframes(v,E){const P=E.currentAnimateTimings,$=E.currentTimeline.duration,Y=P.duration,_e=E.createSubContext().currentTimeline;_e.easing=P.easing,v.styles.forEach(Be=>{_e.forwardTime((Be.offset||0)*Y),_e.setStyles(Be.styles,Be.easing,E.errors,E.options),_e.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(_e),E.transformIntoNewTimeline($+Y),E.previousNode=v}visitQuery(v,E){const P=E.currentTimeline.currentTime,$=v.options||{},Y=$.delay?ke($.delay):0;Y&&(6===E.previousNode.type||0==P&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=ys);let le=P;const _e=E.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!$.optional,E.errors);E.currentQueryTotal=_e.length;let Be=null;_e.forEach((st,Mt)=>{E.currentQueryIndex=Mt;const kt=E.createSubContext(v.options,st);Y&&kt.delayNextStep(Y),st===E.element&&(Be=kt.currentTimeline),jr(this,v.animation,kt),kt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,kt.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(le),Be&&(E.currentTimeline.mergeTimelineCollectedStyles(Be),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=v}visitStagger(v,E){const P=E.parentContext,$=E.currentTimeline,Y=v.timings,le=Math.abs(Y.duration),_e=le*(E.currentQueryTotal-1);let Be=le*E.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":Be=_e-Be;break;case"full":Be=P.currentStaggerTime}const Mt=E.currentTimeline;Be&&Mt.delayNextStep(Be);const kt=Mt.currentTime;jr(this,v.animation,E),E.previousNode=v,P.currentStaggerTime=$.currentTime-kt+($.startTime-P.currentTimeline.startTime)}}const ys={};class Ks{constructor(v,E,P,$,Y,le,_e,Be){this._driver=v,this.element=E,this.subInstructions=P,this._enterClassName=$,this._leaveClassName=Y,this.errors=le,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ys,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Be||new Gi(this._driver,E,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,E){if(!v)return;const P=v;let $=this.options;null!=P.duration&&($.duration=ke(P.duration)),null!=P.delay&&($.delay=ke(P.delay));const Y=P.params;if(Y){let le=$.params;le||(le=this.options.params={}),Object.keys(Y).forEach(_e=>{(!E||!le.hasOwnProperty(_e))&&(le[_e]=bt(Y[_e],le,this.errors))})}}_copyOptions(){const v={};if(this.options){const E=this.options.params;if(E){const P=v.params={};Object.keys(E).forEach($=>{P[$]=E[$]})}}return v}createSubContext(v=null,E,P){const $=E||this.element,Y=new Ks(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,P||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(v),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(v){return this.previousNode=ys,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,E,P){const $={duration:E??v.duration,delay:this.currentTimeline.currentTime+(P??0)+v.delay,easing:""},Y=new tr(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,$,v.stretchStartingKeyframe);return this.timelines.push(Y),$}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,E,P,$,Y,le){let _e=[];if($&&_e.push(this.element),v.length>0){v=(v=v.replace(la,"."+this._enterClassName)).replace(Ca,"."+this._leaveClassName);let st=this._driver.query(this.element,v,1!=P);0!==P&&(st=P<0?st.slice(st.length+P,st.length):st.slice(0,P)),_e.push(...st)}return!Y&&0==_e.length&&le.push(function Jt(B){return new X.vHH(3014,!1)}()),_e}}class Gi{constructor(v,E,P,$){this._driver=v,this.element=E,this.startTime=P,this._elementTimelineStylesLookup=$,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+v),E&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,E){return this.applyStylesToKeyframe(),new Gi(this._driver,v,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,E){this._localTimelineStyles.set(v,E),this._globalTimelineStyles.set(v,E),this._styleSummary.set(v,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[E,P]of this._globalTimelineStyles)this._backFill.set(E,P||rt.l3),this._currentKeyframe.set(E,rt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,E,P,$){E&&this._previousKeyframe.set("easing",E);const Y=$&&$.params||{},le=function Mi(B,v){const E=new Map;let P;return B.forEach($=>{if("*"===$){P=P||v.keys();for(let Y of P)E.set(Y,rt.l3)}else gt($,E)}),E}(v,this._globalTimelineStyles);for(let[_e,Be]of le){const st=bt(Be,Y,P);this._pendingStyles.set(_e,st),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??rt.l3),this._updateStyle(_e,st)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,E)=>{this._currentKeyframe.set(E,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,v)}))}snapshotCurrentStyles(){for(let[v,E]of this._localTimelineStyles)this._pendingStyles.set(v,E),this._updateStyle(v,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let E in this._currentKeyframe)v.push(E);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((E,P)=>{const $=this._styleSummary.get(P);(!$||E.time>$.time)&&this._updateStyle(P,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,E=new Set,P=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((_e,Be)=>{const st=gt(_e,new Map,this._backFill);st.forEach((Mt,kt)=>{Mt===rt.k1?v.add(kt):Mt===rt.l3&&E.add(kt)}),P||st.set("offset",Be/this.duration),$.push(st)});const Y=v.size?gn(v.values()):[],le=E.size?gn(E.values()):[];if(P){const _e=$[0],Be=new Map(_e);_e.set("offset",0),Be.set("offset",1),$=[_e,Be]}return Ai(this.element,$,Y,le,this.duration,this.startTime,this.easing,!1)}}class tr extends Gi{constructor(v,E,P,$,Y,le,_e=!1){super(v,E,le.delay),this.keyframes=P,this.preStyleProps=$,this.postStyleProps=Y,this._stretchStartingKeyframe=_e,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:E,duration:P,easing:$}=this.timings;if(this._stretchStartingKeyframe&&E){const Y=[],le=P+E,_e=E/le,Be=gt(v[0]);Be.set("offset",0),Y.push(Be);const st=gt(v[0]);st.set("offset",Fs(_e)),Y.push(st);const Mt=v.length-1;for(let kt=1;kt<=Mt;kt++){let Pn=gt(v[kt]);const Fn=Pn.get("offset");Pn.set("offset",Fs((E+Fn*P)/le)),Y.push(Pn)}P=le,E=0,$="",v=Y}return Ai(this.element,v,this.preStyleProps,this.postStyleProps,P,E,$,!0)}}function Fs(B,v=3){const E=Math.pow(10,v-1);return Math.round(B*E)/E}class Ls{}const Us=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wi extends Ls{normalizePropertyName(v,E){return Sr(v)}normalizeStyleValue(v,E,P,$){let Y="";const le=P.toString().trim();if(Us.has(E)&&0!==P&&"0"!==P)if("number"==typeof P)Y="px";else{const _e=P.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&$.push(function Qe(B,v){return new X.vHH(3005,!1)}())}return le+Y}}function Bi(B,v,E,P,$,Y,le,_e,Be,st,Mt,kt,Pn){return{type:0,element:B,triggerName:v,isRemovalTransition:$,fromState:E,fromStyles:Y,toState:P,toStyles:le,timelines:_e,queriedElements:Be,preStyleProps:st,postStyleProps:Mt,totalTime:kt,errors:Pn}}const ho={};class vs{constructor(v,E,P){this._triggerName=v,this.ast=E,this._stateStyles=P}match(v,E,P,$){return function Sa(B,v,E,P,$){return B.some(Y=>Y(v,E,P,$))}(this.ast.matchers,v,E,P,$)}buildStyles(v,E,P){let $=this._stateStyles.get("*");return void 0!==v&&($=this._stateStyles.get(v?.toString())||$),$?$.buildStyles(E,P):new Map}build(v,E,P,$,Y,le,_e,Be,st,Mt){const kt=[],Pn=this.ast.options&&this.ast.options.params||ho,yn=this.buildStyles(P,_e&&_e.params||ho,kt),An=Be&&Be.params||ho,ar=this.buildStyles($,An,kt),Ir=new Set,oi=new Map,Nr=new Map,Br="void"===$,$r={params:Zs(An,Pn),delay:this.ast.options?.delay},Ns=Mt?[]:zi(v,E,this.ast.animation,Y,le,yn,ar,$r,st,kt);let A=0;if(Ns.forEach(x=>{A=Math.max(x.duration+x.delay,A)}),kt.length)return Bi(E,this._triggerName,P,$,Br,yn,ar,[],[],oi,Nr,A,kt);Ns.forEach(x=>{const H=x.element,se=rr(oi,H,new Set);x.preStyleProps.forEach(ut=>se.add(ut));const ze=rr(Nr,H,new Set);x.postStyleProps.forEach(ut=>ze.add(ut)),H!==E&&Ir.add(H)});const F=gn(Ir.values());return Bi(E,this._triggerName,P,$,Br,yn,ar,Ns,F,oi,Nr,A)}}function Zs(B,v){const E=ae(v);for(const P in B)B.hasOwnProperty(P)&&null!=B[P]&&(E[P]=B[P]);return E}class Rs{constructor(v,E,P){this.styles=v,this.defaultParams=E,this.normalizer=P}buildStyles(v,E){const P=new Map,$=ae(this.defaultParams);return Object.keys(v).forEach(Y=>{const le=v[Y];null!==le&&($[Y]=le)}),this.styles.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((le,_e)=>{le&&(le=bt(le,$,E));const Be=this.normalizer.normalizePropertyName(_e,E);le=this.normalizer.normalizeStyleValue(_e,Be,le,E),P.set(_e,le)})}),P}}class da{constructor(v,E,P){this.name=v,this.ast=E,this._normalizer=P,this.transitionFactories=[],this.states=new Map,E.states.forEach($=>{this.states.set($.name,new Rs($.style,$.options&&$.options.params||{},P))}),Ys(this.states,"true","1"),Ys(this.states,"false","0"),E.transitions.forEach($=>{this.transitionFactories.push(new vs(v,$,this.states))}),this.fallbackTransition=function ha(B,v,E){return new vs(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,_e)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,E,P,$){return this.transitionFactories.find(le=>le.match(v,E,P,$))||null}matchStyles(v,E,P){return this.fallbackTransition.buildStyles(v,E,P)}}function Ys(B,v,E){B.has(v)?B.has(E)||B.set(E,B.get(v)):B.has(E)&&B.set(v,B.get(E))}const fu=new Hi;class Aa{constructor(v,E,P){this.bodyNode=v,this._driver=E,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,E){const P=[],$=[],Y=Bn(this._driver,E,P,$);if(P.length)throw function qe(B){return new X.vHH(3503,!1)}();this._animations.set(v,Y)}_buildPlayer(v,E,P){const $=v.element,Y=hr(0,this._normalizer,0,v.keyframes,E,P);return this._driver.animate($,Y,v.duration,v.delay,v.easing,[],!0)}create(v,E,P={}){const $=[],Y=this._animations.get(v);let le;const _e=new Map;if(Y?(le=zi(this._driver,E,Y,we,ht,new Map,new Map,P,fu,$),le.forEach(Mt=>{const kt=rr(_e,Mt.element,new Map);Mt.postStyleProps.forEach(Pn=>kt.set(Pn,null))})):($.push(function ue(){return new X.vHH(3300,!1)}()),le=[]),$.length)throw function Te(B){return new X.vHH(3504,!1)}();_e.forEach((Mt,kt)=>{Mt.forEach((Pn,Fn)=>{Mt.set(Fn,this._driver.computeStyle(kt,Fn,rt.l3))})});const st=Yt(le.map(Mt=>{const kt=_e.get(Mt.element);return this._buildPlayer(Mt,new Map,kt)}));return this._playersById.set(v,st),st.onDestroy(()=>this.destroy(v)),this.players.push(st),st}destroy(v){const E=this._getPlayer(v);E.destroy(),this._playersById.delete(v);const P=this.players.indexOf(E);P>=0&&this.players.splice(P,1)}_getPlayer(v){const E=this._playersById.get(v);if(!E)throw function nt(B){return new X.vHH(3301,!1)}();return E}listen(v,E,P,$){const Y=hi(E,"","","");return ni(this._getPlayer(v),P,Y,$),()=>{}}command(v,E,P,$){if("register"==P)return void this.register(v,$[0]);if("create"==P)return void this.create(v,E,$[0]||{});const Y=this._getPlayer(v);switch(P){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(v)}}}const Ao="ng-animate-queued",Qs="ng-animate-disabled",qa=[],pu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},po={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xi="__ng_removed";class bi{get params(){return this.options.params}constructor(v,E=""){this.namespaceId=E;const P=v&&v.hasOwnProperty("value");if(this.value=function Ar(B){return B??null}(P?v.value:v),P){const Y=ae(v);delete Y.value,this.options=Y}else this.options={};this.options.params||(this.options.params={})}absorbOptions(v){const E=v.params;if(E){const P=this.options.params;Object.keys(E).forEach($=>{null==P[$]&&(P[$]=E[$])})}}}const qi="void",is=new bi(qi);class Ho{constructor(v,E,P){this.id=v,this.hostElement=E,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,Vi(E,this._hostClassName)}listen(v,E,P,$){if(!this._triggers.has(E))throw function It(B,v){return new X.vHH(3302,!1)}();if(null==P||0==P.length)throw function Pt(B){return new X.vHH(3303,!1)}();if(!function Zi(B){return"start"==B||"done"==B}(P))throw function _n(B,v){return new X.vHH(3400,!1)}();const Y=rr(this._elementListeners,v,[]),le={name:E,phase:P,callback:$};Y.push(le);const _e=rr(this._engine.statesByElement,v,new Map);return _e.has(E)||(Vi(v,lt),Vi(v,lt+"-"+E),_e.set(E,is)),()=>{this._engine.afterFlush(()=>{const Be=Y.indexOf(le);Be>=0&&Y.splice(Be,1),this._triggers.has(E)||_e.delete(E)})}}register(v,E){return!this._triggers.has(v)&&(this._triggers.set(v,E),!0)}_getTrigger(v){const E=this._triggers.get(v);if(!E)throw function sn(B){return new X.vHH(3401,!1)}();return E}trigger(v,E,P,$=!0){const Y=this._getTrigger(E),le=new Ki(this.id,E,v);let _e=this._engine.statesByElement.get(v);_e||(Vi(v,lt),Vi(v,lt+"-"+E),this._engine.statesByElement.set(v,_e=new Map));let Be=_e.get(E);const st=new bi(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&Be&&st.absorbOptions(Be.options),_e.set(E,st),Be||(Be=is),st.value!==qi&&Be.value===st.value){if(!function xs(B,v){const E=Object.keys(B),P=Object.keys(v);if(E.length!=P.length)return!1;for(let $=0;$<E.length;$++){const Y=E[$];if(!v.hasOwnProperty(Y)||B[Y]!==v[Y])return!1}return!0}(Be.params,st.params)){const An=[],ar=Y.matchStyles(Be.value,Be.params,An),Ir=Y.matchStyles(st.value,st.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{Fr(v,ar),kn(v,Ir)})}return}const Pn=rr(this._engine.playersByElement,v,[]);Pn.forEach(An=>{An.namespaceId==this.id&&An.triggerName==E&&An.queued&&An.destroy()});let Fn=Y.matchTransition(Be.value,st.value,v,st.params),yn=!1;if(!Fn){if(!$)return;Fn=Y.fallbackTransition,yn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:E,transition:Fn,fromState:Be,toState:st,player:le,isFallbackTransition:yn}),yn||(Vi(v,Ao),le.onStart(()=>{os(v,Ao)})),le.onDone(()=>{let An=this.players.indexOf(le);An>=0&&this.players.splice(An,1);const ar=this._engine.playersByElement.get(v);if(ar){let Ir=ar.indexOf(le);Ir>=0&&ar.splice(Ir,1)}}),this.players.push(le),Pn.push(le),le}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(E=>E.delete(v)),this._elementListeners.forEach((E,P)=>{this._elementListeners.set(P,E.filter($=>$.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const E=this._engine.playersByElement.get(v);E&&(E.forEach(P=>P.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,E){const P=this._engine.driver.query(v,ee,!0);P.forEach($=>{if($[xi])return;const Y=this._engine.fetchNamespacesByElement($);Y.size?Y.forEach(le=>le.triggerLeaveAnimation($,E,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>P.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(v,E,P,$){const Y=this._engine.statesByElement.get(v),le=new Map;if(Y){const _e=[];if(Y.forEach((Be,st)=>{if(le.set(st,Be.value),this._triggers.has(st)){const Mt=this.trigger(v,st,qi,$);Mt&&_e.push(Mt)}}),_e.length)return this._engine.markElementAsRemoved(this.id,v,!0,E,le),P&&Yt(_e).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const E=this._elementListeners.get(v),P=this._engine.statesByElement.get(v);if(E&&P){const $=new Set;E.forEach(Y=>{const le=Y.name;if($.has(le))return;$.add(le);const Be=this._triggers.get(le).fallbackTransition,st=P.get(le)||is,Mt=new bi(qi),kt=new Ki(this.id,le,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:le,transition:Be,fromState:st,toState:Mt,player:kt,isFallbackTransition:!0})})}}removeNode(v,E){const P=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,E),this.triggerLeaveAnimation(v,E,!0))return;let $=!1;if(P.totalAnimations){const Y=P.players.length?P.playersByQueriedElement.get(v):[];if(Y&&Y.length)$=!0;else{let le=v;for(;le=le.parentNode;)if(P.statesByElement.get(le)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(v),$)P.markElementAsRemoved(this.id,v,!1,E);else{const Y=v[xi];(!Y||Y===pu)&&(P.afterFlush(()=>this.clearElementCache(v)),P.destroyInnerAnimations(v),P._onRemovalComplete(v,E))}}insertNode(v,E){Vi(v,this._hostClassName)}drainQueuedTransitions(v){const E=[];return this._queue.forEach(P=>{const $=P.player;if($.destroyed)return;const Y=P.element,le=this._elementListeners.get(Y);le&&le.forEach(_e=>{if(_e.name==P.triggerName){const Be=hi(Y,P.triggerName,P.fromState.value,P.toState.value);Be._data=v,ni(P.player,_e.phase,Be,_e.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):E.push(P)}),this._queue=[],E.sort((P,$)=>{const Y=P.transition.ast.depCount,le=$.transition.ast.depCount;return 0==Y||0==le?Y-le:this._engine.driver.containsElement(P.element,$.element)?1:-1})}destroy(v){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let E=!1;return this._elementListeners.has(v)&&(E=!0),E=!!this._queue.find(P=>P.element===v)||E,E}}class Bs{_onRemovalComplete(v,E){this.onRemovalComplete(v,E)}constructor(v,E,P){this.bodyNode=v,this.driver=E,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,Y)=>{}}get queuedPlayers(){const v=[];return this._namespaceList.forEach(E=>{E.players.forEach(P=>{P.queued&&v.push(P)})}),v}createNamespace(v,E){const P=new Ho(v,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(P,E):(this.newHostElements.set(E,P),this.collectEnterElement(E)),this._namespaceLookup[v]=P}_balanceNamespaceList(v,E){const P=this._namespaceList,$=this.namespacesByHostElement;if(P.length-1>=0){let le=!1,_e=this.driver.getParentElement(E);for(;_e;){const Be=$.get(_e);if(Be){const st=P.indexOf(Be);P.splice(st+1,0,v),le=!0;break}_e=this.driver.getParentElement(_e)}le||P.unshift(v)}else P.push(v);return $.set(E,v),v}register(v,E){let P=this._namespaceLookup[v];return P||(P=this.createNamespace(v,E)),P}registerTrigger(v,E,P){let $=this._namespaceLookup[v];$&&$.register(E,P)&&this.totalAnimations++}destroy(v,E){if(!v)return;const P=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(P.hostElement),delete this._namespaceLookup[v];const $=this._namespaceList.indexOf(P);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>P.destroy(E))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const E=new Set,P=this.statesByElement.get(v);if(P)for(let $ of P.values())if($.namespaceId){const Y=this._fetchNamespace($.namespaceId);Y&&E.add(Y)}return E}trigger(v,E,P,$){if(pa(E)){const Y=this._fetchNamespace(v);if(Y)return Y.trigger(E,P,$),!0}return!1}insertNode(v,E,P,$){if(!pa(E))return;const Y=E[xi];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const le=this.collectedLeaveElements.indexOf(E);le>=0&&this.collectedLeaveElements.splice(le,1)}if(v){const le=this._fetchNamespace(v);le&&le.insertNode(E,P)}$&&this.collectEnterElement(E)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,E){E?this.disabledNodes.has(v)||(this.disabledNodes.add(v),Vi(v,Qs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),os(v,Qs))}removeNode(v,E,P,$){if(pa(E)){const Y=v?this._fetchNamespace(v):null;if(Y?Y.removeNode(E,$):this.markElementAsRemoved(v,E,!1,$),P){const le=this.namespacesByHostElement.get(E);le&&le.id!==v&&le.removeNode(E,$)}}else this._onRemovalComplete(E,$)}markElementAsRemoved(v,E,P,$,Y){this.collectedLeaveElements.push(E),E[xi]={namespaceId:v,setForRemoval:$,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:Y}}listen(v,E,P,$,Y){return pa(E)?this._fetchNamespace(v).listen(E,P,$,Y):()=>{}}_buildInstruction(v,E,P,$,Y){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,P,$,v.fromState.options,v.toState.options,E,Y)}destroyInnerAnimations(v){let E=this.driver.query(v,ee,!0);E.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(v,ge,!0),E.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(v){const E=this.playersByElement.get(v);E&&E.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(v){const E=this.playersByQueriedElement.get(v);E&&E.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Yt(this.players).onDone(()=>v());v()})}processLeaveNode(v){const E=v[xi];if(E&&E.setForRemoval){if(v[xi]=pu,E.namespaceId){this.destroyInnerAnimations(v);const P=this._fetchNamespace(E.namespaceId);P&&P.clearElementCache(v)}this._onRemovalComplete(v,E.setForRemoval)}v.classList?.contains(Qs)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(v=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,$)=>this._balanceNamespaceList(P,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Vi(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{E=this._flushAnimations(P,v)}finally{for(let $=0;$<P.length;$++)P[$]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],E.length?Yt(E).onDone(()=>{P.forEach($=>$())}):P.forEach($=>$())}}reportError(v){throw function Qn(B){return new X.vHH(3402,!1)}()}_flushAnimations(v,E){const P=new Hi,$=[],Y=new Map,le=[],_e=new Map,Be=new Map,st=new Map,Mt=new Set;this.disabledNodes.forEach(St=>{Mt.add(St);const zt=this.driver.query(St,".ng-animate-queued",!0);for(let Rt=0;Rt<zt.length;Rt++)Mt.add(zt[Rt])});const kt=this.bodyNode,Pn=Array.from(this.statesByElement.keys()),Fn=ei(Pn,this.collectedEnterElements),yn=new Map;let An=0;Fn.forEach((St,zt)=>{const Rt=we+An++;yn.set(zt,Rt),St.forEach(Ge=>Vi(Ge,Rt))});const ar=[],Ir=new Set,oi=new Set;for(let St=0;St<this.collectedLeaveElements.length;St++){const zt=this.collectedLeaveElements[St],Rt=zt[xi];Rt&&Rt.setForRemoval&&(ar.push(zt),Ir.add(zt),Rt.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(Ge=>Ir.add(Ge)):oi.add(zt))}const Nr=new Map,Br=ei(Pn,Array.from(Ir));Br.forEach((St,zt)=>{const Rt=ht+An++;Nr.set(zt,Rt),St.forEach(Ge=>Vi(Ge,Rt))}),v.push(()=>{Fn.forEach((St,zt)=>{const Rt=yn.get(zt);St.forEach(Ge=>os(Ge,Rt))}),Br.forEach((St,zt)=>{const Rt=Nr.get(zt);St.forEach(Ge=>os(Ge,Rt))}),ar.forEach(St=>{this.processLeaveNode(St)})});const $r=[],Ns=[];for(let St=this._namespaceList.length-1;St>=0;St--)this._namespaceList[St].drainQueuedTransitions(E).forEach(Rt=>{const Ge=Rt.player,cn=Rt.element;if($r.push(Ge),this.collectedEnterElements.length){const Le=cn[xi];if(Le&&Le.setForMove){if(Le.previousTriggersValues&&Le.previousTriggersValues.has(Rt.triggerName)){const mt=Le.previousTriggersValues.get(Rt.triggerName),yr=this.statesByElement.get(Rt.element);if(yr&&yr.has(Rt.triggerName)){const _o=yr.get(Rt.triggerName);_o.value=mt,yr.set(Rt.triggerName,_o)}}return void Ge.destroy()}}const Vn=!kt||!this.driver.containsElement(kt,cn),Or=Nr.get(cn),Kt=yn.get(cn),Lt=this._buildInstruction(Rt,P,Kt,Or,Vn);if(Lt.errors&&Lt.errors.length)return void Ns.push(Lt);if(Vn)return Ge.onStart(()=>Fr(cn,Lt.fromStyles)),Ge.onDestroy(()=>kn(cn,Lt.toStyles)),void $.push(Ge);if(Rt.isFallbackTransition)return Ge.onStart(()=>Fr(cn,Lt.fromStyles)),Ge.onDestroy(()=>kn(cn,Lt.toStyles)),void $.push(Ge);const Qi=[];Lt.timelines.forEach(Le=>{Le.stretchStartingKeyframe=!0,this.disabledNodes.has(Le.element)||Qi.push(Le)}),Lt.timelines=Qi,P.append(cn,Lt.timelines),le.push({instruction:Lt,player:Ge,element:cn}),Lt.queriedElements.forEach(Le=>rr(_e,Le,[]).push(Ge)),Lt.preStyleProps.forEach((Le,mt)=>{if(Le.size){let yr=Be.get(mt);yr||Be.set(mt,yr=new Set),Le.forEach((_o,Os)=>yr.add(Os))}}),Lt.postStyleProps.forEach((Le,mt)=>{let yr=st.get(mt);yr||st.set(mt,yr=new Set),Le.forEach((_o,Os)=>yr.add(Os))})});if(Ns.length){const St=[];Ns.forEach(zt=>{St.push(function Er(B,v){return new X.vHH(3505,!1)}())}),$r.forEach(zt=>zt.destroy()),this.reportError(St)}const A=new Map,F=new Map;le.forEach(St=>{const zt=St.element;P.has(zt)&&(F.set(zt,zt),this._beforeAnimationBuild(St.player.namespaceId,St.instruction,A))}),$.forEach(St=>{const zt=St.element;this._getPreviousPlayers(zt,!1,St.namespaceId,St.triggerName,null).forEach(Ge=>{rr(A,zt,[]).push(Ge),Ge.destroy()})});const x=ar.filter(St=>ui(St,Be,st)),H=new Map;zo(H,this.driver,oi,st,rt.l3).forEach(St=>{ui(St,Be,st)&&x.push(St)});const ze=new Map;Fn.forEach((St,zt)=>{zo(ze,this.driver,new Set(St),Be,rt.k1)}),x.forEach(St=>{const zt=H.get(St),Rt=ze.get(St);H.set(St,new Map([...Array.from(zt?.entries()??[]),...Array.from(Rt?.entries()??[])]))});const ut=[],Ht=[],cr={};le.forEach(St=>{const{element:zt,player:Rt,instruction:Ge}=St;if(P.has(zt)){if(Mt.has(zt))return Rt.onDestroy(()=>kn(zt,Ge.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(Ge.totalTime),void $.push(Rt);let cn=cr;if(F.size>1){let Or=zt;const Kt=[];for(;Or=Or.parentNode;){const Lt=F.get(Or);if(Lt){cn=Lt;break}Kt.push(Or)}Kt.forEach(Lt=>F.set(Lt,cn))}const Vn=this._buildAnimation(Rt.namespaceId,Ge,A,Y,ze,H);if(Rt.setRealPlayer(Vn),cn===cr)ut.push(Rt);else{const Or=this.playersByElement.get(cn);Or&&Or.length&&(Rt.parentPlayer=Yt(Or)),$.push(Rt)}}else Fr(zt,Ge.fromStyles),Rt.onDestroy(()=>kn(zt,Ge.toStyles)),Ht.push(Rt),Mt.has(zt)&&$.push(Rt)}),Ht.forEach(St=>{const zt=Y.get(St.element);if(zt&&zt.length){const Rt=Yt(zt);St.setRealPlayer(Rt)}}),$.forEach(St=>{St.parentPlayer?St.syncPlayerEvents(St.parentPlayer):St.destroy()});for(let St=0;St<ar.length;St++){const zt=ar[St],Rt=zt[xi];if(os(zt,ht),Rt&&Rt.hasAnimation)continue;let Ge=[];if(_e.size){let Vn=_e.get(zt);Vn&&Vn.length&&Ge.push(...Vn);let Or=this.driver.query(zt,ge,!0);for(let Kt=0;Kt<Or.length;Kt++){let Lt=_e.get(Or[Kt]);Lt&&Lt.length&&Ge.push(...Lt)}}const cn=Ge.filter(Vn=>!Vn.destroyed);cn.length?Ci(this,zt,cn):this.processLeaveNode(zt)}return ar.length=0,ut.forEach(St=>{this.players.push(St),St.onDone(()=>{St.destroy();const zt=this.players.indexOf(St);this.players.splice(zt,1)}),St.play()}),ut}elementContainsData(v,E){let P=!1;const $=E[xi];return $&&$.setForRemoval&&(P=!0),this.playersByElement.has(E)&&(P=!0),this.playersByQueriedElement.has(E)&&(P=!0),this.statesByElement.has(E)&&(P=!0),this._fetchNamespace(v).elementContainsData(E)||P}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,E,P,$,Y){let le=[];if(E){const _e=this.playersByQueriedElement.get(v);_e&&(le=_e)}else{const _e=this.playersByElement.get(v);if(_e){const Be=!Y||Y==qi;_e.forEach(st=>{st.queued||!Be&&st.triggerName!=$||le.push(st)})}}return(P||$)&&(le=le.filter(_e=>!(P&&P!=_e.namespaceId||$&&$!=_e.triggerName))),le}_beforeAnimationBuild(v,E,P){const Y=E.element,le=E.isRemovalTransition?void 0:v,_e=E.isRemovalTransition?void 0:E.triggerName;for(const Be of E.timelines){const st=Be.element,Mt=st!==Y,kt=rr(P,st,[]);this._getPreviousPlayers(st,Mt,le,_e,E.toState).forEach(Fn=>{const yn=Fn.getRealPlayer();yn.beforeDestroy&&yn.beforeDestroy(),Fn.destroy(),kt.push(Fn)})}Fr(Y,E.fromStyles)}_buildAnimation(v,E,P,$,Y,le){const _e=E.triggerName,Be=E.element,st=[],Mt=new Set,kt=new Set,Pn=E.timelines.map(yn=>{const An=yn.element;Mt.add(An);const ar=An[xi];if(ar&&ar.removedBeforeQueried)return new rt.ZN(yn.duration,yn.delay);const Ir=An!==Be,oi=function Js(B){const v=[];return Ur(B,v),v}((P.get(An)||qa).map(A=>A.getRealPlayer())).filter(A=>!!A.element&&A.element===An),Nr=Y.get(An),Br=le.get(An),$r=hr(0,this._normalizer,0,yn.keyframes,Nr,Br),Ns=this._buildPlayer(yn,$r,oi);if(yn.subTimeline&&$&&kt.add(An),Ir){const A=new Ki(v,_e,An);A.setRealPlayer(Ns),st.push(A)}return Ns});st.forEach(yn=>{rr(this.playersByQueriedElement,yn.element,[]).push(yn),yn.onDone(()=>function Pi(B,v,E){let P=B.get(v);if(P){if(P.length){const $=P.indexOf(E);P.splice($,1)}0==P.length&&B.delete(v)}return P}(this.playersByQueriedElement,yn.element,yn))}),Mt.forEach(yn=>Vi(yn,te));const Fn=Yt(Pn);return Fn.onDestroy(()=>{Mt.forEach(yn=>os(yn,te)),kn(Be,E.toStyles)}),kt.forEach(yn=>{rr($,yn,[]).push(Fn)}),Fn}_buildPlayer(v,E,P){return E.length>0?this.driver.animate(v.element,E,v.duration,v.delay,v.easing,P):new rt.ZN(v.duration,v.delay)}}class Ki{constructor(v,E,P){this.namespaceId=v,this.triggerName=E,this.element=P,this._player=new rt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((E,P)=>{E.forEach($=>ni(v,P,void 0,$))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const E=this._player;E.triggerCallback&&v.onStart(()=>E.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,E){rr(this._queuedCallbacks,v,[]).push(E)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const E=this._player;E.triggerCallback&&E.triggerCallback(v)}}function pa(B){return B&&1===B.nodeType}function ss(B,v){const E=B.style.display;return B.style.display=v??"none",E}function zo(B,v,E,P,$){const Y=[];E.forEach(Be=>Y.push(ss(Be)));const le=[];P.forEach((Be,st)=>{const Mt=new Map;Be.forEach(kt=>{const Pn=v.computeStyle(st,kt,$);Mt.set(kt,Pn),(!Pn||0==Pn.length)&&(st[xi]=po,le.push(st))}),B.set(st,Mt)});let _e=0;return E.forEach(Be=>ss(Be,Y[_e++])),le}function ei(B,v){const E=new Map;if(B.forEach(_e=>E.set(_e,[])),0==v.length)return E;const P=1,$=new Set(v),Y=new Map;function le(_e){if(!_e)return P;let Be=Y.get(_e);if(Be)return Be;const st=_e.parentNode;return Be=E.has(st)?st:$.has(st)?P:le(st),Y.set(_e,Be),Be}return v.forEach(_e=>{const Be=le(_e);Be!==P&&E.get(Be).push(_e)}),E}function Vi(B,v){B.classList?.add(v)}function os(B,v){B.classList?.remove(v)}function Ci(B,v,E){Yt(E).onDone(()=>B.processLeaveNode(v))}function Ur(B,v){for(let E=0;E<B.length;E++){const P=B[E];P instanceof rt.ZE?Ur(P.players,v):v.push(P)}}function ui(B,v,E){const P=E.get(B);if(!P)return!1;let $=v.get(B);return $?P.forEach(Y=>$.add(Y)):v.set(B,P),E.delete(B),!0}class go{constructor(v,E,P){this.bodyNode=v,this._driver=E,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=($,Y)=>{},this._transitionEngine=new Bs(v,E,P),this._timelineEngine=new Aa(v,E,P),this._transitionEngine.onRemovalComplete=($,Y)=>this.onRemovalComplete($,Y)}registerTrigger(v,E,P,$,Y){const le=v+"-"+$;let _e=this._triggerCache[le];if(!_e){const Be=[],st=[],Mt=Bn(this._driver,Y,Be,st);if(Be.length)throw function Xe(B,v){return new X.vHH(3404,!1)}();_e=function So(B,v,E){return new da(B,v,E)}($,Mt,this._normalizer),this._triggerCache[le]=_e}this._transitionEngine.registerTrigger(E,$,_e)}register(v,E){this._transitionEngine.register(v,E)}destroy(v,E){this._transitionEngine.destroy(v,E)}onInsert(v,E,P,$){this._transitionEngine.insertNode(v,E,P,$)}onRemove(v,E,P,$){this._transitionEngine.removeNode(v,E,$||!1,P)}disableAnimations(v,E){this._transitionEngine.markElementAsDisabled(v,E)}process(v,E,P,$){if("@"==P.charAt(0)){const[Y,le]=fr(P);this._timelineEngine.command(Y,E,le,$)}else this._transitionEngine.trigger(v,E,P,$)}listen(v,E,P,$,Y){if("@"==P.charAt(0)){const[le,_e]=fr(P);return this._timelineEngine.listen(le,E,_e,Y)}return this._transitionEngine.listen(v,E,P,$,Y)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Vs=(()=>{class B{constructor(E,P,$){this._element=E,this._startStyles=P,this._endStyles=$,this._state=0;let Y=B.initialStylesByElement.get(E);Y||B.initialStylesByElement.set(E,Y=new Map),this._initialStyles=Y}start(){this._state<1&&(this._startStyles&&kn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(kn(this._element,this._initialStyles),this._endStyles&&(kn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(Fr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fr(this._element,this._endStyles),this._endStyles=null),kn(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function Ni(B){let v=null;return B.forEach((E,P)=>{(function Mo(B){return"display"===B||"position"===B})(P)&&(v=v||new Map,v.set(P,E))}),v}class Ro{constructor(v,E,P,$){this.element=v,this.keyframes=E,this.options=P,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const E=[];return v.forEach(P=>{E.push(Object.fromEntries(P))}),E}_triggerWebAnimation(v,E,P){return v.animate(this._convertKeyframesToObject(E),P)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,$)=>{"offset"!==$&&v.set($,this._finished?P:vi(this.element,$))}),this.currentSnapshot=v}triggerCallback(v){const E="start"===v?this._onStartFns:this._onDoneFns;E.forEach(P=>P()),E.length=0}}class Cn{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,E){return!1}containsElement(v,E){return yi(v,E)}getParentElement(v){return Vt(v)}query(v,E,P){return Ln(v,E,P)}computeStyle(v,E,P){return window.getComputedStyle(v)[E]}animate(v,E,P,$,Y,le=[]){const Be={duration:P,delay:$,fill:0==$?"both":"forwards"};Y&&(Be.easing=Y);const st=new Map,Mt=le.filter(Fn=>Fn instanceof Ro);(function Xr(B,v){return 0===B||0===v})(P,$)&&Mt.forEach(Fn=>{Fn.currentSnapshot.forEach((yn,An)=>st.set(An,yn))});let kt=function pe(B){return B.length?B[0]instanceof Map?B:B.map(v=>Q(v)):[]}(E).map(Fn=>gt(Fn));kt=function Li(B,v,E){if(E.size&&v.length){let P=v[0],$=[];if(E.forEach((Y,le)=>{P.has(le)||$.push(le),P.set(le,Y)}),$.length)for(let Y=1;Y<v.length;Y++){let le=v[Y];$.forEach(_e=>le.set(_e,vi(B,_e)))}}return v}(v,kt,st);const Pn=function mo(B,v){let E=null,P=null;return Array.isArray(v)&&v.length?(E=Ni(v[0]),v.length>1&&(P=Ni(v[v.length-1]))):v instanceof Map&&(E=Ni(v)),E||P?new Vs(B,E,P):null}(v,kt);return new Ro(v,kt,Be,Pn)}}var ur=Z(6895);let $s=(()=>{class B extends rt._j{constructor(E,P){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(P.body,{id:"0",encapsulation:X.ifc.None,styles:[],data:{animation:[]}})}build(E){const P=this._nextAnimationId.toString();this._nextAnimationId++;const $=Array.isArray(E)?(0,rt.vP)(E):E;return Go(this._renderer,null,P,"register",[$]),new Ka(P,this._renderer)}}return B.\u0275fac=function(E){return new(E||B)(X.LFG(X.FYo),X.LFG(ur.K0))},B.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac}),B})();class Ka extends rt.LC{constructor(v,E){super(),this._id=v,this._renderer=E}create(v,E){return new as(this._id,v,E||{},this._renderer)}}class as{constructor(v,E,P,$){this.id=v,this.element=E,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(v,E){return this._renderer.listen(this.element,`@@${this.id}:${v}`,E)}_command(v,...E){return Go(this._renderer,this.element,this.id,v,E)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Go(B,v,E,P,$){return B.setProperty(v,`@@${E}:${P}`,$)}const Wo="@.disabled";let yo=(()=>{class B{constructor(E,P,$){this.delegate=E,this.engine=P,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),P.onRemovalComplete=(Y,le)=>{const _e=le?.parentNode(Y);_e&&le.removeChild(_e,Y)}}createRenderer(E,P){const Y=this.delegate.createRenderer(E,P);if(!(E&&P&&P.data&&P.data.animation)){let Mt=this._rendererCache.get(Y);return Mt||(Mt=new wt("",Y,this.engine,()=>this._rendererCache.delete(Y)),this._rendererCache.set(Y,Mt)),Mt}const le=P.id,_e=P.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,E);const Be=Mt=>{Array.isArray(Mt)?Mt.forEach(Be):this.engine.registerTrigger(le,_e,E,Mt.name,Mt)};return P.data.animation.forEach(Be),new Wn(this,_e,Y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,P,$){E>=0&&E<this._microtaskId?this._zone.run(()=>P($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Y=>{const[le,_e]=Y;le(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(E){return new(E||B)(X.LFG(X.FYo),X.LFG(go),X.LFG(X.R0b))},B.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac}),B})();class wt{constructor(v,E,P,$){this.namespaceId=v,this.delegate=E,this.engine=P,this._onDestroy=$,this.destroyNode=this.delegate.destroyNode?Y=>E.destroyNode(Y):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(v,E){return this.delegate.createElement(v,E)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,E){this.delegate.appendChild(v,E),this.engine.onInsert(this.namespaceId,E,v,!1)}insertBefore(v,E,P,$=!0){this.delegate.insertBefore(v,E,P),this.engine.onInsert(this.namespaceId,E,v,$)}removeChild(v,E,P){this.engine.onRemove(this.namespaceId,E,this.delegate,P)}selectRootElement(v,E){return this.delegate.selectRootElement(v,E)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,E,P,$){this.delegate.setAttribute(v,E,P,$)}removeAttribute(v,E,P){this.delegate.removeAttribute(v,E,P)}addClass(v,E){this.delegate.addClass(v,E)}removeClass(v,E){this.delegate.removeClass(v,E)}setStyle(v,E,P,$){this.delegate.setStyle(v,E,P,$)}removeStyle(v,E,P){this.delegate.removeStyle(v,E,P)}setProperty(v,E,P){"@"==E.charAt(0)&&E==Wo?this.disableAnimations(v,!!P):this.delegate.setProperty(v,E,P)}setValue(v,E){this.delegate.setValue(v,E)}listen(v,E,P){return this.delegate.listen(v,E,P)}disableAnimations(v,E){this.engine.disableAnimations(v,E)}}class Wn extends wt{constructor(v,E,P,$,Y){super(E,P,$,Y),this.factory=v,this.namespaceId=E}setProperty(v,E,P){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Wo?this.disableAnimations(v,P=void 0===P||!!P):this.engine.process(this.namespaceId,v,E.slice(1),P):this.delegate.setProperty(v,E,P)}listen(v,E,P){if("@"==E.charAt(0)){const $=function Za(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(v);let Y=E.slice(1),le="";return"@"!=Y.charAt(0)&&([Y,le]=function _s(B){const v=B.indexOf(".");return[B.substring(0,v),B.slice(v+1)]}(Y)),this.engine.listen(this.namespaceId,$,Y,le,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,P,_e)})}return this.delegate.listen(v,E,P)}}const Hr=[{provide:rt._j,useClass:$s},{provide:Ls,useFactory:function js(){return new Wi}},{provide:go,useClass:(()=>{class B extends go{constructor(E,P,$,Y){super(E.body,P,$)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(E){return new(E||B)(X.LFG(ur.K0),X.LFG(fi),X.LFG(Ls),X.LFG(X.z2F))},B.\u0275prov=X.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:X.FYo,useFactory:function Es(B,v,E){return new yo(B,v,E)},deps:[T.se,go,X.R0b]}],vo=[{provide:fi,useFactory:()=>new Cn},{provide:X.QbO,useValue:"BrowserAnimations"},...Hr],Ps=[{provide:fi,useClass:Zn},{provide:X.QbO,useValue:"NoopAnimations"},...Hr];let Yi=(()=>{class B{static withConfig(E){return{ngModule:B,providers:E.disableAnimations?Ps:vo}}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275mod=X.oAB({type:B}),B.\u0275inj=X.cJS({providers:vo,imports:[T.b2]}),B})();var zr=Z(3648),us=Z(529);let ws=(()=>{class B{static#e=this.\u0275fac=function(P){return new(P||B)};static#t=this.\u0275mod=X.oAB({type:B,bootstrap:[Ae]});static#n=this.\u0275inj=X.cJS({imports:[T.b2,Ce,us.JF,(0,vt.hX)(()=>(0,vt.ZF)(ne_firebase)),(0,me.AR)(()=>(0,me.v0)()),(0,Ze.Cm)(()=>(0,Ze.ad)()),Yi,zr.Rh.forRoot()]})}return B})();T.q6().bootstrapModule(ws).catch(B=>console.error(B))},9751:(Dn,Et,Z)=>{Z.d(Et,{y:()=>Ae});var T=Z(2961),z=Z(727),X=Z(8822),Oe=Z(9635),be=Z(2416),he=Z(576),Ce=Z(2806);let Ae=(()=>{class Ze{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const Ot=new Ze;return Ot.source=this,Ot.operator=Ye,Ot}subscribe(Ye,Ot,Zt){const fn=function me(Ze){return Ze&&Ze instanceof T.Lv||function ne(Ze){return Ze&&(0,he.m)(Ze.next)&&(0,he.m)(Ze.error)&&(0,he.m)(Ze.complete)}(Ze)&&(0,z.Nn)(Ze)}(Ye)?Ye:new T.Hp(Ye,Ot,Zt);return(0,Ce.x)(()=>{const{operator:Ft,source:Sn}=this;fn.add(Ft?Ft.call(fn,Sn):Sn?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(Ot){Ye.error(Ot)}}forEach(Ye,Ot){return new(Ot=vt(Ot))((Zt,fn)=>{const Ft=new T.Hp({next:Sn=>{try{Ye(Sn)}catch(Dt){fn(Dt),Ft.unsubscribe()}},error:fn,complete:Zt});this.subscribe(Ft)})}_subscribe(Ye){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(Ye)}[X.L](){return this}pipe(...Ye){return(0,Oe.U)(Ye)(this)}toPromise(Ye){return new(Ye=vt(Ye))((Ot,Zt)=>{let fn;this.subscribe(Ft=>fn=Ft,Ft=>Zt(Ft),()=>Ot(fn))})}}return Ze.create=rt=>new Ze(rt),Ze})();function vt(Ze){var rt;return null!==(rt=Ze??be.v.Promise)&&void 0!==rt?rt:Promise}},7579:(Dn,Et,Z)=>{Z.d(Et,{x:()=>Ce});var T=Z(9751),z=Z(727);const Oe=(0,Z(3888).d)(vt=>function(){vt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=Z(8737),he=Z(2806);let Ce=(()=>{class vt extends T.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(me){const Ze=new Ae(this,this);return Ze.operator=me,Ze}_throwIfClosed(){if(this.closed)throw new Oe}next(me){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ze of this.currentObservers)Ze.next(me)}})}error(me){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=me;const{observers:Ze}=this;for(;Ze.length;)Ze.shift().error(me)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:me}=this;for(;me.length;)me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var me;return(null===(me=this.observers)||void 0===me?void 0:me.length)>0}_trySubscribe(me){return this._throwIfClosed(),super._trySubscribe(me)}_subscribe(me){return this._throwIfClosed(),this._checkFinalizedStatuses(me),this._innerSubscribe(me)}_innerSubscribe(me){const{hasError:Ze,isStopped:rt,observers:Ye}=this;return Ze||rt?z.Lc:(this.currentObservers=null,Ye.push(me),new z.w0(()=>{this.currentObservers=null,(0,be.P)(Ye,me)}))}_checkFinalizedStatuses(me){const{hasError:Ze,thrownError:rt,isStopped:Ye}=this;Ze?me.error(rt):Ye&&me.complete()}asObservable(){const me=new T.y;return me.source=this,me}}return vt.create=(ne,me)=>new Ae(ne,me),vt})();class Ae extends Ce{constructor(ne,me){super(),this.destination=ne,this.source=me}next(ne){var me,Ze;null===(Ze=null===(me=this.destination)||void 0===me?void 0:me.next)||void 0===Ze||Ze.call(me,ne)}error(ne){var me,Ze;null===(Ze=null===(me=this.destination)||void 0===me?void 0:me.error)||void 0===Ze||Ze.call(me,ne)}complete(){var ne,me;null===(me=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===me||me.call(ne)}_subscribe(ne){var me,Ze;return null!==(Ze=null===(me=this.source)||void 0===me?void 0:me.subscribe(ne))&&void 0!==Ze?Ze:z.Lc}}},2961:(Dn,Et,Z)=>{Z.d(Et,{Hp:()=>Zt,Lv:()=>Ze});var T=Z(576),z=Z(727),X=Z(2416),Oe=Z(7849);function be(){}const he=vt("C",void 0,void 0);function vt(Qe,Pe,ot){return{kind:Qe,value:Pe,error:ot}}var ne=Z(3410),me=Z(2806);class Ze extends z.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,z.Nn)(Pe)&&Pe.add(this)):this.destination=Dt}static create(Pe,ot,At){return new Zt(Pe,ot,At)}next(Pe){this.isStopped?Sn(function Ae(Qe){return vt("N",Qe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Sn(function Ce(Qe){return vt("E",void 0,Qe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Sn(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rt=Function.prototype.bind;function Ye(Qe,Pe){return rt.call(Qe,Pe)}class Ot{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:ot}=this;if(ot.next)try{ot.next(Pe)}catch(At){fn(At)}}error(Pe){const{partialObserver:ot}=this;if(ot.error)try{ot.error(Pe)}catch(At){fn(At)}else fn(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(ot){fn(ot)}}}class Zt extends Ze{constructor(Pe,ot,At){let ct;if(super(),(0,T.m)(Pe)||!Pe)ct={next:Pe??void 0,error:ot??void 0,complete:At??void 0};else{let Tt;this&&X.v.useDeprecatedNextContext?(Tt=Object.create(Pe),Tt.unsubscribe=()=>this.unsubscribe(),ct={next:Pe.next&&Ye(Pe.next,Tt),error:Pe.error&&Ye(Pe.error,Tt),complete:Pe.complete&&Ye(Pe.complete,Tt)}):ct=Pe}this.destination=new Ot(ct)}}function fn(Qe){X.v.useDeprecatedSynchronousErrorHandling?(0,me.O)(Qe):(0,Oe.h)(Qe)}function Sn(Qe,Pe){const{onStoppedNotification:ot}=X.v;ot&&ne.z.setTimeout(()=>ot(Qe,Pe))}const Dt={closed:!0,next:be,error:function Ft(Qe){throw Qe},complete:be}},727:(Dn,Et,Z)=>{Z.d(Et,{Lc:()=>he,w0:()=>be,Nn:()=>Ce});var T=Z(576);const X=(0,Z(3888).d)(vt=>function(me){vt(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((Ze,rt)=>`${rt+1}) ${Ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me});var Oe=Z(8737);class be{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:me}=this;if(me)if(this._parentage=null,Array.isArray(me))for(const Ye of me)Ye.remove(this);else me.remove(this);const{initialTeardown:Ze}=this;if((0,T.m)(Ze))try{Ze()}catch(Ye){ne=Ye instanceof X?Ye.errors:[Ye]}const{_finalizers:rt}=this;if(rt){this._finalizers=null;for(const Ye of rt)try{Ae(Ye)}catch(Ot){ne=ne??[],Ot instanceof X?ne=[...ne,...Ot.errors]:ne.push(Ot)}}if(ne)throw new X(ne)}}add(ne){var me;if(ne&&ne!==this)if(this.closed)Ae(ne);else{if(ne instanceof be){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(me=this._finalizers)&&void 0!==me?me:[]).push(ne)}}_hasParent(ne){const{_parentage:me}=this;return me===ne||Array.isArray(me)&&me.includes(ne)}_addParent(ne){const{_parentage:me}=this;this._parentage=Array.isArray(me)?(me.push(ne),me):me?[me,ne]:ne}_removeParent(ne){const{_parentage:me}=this;me===ne?this._parentage=null:Array.isArray(me)&&(0,Oe.P)(me,ne)}remove(ne){const{_finalizers:me}=this;me&&(0,Oe.P)(me,ne),ne instanceof be&&ne._removeParent(this)}}be.EMPTY=(()=>{const vt=new be;return vt.closed=!0,vt})();const he=be.EMPTY;function Ce(vt){return vt instanceof be||vt&&"closed"in vt&&(0,T.m)(vt.remove)&&(0,T.m)(vt.add)&&(0,T.m)(vt.unsubscribe)}function Ae(vt){(0,T.m)(vt)?vt():vt.unsubscribe()}},2416:(Dn,Et,Z)=>{Z.d(Et,{v:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dn,Et,Z)=>{Z.d(Et,{E:()=>z});const z=new(Z(9751).y)(be=>be.complete())},8996:(Dn,Et,Z)=>{Z.d(Et,{D:()=>Pe});var T=Z(8421),z=Z(5363),X=Z(9468),he=Z(9751),Ae=Z(2202),vt=Z(576),ne=Z(9672);function Ze(ot,At){if(!ot)throw new Error("Iterable cannot be null");return new he.y(ct=>{(0,ne.f)(ct,At,()=>{const Tt=ot[Symbol.asyncIterator]();(0,ne.f)(ct,At,()=>{Tt.next().then(at=>{at.done?ct.complete():ct.next(at.value)})},0,!0)})})}var rt=Z(3670),Ye=Z(8239),Ot=Z(1144),Zt=Z(6495),fn=Z(2206),Ft=Z(4532),Sn=Z(3260);function Pe(ot,At){return At?function Qe(ot,At){if(null!=ot){if((0,rt.c)(ot))return function Oe(ot,At){return(0,T.Xf)(ot).pipe((0,X.R)(At),(0,z.Q)(At))}(ot,At);if((0,Ot.z)(ot))return function Ce(ot,At){return new he.y(ct=>{let Tt=0;return At.schedule(function(){Tt===ot.length?ct.complete():(ct.next(ot[Tt++]),ct.closed||this.schedule())})})}(ot,At);if((0,Ye.t)(ot))return function be(ot,At){return(0,T.Xf)(ot).pipe((0,X.R)(At),(0,z.Q)(At))}(ot,At);if((0,fn.D)(ot))return Ze(ot,At);if((0,Zt.T)(ot))return function me(ot,At){return new he.y(ct=>{let Tt;return(0,ne.f)(ct,At,()=>{Tt=ot[Ae.h](),(0,ne.f)(ct,At,()=>{let at,Wt;try{({value:at,done:Wt}=Tt.next())}catch(qt){return void ct.error(qt)}Wt?ct.complete():ct.next(at)},0,!0)}),()=>(0,vt.m)(Tt?.return)&&Tt.return()})}(ot,At);if((0,Sn.L)(ot))return function Dt(ot,At){return Ze((0,Sn.Q)(ot),At)}(ot,At)}throw(0,Ft.z)(ot)}(ot,At):(0,T.Xf)(ot)}},8421:(Dn,Et,Z)=>{Z.d(Et,{Xf:()=>rt});var T=Z(7582),z=Z(1144),X=Z(8239),Oe=Z(9751),be=Z(3670),he=Z(2206),Ce=Z(4532),Ae=Z(6495),vt=Z(3260),ne=Z(576),me=Z(7849),Ze=Z(8822);function rt(Qe){if(Qe instanceof Oe.y)return Qe;if(null!=Qe){if((0,be.c)(Qe))return function Ye(Qe){return new Oe.y(Pe=>{const ot=Qe[Ze.L]();if((0,ne.m)(ot.subscribe))return ot.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Qe);if((0,z.z)(Qe))return function Ot(Qe){return new Oe.y(Pe=>{for(let ot=0;ot<Qe.length&&!Pe.closed;ot++)Pe.next(Qe[ot]);Pe.complete()})}(Qe);if((0,X.t)(Qe))return function Zt(Qe){return new Oe.y(Pe=>{Qe.then(ot=>{Pe.closed||(Pe.next(ot),Pe.complete())},ot=>Pe.error(ot)).then(null,me.h)})}(Qe);if((0,he.D)(Qe))return Ft(Qe);if((0,Ae.T)(Qe))return function fn(Qe){return new Oe.y(Pe=>{for(const ot of Qe)if(Pe.next(ot),Pe.closed)return;Pe.complete()})}(Qe);if((0,vt.L)(Qe))return function Sn(Qe){return Ft((0,vt.Q)(Qe))}(Qe)}throw(0,Ce.z)(Qe)}function Ft(Qe){return new Oe.y(Pe=>{(function Dt(Qe,Pe){var ot,At,ct,Tt;return(0,T.mG)(this,void 0,void 0,function*(){try{for(ot=(0,T.KL)(Qe);!(At=yield ot.next()).done;)if(Pe.next(At.value),Pe.closed)return}catch(at){ct={error:at}}finally{try{At&&!At.done&&(Tt=ot.return)&&(yield Tt.call(ot))}finally{if(ct)throw ct.error}}Pe.complete()})})(Qe,Pe).catch(ot=>Pe.error(ot))})}},9646:(Dn,Et,Z)=>{Z.d(Et,{of:()=>X});var T=Z(7669),z=Z(8996);function X(...Oe){const be=(0,T.yG)(Oe);return(0,z.D)(Oe,be)}},5403:(Dn,Et,Z)=>{Z.d(Et,{x:()=>z});var T=Z(2961);function z(Oe,be,he,Ce,Ae){return new X(Oe,be,he,Ce,Ae)}class X extends T.Lv{constructor(be,he,Ce,Ae,vt,ne){super(be),this.onFinalize=vt,this.shouldUnsubscribe=ne,this._next=he?function(me){try{he(me)}catch(Ze){be.error(Ze)}}:super._next,this._error=Ae?function(me){try{Ae(me)}catch(Ze){be.error(Ze)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(me){be.error(me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},4351:(Dn,Et,Z)=>{Z.d(Et,{b:()=>X});var T=Z(5577),z=Z(576);function X(Oe,be){return(0,z.m)(be)?(0,T.z)(Oe,be,1):(0,T.z)(Oe,1)}},9300:(Dn,Et,Z)=>{Z.d(Et,{h:()=>X});var T=Z(4482),z=Z(5403);function X(Oe,be){return(0,T.e)((he,Ce)=>{let Ae=0;he.subscribe((0,z.x)(Ce,vt=>Oe.call(be,vt,Ae++)&&Ce.next(vt)))})}},4004:(Dn,Et,Z)=>{Z.d(Et,{U:()=>X});var T=Z(4482),z=Z(5403);function X(Oe,be){return(0,T.e)((he,Ce)=>{let Ae=0;he.subscribe((0,z.x)(Ce,vt=>{Ce.next(Oe.call(be,vt,Ae++))}))})}},8189:(Dn,Et,Z)=>{Z.d(Et,{J:()=>X});var T=Z(5577),z=Z(4671);function X(Oe=1/0){return(0,T.z)(z.y,Oe)}},5577:(Dn,Et,Z)=>{Z.d(Et,{z:()=>Ae});var T=Z(4004),z=Z(8421),X=Z(4482),Oe=Z(9672),be=Z(5403),Ce=Z(576);function Ae(vt,ne,me=1/0){return(0,Ce.m)(ne)?Ae((Ze,rt)=>(0,T.U)((Ye,Ot)=>ne(Ze,Ye,rt,Ot))((0,z.Xf)(vt(Ze,rt))),me):("number"==typeof ne&&(me=ne),(0,X.e)((Ze,rt)=>function he(vt,ne,me,Ze,rt,Ye,Ot,Zt){const fn=[];let Ft=0,Sn=0,Dt=!1;const Qe=()=>{Dt&&!fn.length&&!Ft&&ne.complete()},Pe=At=>Ft<Ze?ot(At):fn.push(At),ot=At=>{Ye&&ne.next(At),Ft++;let ct=!1;(0,z.Xf)(me(At,Sn++)).subscribe((0,be.x)(ne,Tt=>{rt?.(Tt),Ye?Pe(Tt):ne.next(Tt)},()=>{ct=!0},void 0,()=>{if(ct)try{for(Ft--;fn.length&&Ft<Ze;){const Tt=fn.shift();Ot?(0,Oe.f)(ne,Ot,()=>ot(Tt)):ot(Tt)}Qe()}catch(Tt){ne.error(Tt)}}))};return vt.subscribe((0,be.x)(ne,Pe,()=>{Dt=!0,Qe()})),()=>{Zt?.()}}(Ze,rt,vt,me)))}},5363:(Dn,Et,Z)=>{Z.d(Et,{Q:()=>Oe});var T=Z(9672),z=Z(4482),X=Z(5403);function Oe(be,he=0){return(0,z.e)((Ce,Ae)=>{Ce.subscribe((0,X.x)(Ae,vt=>(0,T.f)(Ae,be,()=>Ae.next(vt),he),()=>(0,T.f)(Ae,be,()=>Ae.complete(),he),vt=>(0,T.f)(Ae,be,()=>Ae.error(vt),he)))})}},9468:(Dn,Et,Z)=>{Z.d(Et,{R:()=>z});var T=Z(4482);function z(X,Oe=0){return(0,T.e)((be,he)=>{he.add(X.schedule(()=>be.subscribe(he),Oe))})}},8505:(Dn,Et,Z)=>{Z.d(Et,{b:()=>be});var T=Z(576),z=Z(4482),X=Z(5403),Oe=Z(4671);function be(he,Ce,Ae){const vt=(0,T.m)(he)||Ce||Ae?{next:he,error:Ce,complete:Ae}:he;return vt?(0,z.e)((ne,me)=>{var Ze;null===(Ze=vt.subscribe)||void 0===Ze||Ze.call(vt);let rt=!0;ne.subscribe((0,X.x)(me,Ye=>{var Ot;null===(Ot=vt.next)||void 0===Ot||Ot.call(vt,Ye),me.next(Ye)},()=>{var Ye;rt=!1,null===(Ye=vt.complete)||void 0===Ye||Ye.call(vt),me.complete()},Ye=>{var Ot;rt=!1,null===(Ot=vt.error)||void 0===Ot||Ot.call(vt,Ye),me.error(Ye)},()=>{var Ye,Ot;rt&&(null===(Ye=vt.unsubscribe)||void 0===Ye||Ye.call(vt)),null===(Ot=vt.finalize)||void 0===Ot||Ot.call(vt)}))}):Oe.y}},3410:(Dn,Et,Z)=>{Z.d(Et,{z:()=>T});const T={setTimeout(z,X,...Oe){const{delegate:be}=T;return be?.setTimeout?be.setTimeout(z,X,...Oe):setTimeout(z,X,...Oe)},clearTimeout(z){const{delegate:X}=T;return(X?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(Dn,Et,Z)=>{Z.d(Et,{h:()=>z});const z=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dn,Et,Z)=>{Z.d(Et,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dn,Et,Z)=>{Z.d(Et,{_6:()=>he,jO:()=>Oe,yG:()=>be});var T=Z(576);function X(Ce){return Ce[Ce.length-1]}function Oe(Ce){return(0,T.m)(X(Ce))?Ce.pop():void 0}function be(Ce){return function z(Ce){return Ce&&(0,T.m)(Ce.schedule)}(X(Ce))?Ce.pop():void 0}function he(Ce,Ae){return"number"==typeof X(Ce)?Ce.pop():Ae}},4742:(Dn,Et,Z)=>{Z.d(Et,{D:()=>be});const{isArray:T}=Array,{getPrototypeOf:z,prototype:X,keys:Oe}=Object;function be(Ce){if(1===Ce.length){const Ae=Ce[0];if(T(Ae))return{args:Ae,keys:null};if(function he(Ce){return Ce&&"object"==typeof Ce&&z(Ce)===X}(Ae)){const vt=Oe(Ae);return{args:vt.map(ne=>Ae[ne]),keys:vt}}}return{args:Ce,keys:null}}},8737:(Dn,Et,Z)=>{function T(z,X){if(z){const Oe=z.indexOf(X);0<=Oe&&z.splice(Oe,1)}}Z.d(Et,{P:()=>T})},3888:(Dn,Et,Z)=>{function T(z){const Oe=z(be=>{Error.call(be),be.stack=(new Error).stack});return Oe.prototype=Object.create(Error.prototype),Oe.prototype.constructor=Oe,Oe}Z.d(Et,{d:()=>T})},1810:(Dn,Et,Z)=>{function T(z,X){return z.reduce((Oe,be,he)=>(Oe[be]=X[he],Oe),{})}Z.d(Et,{n:()=>T})},2806:(Dn,Et,Z)=>{Z.d(Et,{O:()=>Oe,x:()=>X});var T=Z(2416);let z=null;function X(be){if(T.v.useDeprecatedSynchronousErrorHandling){const he=!z;if(he&&(z={errorThrown:!1,error:null}),be(),he){const{errorThrown:Ce,error:Ae}=z;if(z=null,Ce)throw Ae}}else be()}function Oe(be){T.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=be)}},9672:(Dn,Et,Z)=>{function T(z,X,Oe,be=0,he=!1){const Ce=X.schedule(function(){Oe(),he?z.add(this.schedule(null,be)):this.unsubscribe()},be);if(z.add(Ce),!he)return Ce}Z.d(Et,{f:()=>T})},4671:(Dn,Et,Z)=>{function T(z){return z}Z.d(Et,{y:()=>T})},1144:(Dn,Et,Z)=>{Z.d(Et,{z:()=>T});const T=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Dn,Et,Z)=>{Z.d(Et,{D:()=>z});var T=Z(576);function z(X){return Symbol.asyncIterator&&(0,T.m)(X?.[Symbol.asyncIterator])}},576:(Dn,Et,Z)=>{function T(z){return"function"==typeof z}Z.d(Et,{m:()=>T})},3670:(Dn,Et,Z)=>{Z.d(Et,{c:()=>X});var T=Z(8822),z=Z(576);function X(Oe){return(0,z.m)(Oe[T.L])}},6495:(Dn,Et,Z)=>{Z.d(Et,{T:()=>X});var T=Z(2202),z=Z(576);function X(Oe){return(0,z.m)(Oe?.[T.h])}},8239:(Dn,Et,Z)=>{Z.d(Et,{t:()=>z});var T=Z(576);function z(X){return(0,T.m)(X?.then)}},3260:(Dn,Et,Z)=>{Z.d(Et,{L:()=>Oe,Q:()=>X});var T=Z(7582),z=Z(576);function X(be){return(0,T.FC)(this,arguments,function*(){const Ce=be.getReader();try{for(;;){const{value:Ae,done:vt}=yield(0,T.qq)(Ce.read());if(vt)return yield(0,T.qq)(void 0);yield yield(0,T.qq)(Ae)}}finally{Ce.releaseLock()}})}function Oe(be){return(0,z.m)(be?.getReader)}},4482:(Dn,Et,Z)=>{Z.d(Et,{A:()=>z,e:()=>X});var T=Z(576);function z(Oe){return(0,T.m)(Oe?.lift)}function X(Oe){return be=>{if(z(be))return be.lift(function(he){try{return Oe(he,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Dn,Et,Z)=>{Z.d(Et,{Z:()=>Oe});var T=Z(4004);const{isArray:z}=Array;function Oe(be){return(0,T.U)(he=>function X(be,he){return z(he)?be(...he):be(he)}(be,he))}},9635:(Dn,Et,Z)=>{Z.d(Et,{U:()=>X,z:()=>z});var T=Z(4671);function z(...Oe){return X(Oe)}function X(Oe){return 0===Oe.length?T.y:1===Oe.length?Oe[0]:function(he){return Oe.reduce((Ce,Ae)=>Ae(Ce),he)}}},7849:(Dn,Et,Z)=>{Z.d(Et,{h:()=>X});var T=Z(2416),z=Z(3410);function X(Oe){z.z.setTimeout(()=>{const{onUnhandledError:be}=T.v;if(!be)throw Oe;be(Oe)})}},4532:(Dn,Et,Z)=>{function T(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Z.d(Et,{z:()=>T})},7340:(Dn,Et,Z)=>{Z.d(Et,{LC:()=>z,SB:()=>vt,X$:()=>Oe,ZE:()=>Sn,ZN:()=>Ft,_j:()=>T,eR:()=>me,jt:()=>be,k1:()=>Dt,l3:()=>X,oB:()=>Ae,vP:()=>Ce});class T{}class z{}const X="*";function Oe(Qe,Pe){return{type:7,name:Qe,definitions:Pe,options:{}}}function be(Qe,Pe=null){return{type:4,styles:Pe,timings:Qe}}function Ce(Qe,Pe=null){return{type:2,steps:Qe,options:Pe}}function Ae(Qe){return{type:6,styles:Qe,offset:null}}function vt(Qe,Pe,ot){return{type:0,name:Qe,styles:Pe,options:ot}}function me(Qe,Pe,ot=null){return{type:1,expr:Qe,animation:Pe,options:ot}}function fn(Qe){Promise.resolve().then(Qe)}class Ft{constructor(Pe=0,ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Pe+ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}onStart(Pe){this._originalOnStartFns.push(Pe),this._onStartFns.push(Pe)}onDone(Pe){this._originalOnDoneFns.push(Pe),this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fn(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Pe){this._position=this.totalTime?Pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Pe){const ot="start"==Pe?this._onStartFns:this._onDoneFns;ot.forEach(At=>At()),ot.length=0}}class Sn{constructor(Pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Pe;let ot=0,At=0,ct=0;const Tt=this.players.length;0==Tt?fn(()=>this._onFinish()):this.players.forEach(at=>{at.onDone(()=>{++ot==Tt&&this._onFinish()}),at.onDestroy(()=>{++At==Tt&&this._onDestroy()}),at.onStart(()=>{++ct==Tt&&this._onStart()})}),this.totalTime=this.players.reduce((at,Wt)=>Math.max(at,Wt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Pe=>Pe()),this._onDoneFns=[])}init(){this.players.forEach(Pe=>Pe.init())}onStart(Pe){this._onStartFns.push(Pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Pe=>Pe()),this._onStartFns=[])}onDone(Pe){this._onDoneFns.push(Pe)}onDestroy(Pe){this._onDestroyFns.push(Pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Pe=>Pe.play())}pause(){this.players.forEach(Pe=>Pe.pause())}restart(){this.players.forEach(Pe=>Pe.restart())}finish(){this._onFinish(),this.players.forEach(Pe=>Pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Pe=>Pe.destroy()),this._onDestroyFns.forEach(Pe=>Pe()),this._onDestroyFns=[])}reset(){this.players.forEach(Pe=>Pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Pe){const ot=Pe*this.totalTime;this.players.forEach(At=>{const ct=At.totalTime?Math.min(1,ot/At.totalTime):1;At.setPosition(ct)})}getPosition(){const Pe=this.players.reduce((ot,At)=>null===ot||At.totalTime>ot.totalTime?At:ot,null);return null!=Pe?Pe.getPosition():0}beforeDestroy(){this.players.forEach(Pe=>{Pe.beforeDestroy&&Pe.beforeDestroy()})}triggerCallback(Pe){const ot="start"==Pe?this._onStartFns:this._onDoneFns;ot.forEach(At=>At()),ot.length=0}}const Dt="!"},6895:(Dn,Et,Z)=>{Z.d(Et,{Do:()=>Sn,EM:()=>rs,HT:()=>Oe,JF:()=>po,K0:()=>he,Mx:()=>ts,Nd:()=>ki,O5:()=>oe,Ov:()=>lo,S$:()=>Zt,V_:()=>vt,Ye:()=>Dt,b0:()=>Ft,bD:()=>So,ez:()=>Rs,q:()=>X,sg:()=>uo,uU:()=>Gi,w_:()=>be});var T=Z(8256);let z=null;function X(){return z}function Oe(A){z||(z=A)}class be{}const he=new T.OlP("DocumentToken");let Ce=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=T.Yz7({token:A,factory:function(){return function Ae(){return(0,T.LFG)(ne)}()},providedIn:"platform"}),A})();const vt=new T.OlP("Location Initialized");let ne=(()=>{class A extends Ce{constructor(x){super(),this._doc=x,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(x){const H=X().getGlobalEventTarget(this._doc,"window");return H.addEventListener("popstate",x,!1),()=>H.removeEventListener("popstate",x)}onHashChange(x){const H=X().getGlobalEventTarget(this._doc,"window");return H.addEventListener("hashchange",x,!1),()=>H.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,H,se){me()?this._history.pushState(x,H,se):this._location.hash=se}replaceState(x,H,se){me()?this._history.replaceState(x,H,se):this._location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return A.\u0275fac=function(x){return new(x||A)(T.LFG(he))},A.\u0275prov=T.Yz7({token:A,factory:function(){return function Ze(){return new ne((0,T.LFG)(he))}()},providedIn:"platform"}),A})();function me(){return!!window.history.pushState}function rt(A,F){if(0==A.length)return F;if(0==F.length)return A;let x=0;return A.endsWith("/")&&x++,F.startsWith("/")&&x++,2==x?A+F.substring(1):1==x?A+F:A+"/"+F}function Ye(A){const F=A.match(/#|\?|$/),x=F&&F.index||A.length;return A.slice(0,x-("/"===A[x-1]?1:0))+A.slice(x)}function Ot(A){return A&&"?"!==A[0]?"?"+A:A}let Zt=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=T.Yz7({token:A,factory:function(){return(0,T.f3M)(Ft)},providedIn:"root"}),A})();const fn=new T.OlP("appBaseHref");let Ft=(()=>{class A extends Zt{constructor(x,H){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=H??this._platformLocation.getBaseHrefFromDOM()??(0,T.f3M)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return rt(this._baseHref,x)}path(x=!1){const H=this._platformLocation.pathname+Ot(this._platformLocation.search),se=this._platformLocation.hash;return se&&x?`${H}${se}`:H}pushState(x,H,se,ze){const ut=this.prepareExternalUrl(se+Ot(ze));this._platformLocation.pushState(x,H,ut)}replaceState(x,H,se,ze){const ut=this.prepareExternalUrl(se+Ot(ze));this._platformLocation.replaceState(x,H,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return A.\u0275fac=function(x){return new(x||A)(T.LFG(Ce),T.LFG(fn,8))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Sn=(()=>{class A extends Zt{constructor(x,H){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=H&&(this._baseHref=H)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let H=this._platformLocation.hash;return null==H&&(H="#"),H.length>0?H.substring(1):H}prepareExternalUrl(x){const H=rt(this._baseHref,x);return H.length>0?"#"+H:H}pushState(x,H,se,ze){let ut=this.prepareExternalUrl(se+Ot(ze));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(x,H,ut)}replaceState(x,H,se,ze){let ut=this.prepareExternalUrl(se+Ot(ze));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(x,H,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return A.\u0275fac=function(x){return new(x||A)(T.LFG(Ce),T.LFG(fn,8))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})(),Dt=(()=>{class A{constructor(x){this._subject=new T.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const H=this._locationStrategy.getBaseHref();this._basePath=function At(A){if(new RegExp("^(https?:)?//").test(A)){const[,x]=A.split(/\/\/[^\/]+/);return x}return A}(Ye(ot(H))),this._locationStrategy.onPopState(se=>{this._subject.emit({url:this.path(!0),pop:!0,state:se.state,type:se.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,H=""){return this.path()==this.normalize(x+Ot(H))}normalize(x){return A.stripTrailingSlash(function Pe(A,F){if(!A||!F.startsWith(A))return F;const x=F.substring(A.length);return""===x||["/",";","?","#"].includes(x[0])?x:F}(this._basePath,ot(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,H="",se=null){this._locationStrategy.pushState(se,"",x,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ot(H)),se)}replaceState(x,H="",se=null){this._locationStrategy.replaceState(se,"",x,H),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ot(H)),se)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(H=>{this._notifyUrlChangeListeners(H.url,H.state)})),()=>{const H=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(H,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",H){this._urlChangeListeners.forEach(se=>se(x,H))}subscribe(x,H,se){return this._subject.subscribe({next:x,error:H,complete:se})}}return A.normalizeQueryParams=Ot,A.joinWithSlash=rt,A.stripTrailingSlash=Ye,A.\u0275fac=function(x){return new(x||A)(T.LFG(Zt))},A.\u0275prov=T.Yz7({token:A,factory:function(){return function Qe(){return new Dt((0,T.LFG)(Zt))}()},providedIn:"root"}),A})();function ot(A){return A.replace(/\/index.html$/,"")}var Wt=(()=>((Wt=Wt||{})[Wt.Format=0]="Format",Wt[Wt.Standalone=1]="Standalone",Wt))(),qt=(()=>((qt=qt||{})[qt.Narrow=0]="Narrow",qt[qt.Abbreviated=1]="Abbreviated",qt[qt.Wide=2]="Wide",qt[qt.Short=3]="Short",qt))(),pn=(()=>((pn=pn||{})[pn.Short=0]="Short",pn[pn.Medium=1]="Medium",pn[pn.Long=2]="Long",pn[pn.Full=3]="Full",pn))(),$e=(()=>(($e=$e||{})[$e.Decimal=0]="Decimal",$e[$e.Group=1]="Group",$e[$e.List=2]="List",$e[$e.PercentSign=3]="PercentSign",$e[$e.PlusSign=4]="PlusSign",$e[$e.MinusSign=5]="MinusSign",$e[$e.Exponential=6]="Exponential",$e[$e.SuperscriptingExponent=7]="SuperscriptingExponent",$e[$e.PerMille=8]="PerMille",$e[$e.Infinity=9]="Infinity",$e[$e.NaN=10]="NaN",$e[$e.TimeSeparator=11]="TimeSeparator",$e[$e.CurrencyDecimal=12]="CurrencyDecimal",$e[$e.CurrencyGroup=13]="CurrencyGroup",$e))();function qe(A,F){return Yt((0,T.cg1)(A)[T.wAp.DateFormat],F)}function ue(A,F){return Yt((0,T.cg1)(A)[T.wAp.TimeFormat],F)}function Te(A,F){return Yt((0,T.cg1)(A)[T.wAp.DateTimeFormat],F)}function nt(A,F){const x=(0,T.cg1)(A),H=x[T.wAp.NumberSymbols][F];if(typeof H>"u"){if(F===$e.CurrencyDecimal)return x[T.wAp.NumberSymbols][$e.Decimal];if(F===$e.CurrencyGroup)return x[T.wAp.NumberSymbols][$e.Group]}return H}function Er(A){if(!A[T.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${A[T.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yt(A,F){for(let x=F;x>-1;x--)if(typeof A[x]<"u")return A[x];throw new Error("Locale data API: locale data undefined")}function hr(A){const[F,x]=A.split(":");return{hours:+F,minutes:+x}}const rr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fr={},ri=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mn=(()=>((Mn=Mn||{})[Mn.Short=0]="Short",Mn[Mn.ShortGMT=1]="ShortGMT",Mn[Mn.Long=2]="Long",Mn[Mn.Extended=3]="Extended",Mn))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Vt=(()=>((Vt=Vt||{})[Vt.DayPeriods=0]="DayPeriods",Vt[Vt.Days=1]="Days",Vt[Vt.Months=2]="Months",Vt[Vt.Eras=3]="Eras",Vt))();function Kn(A,F,x,H){let se=function Re(A){if(ye(A))return A;if("number"==typeof A&&!isNaN(A))return new Date(A);if("string"==typeof A){if(A=A.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(A)){const[se,ze=1,ut=1]=A.split("-").map(Ht=>+Ht);return Xn(se,ze-1,ut)}const x=parseFloat(A);if(!isNaN(A-x))return new Date(x);let H;if(H=A.match(rr))return function Nt(A){const F=new Date(0);let x=0,H=0;const se=A[8]?F.setUTCFullYear:F.setFullYear,ze=A[8]?F.setUTCHours:F.setHours;A[9]&&(x=Number(A[9]+A[10]),H=Number(A[9]+A[11])),se.call(F,Number(A[1]),Number(A[2])-1,Number(A[3]));const ut=Number(A[4]||0)-x,Ht=Number(A[5]||0)-H,cr=Number(A[6]||0),St=Math.floor(1e3*parseFloat("0."+(A[7]||0)));return ze.call(F,ut,Ht,cr,St),F}(H)}const F=new Date(A);if(!ye(F))throw new Error(`Unable to convert "${A}" into a date`);return F}(A);F=Gn(x,F)||F;let Ht,ut=[];for(;F;){if(Ht=ri.exec(F),!Ht){ut.push(F);break}{ut=ut.concat(Ht.slice(1));const zt=ut.pop();if(!zt)break;F=zt}}let cr=se.getTimezoneOffset();H&&(cr=te(H,cr),se=function ke(A,F,x){const H=x?-1:1,se=A.getTimezoneOffset();return function ge(A,F){return(A=new Date(A.getTime())).setMinutes(A.getMinutes()+F),A}(A,H*(te(F,se)-se))}(se,H,!0));let St="";return ut.forEach(zt=>{const Rt=function ee(A){if(lt[A])return lt[A];let F;switch(A){case"G":case"GG":case"GGG":F=Ln(Vt.Eras,qt.Abbreviated);break;case"GGGG":F=Ln(Vt.Eras,qt.Wide);break;case"GGGGG":F=Ln(Vt.Eras,qt.Narrow);break;case"y":F=sr(yt.FullYear,1,0,!1,!0);break;case"yy":F=sr(yt.FullYear,2,0,!0,!0);break;case"yyy":F=sr(yt.FullYear,3,0,!1,!0);break;case"yyyy":F=sr(yt.FullYear,4,0,!1,!0);break;case"Y":F=ht(1);break;case"YY":F=ht(2,!0);break;case"YYY":F=ht(3);break;case"YYYY":F=ht(4);break;case"M":case"L":F=sr(yt.Month,1,1);break;case"MM":case"LL":F=sr(yt.Month,2,1);break;case"MMM":F=Ln(Vt.Months,qt.Abbreviated);break;case"MMMM":F=Ln(Vt.Months,qt.Wide);break;case"MMMMM":F=Ln(Vt.Months,qt.Narrow);break;case"LLL":F=Ln(Vt.Months,qt.Abbreviated,Wt.Standalone);break;case"LLLL":F=Ln(Vt.Months,qt.Wide,Wt.Standalone);break;case"LLLLL":F=Ln(Vt.Months,qt.Narrow,Wt.Standalone);break;case"w":F=we(1);break;case"ww":F=we(2);break;case"W":F=we(1,!0);break;case"d":F=sr(yt.Date,1);break;case"dd":F=sr(yt.Date,2);break;case"c":case"cc":F=sr(yt.Day,1);break;case"ccc":F=Ln(Vt.Days,qt.Abbreviated,Wt.Standalone);break;case"cccc":F=Ln(Vt.Days,qt.Wide,Wt.Standalone);break;case"ccccc":F=Ln(Vt.Days,qt.Narrow,Wt.Standalone);break;case"cccccc":F=Ln(Vt.Days,qt.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":F=Ln(Vt.Days,qt.Abbreviated);break;case"EEEE":F=Ln(Vt.Days,qt.Wide);break;case"EEEEE":F=Ln(Vt.Days,qt.Narrow);break;case"EEEEEE":F=Ln(Vt.Days,qt.Short);break;case"a":case"aa":case"aaa":F=Ln(Vt.DayPeriods,qt.Abbreviated);break;case"aaaa":F=Ln(Vt.DayPeriods,qt.Wide);break;case"aaaaa":F=Ln(Vt.DayPeriods,qt.Narrow);break;case"b":case"bb":case"bbb":F=Ln(Vt.DayPeriods,qt.Abbreviated,Wt.Standalone,!0);break;case"bbbb":F=Ln(Vt.DayPeriods,qt.Wide,Wt.Standalone,!0);break;case"bbbbb":F=Ln(Vt.DayPeriods,qt.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":F=Ln(Vt.DayPeriods,qt.Abbreviated,Wt.Format,!0);break;case"BBBB":F=Ln(Vt.DayPeriods,qt.Wide,Wt.Format,!0);break;case"BBBBB":F=Ln(Vt.DayPeriods,qt.Narrow,Wt.Format,!0);break;case"h":F=sr(yt.Hours,1,-12);break;case"hh":F=sr(yt.Hours,2,-12);break;case"H":F=sr(yt.Hours,1);break;case"HH":F=sr(yt.Hours,2);break;case"m":F=sr(yt.Minutes,1);break;case"mm":F=sr(yt.Minutes,2);break;case"s":F=sr(yt.Seconds,1);break;case"ss":F=sr(yt.Seconds,2);break;case"S":F=sr(yt.FractionalSeconds,1);break;case"SS":F=sr(yt.FractionalSeconds,2);break;case"SSS":F=sr(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":F=Zn(Mn.Short);break;case"ZZZZZ":F=Zn(Mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":F=Zn(Mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":F=Zn(Mn.Long);break;default:return null}return lt[A]=F,F}(zt);St+=Rt?Rt(se,x,cr):"''"===zt?"'":zt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),St}function Xn(A,F,x){const H=new Date(0);return H.setFullYear(A,F,x),H.setHours(0,0,0),H}function Gn(A,F){const x=function Jt(A){return(0,T.cg1)(A)[T.wAp.LocaleId]}(A);if(fr[x]=fr[x]||{},fr[x][F])return fr[x][F];let H="";switch(F){case"shortDate":H=qe(A,pn.Short);break;case"mediumDate":H=qe(A,pn.Medium);break;case"longDate":H=qe(A,pn.Long);break;case"fullDate":H=qe(A,pn.Full);break;case"shortTime":H=ue(A,pn.Short);break;case"mediumTime":H=ue(A,pn.Medium);break;case"longTime":H=ue(A,pn.Long);break;case"fullTime":H=ue(A,pn.Full);break;case"short":const se=Gn(A,"shortTime"),ze=Gn(A,"shortDate");H=Jr(Te(A,pn.Short),[se,ze]);break;case"medium":const ut=Gn(A,"mediumTime"),Ht=Gn(A,"mediumDate");H=Jr(Te(A,pn.Medium),[ut,Ht]);break;case"long":const cr=Gn(A,"longTime"),St=Gn(A,"longDate");H=Jr(Te(A,pn.Long),[cr,St]);break;case"full":const zt=Gn(A,"fullTime"),Rt=Gn(A,"fullDate");H=Jr(Te(A,pn.Full),[zt,Rt])}return H&&(fr[x][F]=H),H}function Jr(A,F){return F&&(A=A.replace(/\{([^}]+)}/g,function(x,H){return null!=F&&H in F?F[H]:x})),A}function Rn(A,F,x="-",H,se){let ze="";(A<0||se&&A<=0)&&(se?A=1-A:(A=-A,ze=x));let ut=String(A);for(;ut.length<F;)ut="0"+ut;return H&&(ut=ut.slice(ut.length-F)),ze+ut}function sr(A,F,x=0,H=!1,se=!1){return function(ze,ut){let Ht=function yi(A,F){switch(A){case yt.FullYear:return F.getFullYear();case yt.Month:return F.getMonth();case yt.Date:return F.getDate();case yt.Hours:return F.getHours();case yt.Minutes:return F.getMinutes();case yt.Seconds:return F.getSeconds();case yt.FractionalSeconds:return F.getMilliseconds();case yt.Day:return F.getDay();default:throw new Error(`Unknown DateType value "${A}".`)}}(A,ze);if((x>0||Ht>-x)&&(Ht+=x),A===yt.Hours)0===Ht&&-12===x&&(Ht=12);else if(A===yt.FractionalSeconds)return function mi(A,F){return Rn(A,3).substring(0,F)}(Ht,F);const cr=nt(ut,$e.MinusSign);return Rn(Ht,F,cr,H,se)}}function Ln(A,F,x=Wt.Format,H=!1){return function(se,ze){return function pr(A,F,x,H,se,ze){switch(x){case Vt.Months:return function He(A,F,x){const H=(0,T.cg1)(A),ze=Yt([H[T.wAp.MonthsFormat],H[T.wAp.MonthsStandalone]],F);return Yt(ze,x)}(F,se,H)[A.getMonth()];case Vt.Days:return function Qr(A,F,x){const H=(0,T.cg1)(A),ze=Yt([H[T.wAp.DaysFormat],H[T.wAp.DaysStandalone]],F);return Yt(ze,x)}(F,se,H)[A.getDay()];case Vt.DayPeriods:const ut=A.getHours(),Ht=A.getMinutes();if(ze){const St=function Jn(A){const F=(0,T.cg1)(A);return Er(F),(F[T.wAp.ExtraData][2]||[]).map(H=>"string"==typeof H?hr(H):[hr(H[0]),hr(H[1])])}(F),zt=function Rr(A,F,x){const H=(0,T.cg1)(A);Er(H);const ze=Yt([H[T.wAp.ExtraData][0],H[T.wAp.ExtraData][1]],F)||[];return Yt(ze,x)||[]}(F,se,H),Rt=St.findIndex(Ge=>{if(Array.isArray(Ge)){const[cn,Vn]=Ge,Or=ut>=cn.hours&&Ht>=cn.minutes,Kt=ut<Vn.hours||ut===Vn.hours&&Ht<Vn.minutes;if(cn.hours<Vn.hours){if(Or&&Kt)return!0}else if(Or||Kt)return!0}else if(Ge.hours===ut&&Ge.minutes===Ht)return!0;return!1});if(-1!==Rt)return zt[Rt]}return function nr(A,F,x){const H=(0,T.cg1)(A),ze=Yt([H[T.wAp.DayPeriodsFormat],H[T.wAp.DayPeriodsStandalone]],F);return Yt(ze,x)}(F,se,H)[ut<12?0:1];case Vt.Eras:return function Ue(A,F){return Yt((0,T.cg1)(A)[T.wAp.Eras],F)}(F,H)[A.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${x}`)}}(se,ze,A,F,x,H)}}function Zn(A){return function(F,x,H){const se=-1*H,ze=nt(x,$e.MinusSign),ut=se>0?Math.floor(se/60):Math.ceil(se/60);switch(A){case Mn.Short:return(se>=0?"+":"")+Rn(ut,2,ze)+Rn(Math.abs(se%60),2,ze);case Mn.ShortGMT:return"GMT"+(se>=0?"+":"")+Rn(ut,1,ze);case Mn.Long:return"GMT"+(se>=0?"+":"")+Rn(ut,2,ze)+":"+Rn(Math.abs(se%60),2,ze);case Mn.Extended:return 0===H?"Z":(se>=0?"+":"")+Rn(ut,2,ze)+":"+Rn(Math.abs(se%60),2,ze);default:throw new Error(`Unknown zone width "${A}"`)}}}const fi=0,kr=4;function fe(A){return Xn(A.getFullYear(),A.getMonth(),A.getDate()+(kr-A.getDay()))}function we(A,F=!1){return function(x,H){let se;if(F){const ze=new Date(x.getFullYear(),x.getMonth(),1).getDay()-1,ut=x.getDate();se=1+Math.floor((ut+ze)/7)}else{const ze=fe(x),ut=function Fe(A){const F=Xn(A,fi,1).getDay();return Xn(A,0,1+(F<=kr?kr:kr+7)-F)}(ze.getFullYear()),Ht=ze.getTime()-ut.getTime();se=1+Math.round(Ht/6048e5)}return Rn(se,A,nt(H,$e.MinusSign))}}function ht(A,F=!1){return function(x,H){return Rn(fe(x).getFullYear(),A,nt(H,$e.MinusSign),F)}}const lt={};function te(A,F){A=A.replace(/:/g,"");const x=Date.parse("Jan 01, 1970 00:00:00 "+A)/6e4;return isNaN(x)?F:x}function ye(A){return A instanceof Date&&!isNaN(A.valueOf())}function ts(A,F){F=encodeURIComponent(F);for(const x of A.split(";")){const H=x.indexOf("="),[se,ze]=-1==H?[x,""]:[x.slice(0,H),x.slice(H+1)];if(se.trim()===F)return decodeURIComponent(ze)}return null}class pi{constructor(F,x,H,se){this.$implicit=F,this.ngForOf=x,this.index=H,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uo=(()=>{class A{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,H,se){this._viewContainer=x,this._template=H,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const H=this._viewContainer;x.forEachOperation((se,ze,ut)=>{if(null==se.previousIndex)H.createEmbeddedView(this._template,new pi(se.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)H.remove(null===ze?void 0:ze);else if(null!==ze){const Ht=H.get(ze);H.move(Ht,ut),ns(Ht,se)}});for(let se=0,ze=H.length;se<ze;se++){const Ht=H.get(se).context;Ht.index=se,Ht.count=ze,Ht.ngForOf=this._ngForOf}x.forEachIdentityChange(se=>{ns(H.get(se.currentIndex),se)})}static ngTemplateContextGuard(x,H){return!0}}return A.\u0275fac=function(x){return new(x||A)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},A.\u0275dir=T.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function ns(A,F){A.context.$implicit=F.item}let oe=(()=>{class A{constructor(x,H){this._viewContainer=x,this._context=new xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=H}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){it("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){it("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,H){return!0}}return A.\u0275fac=function(x){return new(x||A)(T.Y36(T.s_b),T.Y36(T.Rgc))},A.\u0275dir=T.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class xe{constructor(){this.$implicit=null,this.ngIf=null}}function it(A,F){if(F&&!F.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,T.AaK)(F)}'.`)}function Pr(A,F){return new T.vHH(2100,!1)}class Vr{createSubscription(F,x){return F.subscribe({next:x,error:H=>{throw H}})}dispose(F){F.unsubscribe()}}class Ai{createSubscription(F,x){return F.then(x,H=>{throw H})}dispose(F){}}const Hi=new Ai,Oi=new Vr;let lo=(()=>{class A{constructor(x){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=x}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,H=>this._updateLatestValue(x,H))}_selectStrategy(x){if((0,T.QGY)(x))return Hi;if((0,T.F4k)(x))return Oi;throw Pr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,H){x===this._obj&&(this._latestValue=H,this._ref.markForCheck())}}return A.\u0275fac=function(x){return new(x||A)(T.Y36(T.sBO,16))},A.\u0275pipe=T.Yjl({name:"async",type:A,pure:!1,standalone:!0}),A})();const ys=new T.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ks=new T.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gi=(()=>{class A{constructor(x,H,se){this.locale=x,this.defaultTimezone=H,this.defaultOptions=se}transform(x,H,se,ze){if(null==x||""===x||x!=x)return null;try{return Kn(x,H??this.defaultOptions?.dateFormat??"mediumDate",ze||this.locale,se??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(ut){throw Pr()}}}return A.\u0275fac=function(x){return new(x||A)(T.Y36(T.soG,16),T.Y36(ys,24),T.Y36(Ks,24))},A.\u0275pipe=T.Yjl({name:"date",type:A,pure:!0,standalone:!0}),A})(),ki=(()=>{class A{constructor(x){this.differs=x,this.keyValues=[],this.compareFn=Us}transform(x,H=Us){if(!x||!(x instanceof Map)&&"object"!=typeof x)return null;this.differ||(this.differ=this.differs.find(x).create());const se=this.differ.diff(x),ze=H!==this.compareFn;return se&&(this.keyValues=[],se.forEachItem(ut=>{this.keyValues.push(function Ls(A,F){return{key:A,value:F}}(ut.key,ut.currentValue))})),(se||ze)&&(this.keyValues.sort(H),this.compareFn=H),this.keyValues}}return A.\u0275fac=function(x){return new(x||A)(T.Y36(T.aQg,16))},A.\u0275pipe=T.Yjl({name:"keyvalue",type:A,pure:!1,standalone:!0}),A})();function Us(A,F){const x=A.key,H=F.key;if(x===H)return 0;if(void 0===x)return 1;if(void 0===H)return-1;if(null===x)return 1;if(null===H)return-1;if("string"==typeof x&&"string"==typeof H)return x<H?-1:1;if("number"==typeof x&&"number"==typeof H)return x-H;if("boolean"==typeof x&&"boolean"==typeof H)return x<H?-1:1;const se=String(x),ze=String(H);return se==ze?0:se<ze?-1:1}let Rs=(()=>{class A{}return A.\u0275fac=function(x){return new(x||A)},A.\u0275mod=T.oAB({type:A}),A.\u0275inj=T.cJS({}),A})();const So="browser";let rs=(()=>{class A{}return A.\u0275prov=(0,T.Yz7)({token:A,providedIn:"root",factory:()=>new fa((0,T.LFG)(he),window)}),A})();class fa{constructor(F,x){this.document=F,this.window=x,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const x=function qa(A,F){const x=A.getElementById(F)||A.getElementsByName(F)[0];if(x)return x;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const H=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let se=H.currentNode;for(;se;){const ze=se.shadowRoot;if(ze){const ut=ze.getElementById(F)||ze.querySelector(`[name="${F}"]`);if(ut)return ut}se=H.nextNode()}}return null}(this.document,F);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=F)}}scrollToElement(F){const x=F.getBoundingClientRect(),H=x.left+this.window.pageXOffset,se=x.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(H-ze[0],se-ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=fo(this.window.history)||fo(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fo(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class po{}},529:(Dn,Et,Z)=>{Z.d(Et,{JF:()=>Zn,eN:()=>Jt});var T=Z(6895),z=Z(8256),X=Z(9646),Oe=Z(9751),be=Z(4351),he=Z(9300),Ce=Z(4004);class Ae{}class vt{}class ne{constructor(fe){this.normalizedNames=new Map,this.lazyUpdate=null,fe?this.lazyInit="string"==typeof fe?()=>{this.headers=new Map,fe.split("\n").forEach(we=>{const ht=we.indexOf(":");if(ht>0){const lt=we.slice(0,ht),ee=lt.toLowerCase(),te=we.slice(ht+1).trim();this.maybeSetNormalizedName(lt,ee),this.headers.has(ee)?this.headers.get(ee).push(te):this.headers.set(ee,[te])}})}:()=>{this.headers=new Map,Object.entries(fe).forEach(([we,ht])=>{let lt;if(lt="string"==typeof ht?[ht]:"number"==typeof ht?[ht.toString()]:ht.map(ee=>ee.toString()),lt.length>0){const ee=we.toLowerCase();this.headers.set(ee,lt),this.maybeSetNormalizedName(we,ee)}})}:this.headers=new Map}has(fe){return this.init(),this.headers.has(fe.toLowerCase())}get(fe){this.init();const we=this.headers.get(fe.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(fe){return this.init(),this.headers.get(fe.toLowerCase())||null}append(fe,we){return this.clone({name:fe,value:we,op:"a"})}set(fe,we){return this.clone({name:fe,value:we,op:"s"})}delete(fe,we){return this.clone({name:fe,value:we,op:"d"})}maybeSetNormalizedName(fe,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,fe)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(fe=>this.applyUpdate(fe)),this.lazyUpdate=null))}copyFrom(fe){fe.init(),Array.from(fe.headers.keys()).forEach(we=>{this.headers.set(we,fe.headers.get(we)),this.normalizedNames.set(we,fe.normalizedNames.get(we))})}clone(fe){const we=new ne;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([fe]),we}applyUpdate(fe){const we=fe.name.toLowerCase();switch(fe.op){case"a":case"s":let ht=fe.value;if("string"==typeof ht&&(ht=[ht]),0===ht.length)return;this.maybeSetNormalizedName(fe.name,we);const lt=("a"===fe.op?this.headers.get(we):void 0)||[];lt.push(...ht),this.headers.set(we,lt);break;case"d":const ee=fe.value;if(ee){let te=this.headers.get(we);if(!te)return;te=te.filter(ge=>-1===ee.indexOf(ge)),0===te.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,te)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(fe){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>fe(this.normalizedNames.get(we),this.headers.get(we)))}}class Ze{encodeKey(fe){return Zt(fe)}encodeValue(fe){return Zt(fe)}decodeKey(fe){return decodeURIComponent(fe)}decodeValue(fe){return decodeURIComponent(fe)}}const Ye=/%(\d[a-f0-9])/gi,Ot={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zt(Fe){return encodeURIComponent(Fe).replace(Ye,(fe,we)=>Ot[we]??fe)}function fn(Fe){return`${Fe}`}class Ft{constructor(fe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=fe.encoder||new Ze,fe.fromString){if(fe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rt(Fe,fe){const we=new Map;return Fe.length>0&&Fe.replace(/^\?/,"").split("&").forEach(lt=>{const ee=lt.indexOf("="),[te,ge]=-1==ee?[fe.decodeKey(lt),""]:[fe.decodeKey(lt.slice(0,ee)),fe.decodeValue(lt.slice(ee+1))],ke=we.get(te)||[];ke.push(ge),we.set(te,ke)}),we}(fe.fromString,this.encoder)}else fe.fromObject?(this.map=new Map,Object.keys(fe.fromObject).forEach(we=>{const ht=fe.fromObject[we],lt=Array.isArray(ht)?ht.map(fn):[fn(ht)];this.map.set(we,lt)})):this.map=null}has(fe){return this.init(),this.map.has(fe)}get(fe){this.init();const we=this.map.get(fe);return we?we[0]:null}getAll(fe){return this.init(),this.map.get(fe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(fe,we){return this.clone({param:fe,value:we,op:"a"})}appendAll(fe){const we=[];return Object.keys(fe).forEach(ht=>{const lt=fe[ht];Array.isArray(lt)?lt.forEach(ee=>{we.push({param:ht,value:ee,op:"a"})}):we.push({param:ht,value:lt,op:"a"})}),this.clone(we)}set(fe,we){return this.clone({param:fe,value:we,op:"s"})}delete(fe,we){return this.clone({param:fe,value:we,op:"d"})}toString(){return this.init(),this.keys().map(fe=>{const we=this.encoder.encodeKey(fe);return this.map.get(fe).map(ht=>we+"="+this.encoder.encodeValue(ht)).join("&")}).filter(fe=>""!==fe).join("&")}clone(fe){const we=new Ft({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(fe),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(fe=>this.map.set(fe,this.cloneFrom.map.get(fe))),this.updates.forEach(fe=>{switch(fe.op){case"a":case"s":const we=("a"===fe.op?this.map.get(fe.param):void 0)||[];we.push(fn(fe.value)),this.map.set(fe.param,we);break;case"d":if(void 0===fe.value){this.map.delete(fe.param);break}{let ht=this.map.get(fe.param)||[];const lt=ht.indexOf(fn(fe.value));-1!==lt&&ht.splice(lt,1),ht.length>0?this.map.set(fe.param,ht):this.map.delete(fe.param)}}}),this.cloneFrom=this.updates=null)}}class Dt{constructor(){this.map=new Map}set(fe,we){return this.map.set(fe,we),this}get(fe){return this.map.has(fe)||this.map.set(fe,fe.defaultValue()),this.map.get(fe)}delete(fe){return this.map.delete(fe),this}has(fe){return this.map.has(fe)}keys(){return this.map.keys()}}function Pe(Fe){return typeof ArrayBuffer<"u"&&Fe instanceof ArrayBuffer}function ot(Fe){return typeof Blob<"u"&&Fe instanceof Blob}function At(Fe){return typeof FormData<"u"&&Fe instanceof FormData}class Tt{constructor(fe,we,ht,lt){let ee;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=fe.toUpperCase(),function Qe(Fe){switch(Fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==ht?ht:null,ee=lt):ee=ht,ee&&(this.reportProgress=!!ee.reportProgress,this.withCredentials=!!ee.withCredentials,ee.responseType&&(this.responseType=ee.responseType),ee.headers&&(this.headers=ee.headers),ee.context&&(this.context=ee.context),ee.params&&(this.params=ee.params)),this.headers||(this.headers=new ne),this.context||(this.context=new Dt),this.params){const te=this.params.toString();if(0===te.length)this.urlWithParams=we;else{const ge=we.indexOf("?");this.urlWithParams=we+(-1===ge?"?":ge<we.length-1?"&":"")+te}}else this.params=new Ft,this.urlWithParams=we}serializeBody(){return null===this.body?null:Pe(this.body)||ot(this.body)||At(this.body)||function ct(Fe){return typeof URLSearchParams<"u"&&Fe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ft?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||At(this.body)?null:ot(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ft?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(fe={}){const we=fe.method||this.method,ht=fe.url||this.url,lt=fe.responseType||this.responseType,ee=void 0!==fe.body?fe.body:this.body,te=void 0!==fe.withCredentials?fe.withCredentials:this.withCredentials,ge=void 0!==fe.reportProgress?fe.reportProgress:this.reportProgress;let ke=fe.headers||this.headers,Re=fe.params||this.params;const Nt=fe.context??this.context;return void 0!==fe.setHeaders&&(ke=Object.keys(fe.setHeaders).reduce((ye,ae)=>ye.set(ae,fe.setHeaders[ae]),ke)),fe.setParams&&(Re=Object.keys(fe.setParams).reduce((ye,ae)=>ye.set(ae,fe.setParams[ae]),Re)),new Tt(we,ht,ee,{params:Re,headers:ke,context:Nt,reportProgress:ge,responseType:lt,withCredentials:te})}}var at=(()=>((at=at||{})[at.Sent=0]="Sent",at[at.UploadProgress=1]="UploadProgress",at[at.ResponseHeader=2]="ResponseHeader",at[at.DownloadProgress=3]="DownloadProgress",at[at.Response=4]="Response",at[at.User=5]="User",at))();class Wt{constructor(fe,we=200,ht="OK"){this.headers=fe.headers||new ne,this.status=void 0!==fe.status?fe.status:we,this.statusText=fe.statusText||ht,this.url=fe.url||null,this.ok=this.status>=200&&this.status<300}}class qt extends Wt{constructor(fe={}){super(fe),this.type=at.ResponseHeader}clone(fe={}){return new qt({headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class pn extends Wt{constructor(fe={}){super(fe),this.type=at.Response,this.body=void 0!==fe.body?fe.body:null}clone(fe={}){return new pn({body:void 0!==fe.body?fe.body:this.body,headers:fe.headers||this.headers,status:void 0!==fe.status?fe.status:this.status,statusText:fe.statusText||this.statusText,url:fe.url||this.url||void 0})}}class $e extends Wt{constructor(fe){super(fe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${fe.url||"(unknown url)"}`:`Http failure response for ${fe.url||"(unknown url)"}: ${fe.status} ${fe.statusText}`,this.error=fe.error||null}}function On(Fe,fe){return{body:fe,headers:Fe.headers,context:Fe.context,observe:Fe.observe,params:Fe.params,reportProgress:Fe.reportProgress,responseType:Fe.responseType,withCredentials:Fe.withCredentials}}let Jt=(()=>{class Fe{constructor(we){this.handler=we}request(we,ht,lt={}){let ee;if(we instanceof Tt)ee=we;else{let ke,Re;ke=lt.headers instanceof ne?lt.headers:new ne(lt.headers),lt.params&&(Re=lt.params instanceof Ft?lt.params:new Ft({fromObject:lt.params})),ee=new Tt(we,ht,void 0!==lt.body?lt.body:null,{headers:ke,context:lt.context,params:Re,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials})}const te=(0,X.of)(ee).pipe((0,be.b)(ke=>this.handler.handle(ke)));if(we instanceof Tt||"events"===lt.observe)return te;const ge=te.pipe((0,he.h)(ke=>ke instanceof pn));switch(lt.observe||"body"){case"body":switch(ee.responseType){case"arraybuffer":return ge.pipe((0,Ce.U)(ke=>{if(null!==ke.body&&!(ke.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ke.body}));case"blob":return ge.pipe((0,Ce.U)(ke=>{if(null!==ke.body&&!(ke.body instanceof Blob))throw new Error("Response is not a Blob.");return ke.body}));case"text":return ge.pipe((0,Ce.U)(ke=>{if(null!==ke.body&&"string"!=typeof ke.body)throw new Error("Response is not a string.");return ke.body}));default:return ge.pipe((0,Ce.U)(ke=>ke.body))}case"response":return ge;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(we,ht={}){return this.request("DELETE",we,ht)}get(we,ht={}){return this.request("GET",we,ht)}head(we,ht={}){return this.request("HEAD",we,ht)}jsonp(we,ht){return this.request("JSONP",we,{params:(new Ft).append(ht,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,ht={}){return this.request("OPTIONS",we,ht)}patch(we,ht,lt={}){return this.request("PATCH",we,On(lt,ht))}post(we,ht,lt={}){return this.request("POST",we,On(lt,ht))}put(we,ht,lt={}){return this.request("PUT",we,On(lt,ht))}}return Fe.\u0275fac=function(we){return new(we||Fe)(z.LFG(Ae))},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();function nr(Fe,fe){return fe(Fe)}function Qr(Fe,fe){return(we,ht)=>fe.intercept(we,{handle:lt=>Fe(lt,ht)})}const Ue=new z.OlP("HTTP_INTERCEPTORS"),Xe=new z.OlP("HTTP_INTERCEPTOR_FNS");function ve(){let Fe=null;return(fe,we)=>(null===Fe&&(Fe=((0,z.f3M)(Ue,{optional:!0})??[]).reduceRight(Qr,nr)),Fe(fe,we))}let qe=(()=>{class Fe extends Ae{constructor(we,ht){super(),this.backend=we,this.injector=ht,this.chain=null}handle(we){if(null===this.chain){const ht=Array.from(new Set(this.injector.get(Xe)));this.chain=ht.reduceRight((lt,ee)=>function He(Fe,fe,we){return(ht,lt)=>we.runInContext(()=>fe(ht,ee=>Fe(ee,lt)))}(lt,ee,this.injector),nr)}return this.chain(we,ht=>this.backend.handle(ht))}}return Fe.\u0275fac=function(we){return new(we||Fe)(z.LFG(vt),z.LFG(z.lqb))},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Rr=/^\)\]\}',?\n/;let Yt=(()=>{class Fe{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oe.y(ht=>{const lt=this.xhrFactory.build();if(lt.open(we.method,we.urlWithParams),we.withCredentials&&(lt.withCredentials=!0),we.headers.forEach((Q,pe)=>lt.setRequestHeader(Q,pe.join(","))),we.headers.has("Accept")||lt.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Q=we.detectContentTypeHeader();null!==Q&&lt.setRequestHeader("Content-Type",Q)}if(we.responseType){const Q=we.responseType.toLowerCase();lt.responseType="json"!==Q?Q:"text"}const ee=we.serializeBody();let te=null;const ge=()=>{if(null!==te)return te;const Q=lt.statusText||"OK",pe=new ne(lt.getAllResponseHeaders()),et=function wr(Fe){return"responseURL"in Fe&&Fe.responseURL?Fe.responseURL:/^X-Request-URL:/m.test(Fe.getAllResponseHeaders())?Fe.getResponseHeader("X-Request-URL"):null}(lt)||we.url;return te=new qt({headers:pe,status:lt.status,statusText:Q,url:et}),te},ke=()=>{let{headers:Q,status:pe,statusText:et,url:gt}=ge(),$t=null;204!==pe&&($t=typeof lt.response>"u"?lt.responseText:lt.response),0===pe&&(pe=$t?200:0);let un=pe>=200&&pe<300;if("json"===we.responseType&&"string"==typeof $t){const kn=$t;$t=$t.replace(Rr,"");try{$t=""!==$t?JSON.parse($t):null}catch(Fr){$t=kn,un&&(un=!1,$t={error:Fr,text:$t})}}un?(ht.next(new pn({body:$t,headers:Q,status:pe,statusText:et,url:gt||void 0})),ht.complete()):ht.error(new $e({error:$t,headers:Q,status:pe,statusText:et,url:gt||void 0}))},Re=Q=>{const{url:pe}=ge(),et=new $e({error:Q,status:lt.status||0,statusText:lt.statusText||"Unknown Error",url:pe||void 0});ht.error(et)};let Nt=!1;const ye=Q=>{Nt||(ht.next(ge()),Nt=!0);let pe={type:at.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(pe.total=Q.total),"text"===we.responseType&&lt.responseText&&(pe.partialText=lt.responseText),ht.next(pe)},ae=Q=>{let pe={type:at.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(pe.total=Q.total),ht.next(pe)};return lt.addEventListener("load",ke),lt.addEventListener("error",Re),lt.addEventListener("timeout",Re),lt.addEventListener("abort",Re),we.reportProgress&&(lt.addEventListener("progress",ye),null!==ee&&lt.upload&&lt.upload.addEventListener("progress",ae)),lt.send(ee),ht.next({type:at.Sent}),()=>{lt.removeEventListener("error",Re),lt.removeEventListener("abort",Re),lt.removeEventListener("load",ke),lt.removeEventListener("timeout",Re),we.reportProgress&&(lt.removeEventListener("progress",ye),null!==ee&&lt.upload&&lt.upload.removeEventListener("progress",ae)),lt.readyState!==lt.DONE&&lt.abort()}})}}return Fe.\u0275fac=function(we){return new(we||Fe)(z.LFG(T.JF))},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const hr=new z.OlP("XSRF_ENABLED"),Wr=new z.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rr=new z.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fr{}let ri=(()=>{class Fe{constructor(we,ht,lt){this.doc=we,this.platform=ht,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(we,this.cookieName),this.lastCookieString=we),this.lastToken}}return Fe.\u0275fac=function(we){return new(we||Fe)(z.LFG(T.K0),z.LFG(z.Lbi),z.LFG(Wr))},Fe.\u0275prov=z.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();function Mn(Fe,fe){const we=Fe.url.toLowerCase();if(!(0,z.f3M)(hr)||"GET"===Fe.method||"HEAD"===Fe.method||we.startsWith("http://")||we.startsWith("https://"))return fe(Fe);const ht=(0,z.f3M)(fr).getToken(),lt=(0,z.f3M)(rr);return null!=ht&&!Fe.headers.has(lt)&&(Fe=Fe.clone({headers:Fe.headers.set(lt,ht)})),fe(Fe)}var Vt=(()=>((Vt=Vt||{})[Vt.Interceptors=0]="Interceptors",Vt[Vt.LegacyInterceptors=1]="LegacyInterceptors",Vt[Vt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Vt[Vt.NoXsrfProtection=3]="NoXsrfProtection",Vt[Vt.JsonpSupport=4]="JsonpSupport",Vt[Vt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Vt))();function Kn(Fe,fe){return{\u0275kind:Fe,\u0275providers:fe}}function Xn(...Fe){const fe=[Jt,Yt,qe,{provide:Ae,useExisting:qe},{provide:vt,useExisting:Yt},{provide:Xe,useValue:Mn,multi:!0},{provide:hr,useValue:!0},{provide:fr,useClass:ri}];for(const we of Fe)fe.push(...we.\u0275providers);return(0,z.MR2)(fe)}const Jr=new z.OlP("LEGACY_INTERCEPTOR_FN");let Zn=(()=>{class Fe{}return Fe.\u0275fac=function(we){return new(we||Fe)},Fe.\u0275mod=z.oAB({type:Fe}),Fe.\u0275inj=z.cJS({providers:[Xn(Kn(Vt.LegacyInterceptors,[{provide:Jr,useFactory:ve},{provide:Xe,useExisting:Jr,multi:!0}]))]}),Fe})()},8256:(Dn,Et,Z)=>{Z.d(Et,{QbO:()=>Kw,tb:()=>cE,AFp:()=>J0,ip1:()=>Q0,CZH:()=>Cy,hGG:()=>NI,z2F:()=>Ay,sBO:()=>yI,Sil:()=>Xw,_Vd:()=>Pd,EJc:()=>Qw,Xts:()=>qf,SBq:()=>Nl,lqb:()=>Kc,qLn:()=>Xu,vpe:()=>Nc,XFs:()=>yt,OlP:()=>Kr,zs3:()=>Ic,ZZ4:()=>D_,aQg:()=>b_,soG:()=>Sy,YKP:()=>o0,h0i:()=>Pf,PXZ:()=>hI,R0b:()=>Ou,FiY:()=>Yn,Lbi:()=>qw,g9A:()=>eE,Qsj:()=>Bg,FYo:()=>Mh,JOm:()=>bs,q3G:()=>ps,tp0:()=>ii,Rgc:()=>wg,dDg:()=>uI,eoX:()=>aE,q4F:()=>Nd,GfV:()=>xh,s_b:()=>Ty,ifc:()=>gt,MMx:()=>Jv,Lck:()=>jE,eFA:()=>dE,Gpc:()=>Sn,f3M:()=>ge,$WT:()=>ji,MR2:()=>Ml,_c5:()=>PI,c2e:()=>Zw,zSh:()=>bh,wAp:()=>jn,vHH:()=>ct,lri:()=>sE,rWj:()=>oE,JZr:()=>At,EiD:()=>Ih,mCW:()=>rn,qzn:()=>fc,JVY:()=>yh,pB0:()=>C,eBb:()=>d,L6k:()=>w,LAX:()=>p,D6c:()=>OI,cg1:()=>ly,kL8:()=>Ov,dqk:()=>Rn,Z0I:()=>hr,eJc:()=>u_,CqO:()=>Um,QGY:()=>Xl,F4k:()=>Lm,RDi:()=>Hc,AaK:()=>Zt,z3N:()=>vr,qOj:()=>Xh,TTD:()=>bi,_Bn:()=>s0,jDz:()=>u0,xp6:()=>em,uIk:()=>bc,Tol:()=>Jm,ekj:()=>Qm,Suo:()=>A0,Xpm:()=>gn,lG2:()=>vi,Yz7:()=>Jn,cJS:()=>wr,oAB:()=>Xr,Yjl:()=>ts,Y36:()=>Mu,_UZ:()=>Jl,BQk:()=>Wd,ynx:()=>Gd,qZA:()=>cf,TgZ:()=>Ql,EpF:()=>zp,n5z:()=>cs,LFG:()=>ee,$8M:()=>Na,$Z:()=>Vd,NdJ:()=>Gp,CRH:()=>M0,kcU:()=>F,O4$:()=>Ns,oxw:()=>Wp,ALo:()=>E0,lcZ:()=>w0,Q6J:()=>jp,s9C:()=>qd,iGM:()=>S0,MAs:()=>uf,KtG:()=>_s,CHM:()=>Za,oJD:()=>zf,LSH:()=>Gf,P3R:()=>Dh,Udp:()=>tg,d8E:()=>fg,YNc:()=>Fm,W1O:()=>N0,_uU:()=>ey,Oqu:()=>og,hij:()=>Qd});var T=Z(7579),z=Z(727),X=Z(9751),Oe=Z(8189),be=Z(8421),he=Z(515),Ce=Z(7669),Ae=Z(8996),ne=Z(2961),me=Z(4482);function rt(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new ne.Hp({next:()=>{u.unsubscribe(),n()}});return(0,be.Xf)(i(...o)).subscribe(u)}function Ye(n){for(let i in n)if(n[i]===Ye)return i;throw Error("Could not find renamed property on target object.")}function Ot(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Zt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Zt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function fn(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const Ft=Ye({__forward_ref__:Ye});function Sn(n){return n.__forward_ref__=Sn,n.toString=function(){return Zt(this())},n}function Dt(n){return Qe(n)?n():n}function Qe(n){return"function"==typeof n&&n.hasOwnProperty(Ft)&&n.__forward_ref__===Sn}function Pe(n){return n&&!!n.\u0275providers}const At="https://g.co/ng/security#xss";class ct extends Error{constructor(i,o){super(Tt(i,o)),this.code=i}}function Tt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function at(n){return"string"==typeof n?n:null==n?"":String(n)}function On(n,i){throw new ct(-201,!1)}function _n(n,i){null==n&&function sn(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Jn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yt(n){return ni(n,rr)||ni(n,ri)}function hr(n){return null!==Yt(n)}function ni(n,i){return n.hasOwnProperty(i)?n[i]:null}function hi(n){return n&&(n.hasOwnProperty(fr)||n.hasOwnProperty(Mn))?n[fr]:null}const rr=Ye({\u0275prov:Ye}),fr=Ye({\u0275inj:Ye}),ri=Ye({ngInjectableDef:Ye}),Mn=Ye({ngInjectorDef:Ye});var yt=(()=>((yt=yt||{})[yt.Default=0]="Default",yt[yt.Host=1]="Host",yt[yt.Self=2]="Self",yt[yt.SkipSelf=4]="SkipSelf",yt[yt.Optional=8]="Optional",yt))();let Vt;function Xn(n){const i=Vt;return Vt=n,i}function Gn(n,i,o){const u=Yt(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&yt.Optional?null:void 0!==i?i:void On(Zt(n))}const Rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},pr="__NG_DI_FLAG__",Zn="ngTempTokenPath",fi="ngTokenPath",kr=/\n/gm,Fe="\u0275",fe="__source";let we;function ht(n){const i=we;return we=n,i}function lt(n,i=yt.Default){if(void 0===we)throw new ct(-203,!1);return null===we?Gn(n,void 0,i):we.get(n,i&yt.Optional?null:void 0,i)}function ee(n,i=yt.Default){return(function Kn(){return Vt}()||lt)(Dt(n),i)}function ge(n,i=yt.Default){return ee(n,ke(i))}function ke(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Re(n){const i=[];for(let o=0;o<n.length;o++){const u=Dt(n[o]);if(Array.isArray(u)){if(0===u.length)throw new ct(900,!1);let c,h=yt.Default;for(let m=0;m<u.length;m++){const b=u[m],R=ye(b);"number"==typeof R?-1===R?c=b.token:h|=R:c=b}i.push(ee(c,h))}else i.push(ee(u))}return i}function Nt(n,i){return n[pr]=i,n.prototype[pr]=i,n}function ye(n){return n[pr]}function pe(n){return{toString:n}.toString()}var et=(()=>((et=et||{})[et.OnPush=0]="OnPush",et[et.Default=1]="Default",et))(),gt=(()=>{return(n=gt||(gt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",gt;var n})();const $t={},un=[],kn=Ye({\u0275cmp:Ye}),Fr=Ye({\u0275dir:Ye}),Ke=Ye({\u0275pipe:Ye}),de=Ye({\u0275mod:Ye}),Ie=Ye({\u0275fac:Ye}),ft=Ye({__NG_ELEMENT_ID__:Ye});let bt=0;function gn(n){return pe(()=>{const i=ms(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===et.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||gt.Emulated,id:"c"+bt++,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null};pi(o);const u=n.dependencies;return o.directiveDefs=uo(u,!1),o.pipeDefs=uo(u,!0),o})}function Sr(n){return xn(n)||Lr(n)}function or(n){return null!==n}function Xr(n){return pe(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jr(n,i){if(null==n)return $t;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}function vi(n){return pe(()=>{const i=ms(n);return pi(i),i})}function ts(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function xn(n){return n[kn]||null}function Lr(n){return n[Fr]||null}function si(n){return n[Ke]||null}function ji(n){const i=xn(n)||Lr(n)||si(n);return null!==i&&i.standalone}function Ii(n,i){const o=n[de]||null;if(!o&&!0===i)throw new Error(`Type ${Zt(n)} does not have '\u0275mod' property.`);return o}function ms(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jr(n.inputs,i),outputs:jr(n.outputs)}}function pi(n){n.features?.forEach(i=>i(n))}function uo(n,i){if(!n)return null;const o=i?si:Sr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(or)}const ns=0,ie=1,oe=2,xe=3,it=4,Ct=5,on=6,Bn=7,wn=8,gr=9,Ti=10,Tn=11,Di=12,xr=13,co=14,Pr=15,Vr=16,Ai=17,Hi=18,Oi=19,lo=20,la=21,Dr=22,zi=1,Ui=2,ys=7,Ks=8,Gi=9,tr=10;function Mi(n){return Array.isArray(n)&&"object"==typeof n[zi]}function Ri(n){return Array.isArray(n)&&!0===n[zi]}function Ls(n){return 0!=(4&n.flags)}function ki(n){return n.componentOffset>-1}function Us(n){return 1==(1&n.flags)}function Wi(n){return!!n.template}function Bi(n){return 0!=(256&n[oe])}function po(n,i){return n.hasOwnProperty(Ie)?n[Ie]:null}class xi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function bi(){return qi}function qi(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ho),is}function is(){const n=Ki(this),i=n?.current;if(i){const o=n.previous;if(o===$t)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Ho(n,i,o,u){const c=this.declaredInputs[o],h=Ki(n)||function Pi(n,i){return n[Bs]=i}(n,{previous:$t,current:null}),m=h.current||(h.current={}),b=h.previous,R=b[c];m[c]=new xi(R&&R.currentValue,i,b===$t),n[u]=i}bi.ngInherit=!0;const Bs="__ngSimpleChanges__";function Ki(n){return n[Bs]||null}const Zi=function(n,i,o){},ss="svg";function ei(n){for(;Array.isArray(n);)n=n[ns];return n}function os(n,i){return ei(i[n])}function Ci(n,i){return ei(i[n.index])}function Ur(n,i){return n.data[i]}function xs(n,i){return n[i]}function ui(n,i){const o=i[n];return Mi(o)?o:o[ns]}function mo(n){return 64==(64&n[oe])}function Ni(n,i){return null==i?null:n[i]}function Mo(n){n[Hi]=0}function Ro(n,i){n[Ct]+=i;let o=n,u=n[xe];for(;null!==u&&(1===i&&1===o[Ct]||-1===i&&0===o[Ct]);)u[Ct]+=i,o=u,u=u[xe]}const Cn={lFrame:Fn(null),bindingsEnabled:!0};function Xs(){return Cn.bindingsEnabled}function wt(){return Cn.lFrame.lView}function Wn(){return Cn.lFrame.tView}function Za(n){return Cn.lFrame.contextLView=n,n[wn]}function _s(n){return Cn.lFrame.contextLView=null,n}function qr(){let n=js();for(;null!==n&&64===n.type;)n=n.parent;return n}function js(){return Cn.lFrame.currentTNode}function Hr(n,i){const o=Cn.lFrame;o.currentTNode=n,o.isParent=i}function vo(){return Cn.lFrame.isParent}function Ps(){Cn.lFrame.isParent=!1}function ws(){return Cn.lFrame.bindingIndex++}function B(n){const i=Cn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function P(n,i){const o=Cn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Y(i)}function Y(n){Cn.lFrame.currentDirectiveIndex=n}function le(n){const i=Cn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function _e(){return Cn.lFrame.currentQueryIndex}function Be(n){Cn.lFrame.currentQueryIndex=n}function st(n){const i=n[ie];return 2===i.type?i.declTNode:1===i.type?n[on]:null}function Mt(n,i,o){if(o&yt.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||o&yt.Host||(c=st(h),null===c||(h=h[Pr],10&c.type))););if(null===c)return!1;i=c,n=h}const u=Cn.lFrame=Pn();return u.currentTNode=i,u.lView=n,!0}function kt(n){const i=Pn(),o=n[ie];Cn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Pn(){const n=Cn.lFrame,i=null===n?null:n.child;return null===i?Fn(n):i}function Fn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function yn(){const n=Cn.lFrame;return Cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const An=yn;function ar(){const n=yn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nr(){return Cn.lFrame.selectedIndex}function Br(n){Cn.lFrame.selectedIndex=n}function $r(){const n=Cn.lFrame;return Ur(n.tView,n.selectedIndex)}function Ns(){Cn.lFrame.currentNamespace=ss}function F(){!function x(){Cn.lFrame.currentNamespace=null}()}function ze(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:R,ngAfterViewChecked:L,ngOnDestroy:G}=h;m&&(n.contentHooks??(n.contentHooks=[])).push(-o,m),b&&((n.contentHooks??(n.contentHooks=[])).push(o,b),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,b)),R&&(n.viewHooks??(n.viewHooks=[])).push(-o,R),L&&((n.viewHooks??(n.viewHooks=[])).push(o,L),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,L)),null!=G&&(n.destroyHooks??(n.destroyHooks=[])).push(o,G)}}function ut(n,i,o){St(n,i,3,o)}function Ht(n,i,o,u){(3&n[oe])===o&&St(n,i,o,u)}function cr(n,i){let o=n[oe];(3&o)===i&&(o&=2047,o+=1,n[oe]=o)}function St(n,i,o,u){const h=u??-1,m=i.length-1;let b=0;for(let R=void 0!==u?65535&n[Hi]:0;R<m;R++)if("number"==typeof i[R+1]){if(b=i[R],null!=u&&b>=u)break}else i[R]<0&&(n[Hi]+=65536),(b<h||-1==h)&&(zt(n,o,i,R),n[Hi]=(4294901760&n[Hi])+R+2),R++}function zt(n,i,o,u){const c=o[u]<0,h=o[u+1],b=n[c?-o[u]:o[u]];if(c){if(n[oe]>>11<n[Hi]>>16&&(3&n[oe])===i){n[oe]+=2048,Zi(4,b,h);try{h.call(b)}finally{Zi(5,b,h)}}}else{Zi(4,b,h);try{h.call(b)}finally{Zi(5,b,h)}}}const Rt=-1;class Ge{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function mt(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],m=o[u++],b=o[u++];n.setAttribute(i,m,b,h)}else{const h=c,m=o[++u];_o(h)?n.setProperty(i,h,m):n.setAttribute(i,h,m),u++}}return u}function yr(n){return 3===n||4===n||6===n}function _o(n){return 64===n.charCodeAt(0)}function Os(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Ko(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function Ko(n,i,o,u,c){let h=0,m=n.length;if(-1===i)m=-1;else for(;h<n.length;){const b=n[h++];if("number"==typeof b){if(b===i){m=-1;break}if(b>i){m=h-1;break}}}for(;h<n.length;){const b=n[h];if("number"==typeof b)break;if(b===o){if(null===u)return void(null!==c&&(n[h+1]=c));if(u===n[h+1])return void(n[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,i),h=m+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==c&&n.splice(h++,0,c)}function ku(n){return n!==Rt}function ma(n){return 32767&n}function ya(n,i){let o=function gu(n){return n>>16}(n),u=i;for(;o>0;)u=u[Pr],o--;return u}let sc=!0;function Ra(n){const i=sc;return sc=n,i}const Fu=255,Nn=5;let xa=0;const Hs={};function Xt(n,i){const o=bn(n,i);if(-1!==o)return o;const u=i[ie];u.firstCreatePass&&(n.injectorIndex=i.length,Zo(u.data,n),Zo(i,null),Zo(u.blueprint,null));const c=Lu(n,i),h=n.injectorIndex;if(ku(c)){const m=ma(c),b=ya(c,i),R=b[ie].data;for(let L=0;L<8;L++)i[h+L]=b[m+L]|R[m+L]}return i[h+8]=c,h}function Zo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function bn(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Lu(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=We(c),null===u)return Rt;if(o++,c=c[Pr],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Rt}function lr(n,i,o){!function ti(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ft)&&(u=o[ft]),null==u&&(u=o[ft]=xa++);const c=u&Fu;i.data[n+(c>>Nn)]|=1<<c}(n,i,o)}function Pa(n,i,o){if(o&yt.Optional||void 0!==n)return n;On()}function $i(n,i,o,u){if(o&yt.Optional&&void 0===u&&(u=null),!(o&(yt.Self|yt.Host))){const c=n[gr],h=Xn(void 0);try{return c?c.get(i,u,o&yt.Optional):Gn(i,u,o&yt.Optional)}finally{Xn(h)}}return Pa(u,0,o)}function Xo(n,i,o,u=yt.Default,c){if(null!==n){if(1024&i[oe]){const m=function Yo(n,i,o,u,c){let h=n,m=i;for(;null!==h&&null!==m&&1024&m[oe]&&!(256&m[oe]);){const b=ea(h,m,o,u|yt.Self,Hs);if(b!==Hs)return b;let R=h.parent;if(!R){const L=m[la];if(L){const G=L.get(o,Hs,u);if(G!==Hs)return G}R=We(m),m=m[Pr]}h=R}return c}(n,i,o,u,Hs);if(m!==Hs)return m}const h=ea(n,i,o,u,Hs);if(h!==Hs)return h}return $i(i,o,u,c)}function ea(n,i,o,u,c){const h=function Uu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(ft)?n[ft]:void 0;return"number"==typeof i?i>=0?i&Fu:Bu:i}(o);if("function"==typeof h){if(!Mt(i,n,u))return u&yt.Host?Pa(c,0,u):$i(i,o,u,c);try{const m=h(u);if(null!=m||u&yt.Optional)return m;On()}finally{An()}}else if("number"==typeof h){let m=null,b=bn(n,i),R=Rt,L=u&yt.Host?i[Vr][on]:null;for((-1===b||u&yt.SkipSelf)&&(R=-1===b?Lu(n,i):i[b+8],R!==Rt&&Ts(u,!1)?(m=i[ie],b=ma(R),i=ya(R,i)):b=-1);-1!==b;){const G=i[ie];if(mu(h,b,G.data)){const re=Ya(b,i,o,m,u,L);if(re!==Hs)return re}R=i[b+8],R!==Rt&&Ts(u,i[ie].data[b+8]===L)&&mu(h,b,i)?(m=G,b=ma(R),i=ya(R,i)):b=-1}}return c}function Ya(n,i,o,u,c,h){const m=i[ie],b=m.data[n+8],G=xo(b,m,o,null==u?ki(b)&&sc:u!=m&&0!=(3&b.type),c&yt.Host&&h===b);return null!==G?Is(i,m,G,b):Hs}function xo(n,i,o,u,c){const h=n.providerIndexes,m=i.data,b=1048575&h,R=n.directiveStart,G=h>>20,De=c?b+G:n.directiveEnd;for(let Ve=u?b:b+G;Ve<De;Ve++){const _t=m[Ve];if(Ve<R&&o===_t||Ve>=R&&_t.type===o)return Ve}if(c){const Ve=m[R];if(Ve&&Wi(Ve)&&Ve.type===o)return R}return null}function Is(n,i,o,u){let c=n[o];const h=i.data;if(function cn(n){return n instanceof Ge}(c)){const m=c;m.resolving&&function qt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ct(-200,`Circular dependency in DI detected for ${n}${o}`)}(function Wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():at(n)}(h[o]));const b=Ra(m.canSeeViewProviders);m.resolving=!0;const R=m.injectImpl?Xn(m.injectImpl):null;Mt(n,u,yt.Default);try{c=n[o]=m.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function se(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const m=qi(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,m)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,c),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==R&&Xn(R),Ra(b),m.resolving=!1,An()}}return c}function mu(n,i,o){return!!(o[i+(n>>Nn)]&1<<n)}function Ts(n,i){return!(n&yt.Self||n&yt.Host&&i)}class eo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Xo(this._tNode,this._lView,i,ke(u),o)}}function Bu(){return new eo(qr(),wt())}function cs(n){return pe(()=>{const i=n.prototype.constructor,o=i[Ie]||Eo(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const h=c[Ie]||Eo(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Eo(n){return Qe(n)?()=>{const i=Eo(Dt(n));return i&&i()}:po(n)}function We(n){const i=n[ie],o=i.type;return 2===o?i.declTNode:1===o?n[on]:null}function Na(n){return function nn(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(yr(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(qr(),n)}const ta="__parameters__";function zs(n,i,o){return pe(()=>{const u=function yu(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return b.annotation=m,b;function b(R,L,G){const re=R.hasOwnProperty(ta)?R[ta]:Object.defineProperty(R,ta,{value:[]})[ta];for(;re.length<=G;)re.push(null);return(re[G]=re[G]||[]).push(m),R}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Kr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Jn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jo(n,i){n.forEach(o=>Array.isArray(o)?Jo(o,i):i(o))}function $u(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Fa(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function g(n,i,o){let u=N(n,i);return u>=0?n[1|u]=o:(u=~u,function y(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function S(n,i){const o=N(n,i);if(o>=0)return n[1|o]}function N(n,i){return function W(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const h=u+(c-u>>1),m=n[h<<o];if(i===m)return h<<o;m>i?c=h:u=h+1}return~(c<<o)}(n,i,1)}const Yn=Nt(zs("Optional"),8),ii=Nt(zs("SkipSelf"),4);var bs=(()=>((bs=bs||{})[bs.Important=1]="Important",bs[bs.DashCase=2]="DashCase",bs))();const Fc=new Map;let Cr=0;const Ne="__ngContext__";function Je(n,i){Mi(i)?(n[Ne]=i[lo],function Du(n){Fc.set(n[lo],n)}(i)):n[Ne]=i}let Uo;function Ea(n,i){return Uo(n,i)}function su(n){const i=n[xe];return Ri(i)?i[xe]:i}function bu(n){return Tl(n[xr])}function Il(n){return Tl(n[it])}function Tl(n){for(;null!==n&&!Ri(n);)n=n[it];return n}function ou(n,i,o,u,c){if(null!=u){let h,m=!1;Ri(u)?h=u:Mi(u)&&(m=!0,u=u[ns]);const b=ei(u);0===n&&null!==o?null==c?dh(i,o,b):Do(i,o,b,c||null,!0):1===n&&null!==o?Do(i,o,b,c||null,!0):2===n?function Su(n,i,o){const u=ir(n,i);u&&function Tg(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,b,m):3===n&&i.destroyNode(b),null!=h&&function Lf(n,i,o,u,c){const h=o[ys];h!==ei(o)&&ou(i,n,u,h,c);for(let b=tr;b<o.length;b++){const R=o[b];za(R[ie],R,n,i,u,h)}}(i,n,h,o,c)}}function Uc(n,i,o){return n.createElement(i,o)}function hd(n,i){const o=n[Gi],u=o.indexOf(i),c=i[xe];512&i[oe]&&(i[oe]&=-513,Ro(c,-1)),o.splice(u,1)}function fd(n,i){if(n.length<=tr)return;const o=tr+i,u=n[o];if(u){const c=u[Ai];null!==c&&c!==n&&hd(c,u),i>0&&(n[o-1][it]=u[it]);const h=Fa(n,tr+i);!function Bc(n,i){za(n,i,i[Tn],2,null,null),i[ns]=null,i[on]=null}(u[ie],u);const m=h[Oi];null!==m&&m.detachView(h[ie]),u[xe]=null,u[it]=null,u[oe]&=-65}return u}function Ha(n,i){if(!(128&i[oe])){const o=i[Tn];o.destroyNode&&za(n,i,o,3,null,null),function uh(n){let i=n[xr];if(!i)return pd(n[ie],n);for(;i;){let o=null;if(Mi(i))o=i[xr];else{const u=i[tr];u&&(o=u)}if(!o){for(;i&&!i[it]&&i!==n;)Mi(i)&&pd(i[ie],i),i=i[xe];null===i&&(i=n),Mi(i)&&pd(i[ie],i),o=i&&i[it]}i=o}}(i)}}function pd(n,i){if(!(128&i[oe])){i[oe]&=-65,i[oe]|=128,function kf(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Ge)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const b=c[h[m]],R=h[m+1];Zi(4,b,R);try{R.call(b)}finally{Zi(5,b,R)}}else{Zi(4,c,h);try{h.call(c)}finally{Zi(5,c,h)}}}}}(n,i),function Bo(n,i){const o=n.cleanup,u=i[Bn];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?u[c=m]():u[c=-m].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();i[Bn]=null}}(n,i),1===i[ie].type&&i[Tn].destroy();const o=i[Ai];if(null!==o&&Ri(i[xe])){o!==i[xe]&&hd(o,i);const u=i[Oi];null!==u&&u.detachView(n)}!function I(n){Fc.delete(n[lo])}(i)}}function Vc(n,i,o){return function lh(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[ns];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=n.data[u.directiveStart+c];if(h===gt.None||h===gt.Emulated)return null}return Ci(u,o)}}(n,i.parent,o)}function Do(n,i,o,u,c){n.insertBefore(i,o,u,c)}function dh(n,i,o){n.appendChild(i,o)}function $c(n,i,o,u,c){null!==u?Do(n,i,o,u,c):dh(n,i,o)}function ir(n,i){return n.parentNode(i)}let yd,wi,Id,zc,md=function hh(n,i,o){return 40&n.type?Ci(n,o):null};function vd(n,i,o,u){const c=Vc(n,u,i),h=i[Tn],b=function gd(n,i,o){return md(n,i,o)}(u.parent||i[on],u,i);if(null!=c)if(Array.isArray(o))for(let R=0;R<o.length;R++)$c(h,c,o[R],b,!1);else $c(h,c,o,b,!1);void 0!==yd&&yd(h,u,i,o,c)}function _d(n,i){if(null!==i){const o=i.type;if(3&o)return Ci(i,n);if(4&o)return Qu(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return _d(n,u);{const c=n[i.index];return Ri(c)?Qu(-1,c):ei(c)}}if(32&o)return Ea(i,n)()||ei(n[i.index]);{const u=fh(n,i);return null!==u?Array.isArray(u)?u[0]:_d(su(n[Vr]),u):_d(n,i.next)}}return null}function fh(n,i){return null!==i?n[Vr][on].projection[i.projection]:null}function Qu(n,i){const o=tr+n+1;if(o<i.length){const u=i[o],c=u[ie].firstChild;if(null!==c)return _d(u,c)}return i[ys]}function Ed(n,i,o,u,c,h,m){for(;null!=o;){const b=u[o.index],R=o.type;if(m&&0===i&&(b&&Je(ei(b),u),o.flags|=2),32!=(32&o.flags))if(8&R)Ed(n,i,o.child,u,c,h,!1),ou(i,n,c,b,h);else if(32&R){const L=Ea(o,u);let G;for(;G=L();)ou(i,n,c,G,h);ou(i,n,c,b,h)}else 16&R?dc(n,i,u,o,c,h):ou(i,n,c,b,h);o=m?o.projectionNext:o.next}}function za(n,i,o,u,c,h){Ed(o,u,n.firstChild,i,c,h,!1)}function dc(n,i,o,u,c,h){const m=o[Vr],R=m[on].projection[u.projection];if(Array.isArray(R))for(let L=0;L<R.length;L++)ou(i,n,c,R[L],h);else Ed(n,i,R,m[xe],c,h,!0)}function Bf(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Vf(n,i,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&mt(n,i,u),null!==c&&Bf(n,i,c),null!==h&&function bl(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function Au(n){return function jc(){if(void 0===wi&&(wi=null,Rn.trustedTypes))try{wi=Rn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return wi}()?.createHTML(n)||n}function Hc(n){Id=n}function Td(){if(void 0===zc&&(zc=null,Rn.trustedTypes))try{zc=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zc}function ph(n){return Td()?.createHTML(n)||n}function Dd(n){return Td()?.createScriptURL(n)||n}class cu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${At})`}}class gh extends cu{getTypeName(){return"HTML"}}class mh extends cu{getTypeName(){return"Style"}}class Sg extends cu{getTypeName(){return"Script"}}class Ag extends cu{getTypeName(){return"URL"}}class Cs extends cu{getTypeName(){return"ResourceURL"}}function vr(n){return n instanceof cu?n.changingThisBreaksApplicationSecurity:n}function fc(n,i){const o=function jf(n){return n instanceof cu&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${At})`)}return o===i}function yh(n){return new gh(n)}function w(n){return new mh(n)}function d(n){return new Sg(n)}function p(n){return new Ag(n)}function C(n){return new Cs(n)}class K{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Au(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Me{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=Au(i),o}}const jt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rn(n){return(n=String(n)).match(jt)?n:"unsafe:"+n}function vn(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function mr(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const so=vn("area,br,col,hr,img,wbr"),lu=vn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pc=vn("rp,rt"),Cl=mr(so,mr(lu,vn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),mr(pc,vn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mr(pc,lu)),Gc=vn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wc=mr(Gc,vn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Eh=vn("script,style,template");class es{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Cl.hasOwnProperty(o))return this.sanitizedSomething=!0,!Eh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),m=h.name,b=m.toLowerCase();if(!Wc.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let R=h.value;Gc[b]&&(R=rn(R)),this.buf.push(" ",m,'="',Sl(R),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Cl.hasOwnProperty(o)&&!so.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Sl(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const qc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wh=/([^\#-~ |!])/g;function Sl(n){return n.replace(/&/g,"&amp;").replace(qc,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(wh,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wa;function Ih(n,i){let o=null;try{wa=wa||function V(n){const i=new Me(n);return function tt(){try{return!!(new window.DOMParser).parseFromString(Au(""),"text/html")}catch{return!1}}()?new K(i):i}(n);let u=i?String(i):"";o=wa.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=wa.getInertBodyElement(u)}while(u!==h);return Au((new es).sanitizeChildren(Th(o)||o))}finally{if(o){const u=Th(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Th(n){return"content"in n&&function Cd(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ps=(()=>((ps=ps||{})[ps.NONE=0]="NONE",ps[ps.HTML=1]="HTML",ps[ps.STYLE=2]="STYLE",ps[ps.SCRIPT=3]="SCRIPT",ps[ps.URL=4]="URL",ps[ps.RESOURCE_URL=5]="RESOURCE_URL",ps))();function zf(n){const i=Al();return i?ph(i.sanitize(ps.HTML,n)||""):fc(n,"HTML")?ph(vr(n)):Ih(function uu(){return void 0!==Id?Id:typeof document<"u"?document:void 0}(),at(n))}function Gf(n){const i=Al();return i?i.sanitize(ps.URL,n)||"":fc(n,"URL")?vr(n):rn(at(n))}function Rg(n){const i=Al();if(i)return Dd(i.sanitize(ps.RESOURCE_URL,n)||"");if(fc(n,"ResourceURL"))return Dd(vr(n));throw new ct(904,!1)}function Dh(n,i,o){return function xg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Rg:Gf}(i,o)(n)}function Al(){const n=wt();return n&&n[Di]}const qf=new Kr("ENVIRONMENT_INITIALIZER"),Pg=new Kr("INJECTOR",-1),Ng=new Kr("INJECTOR_DEF_TYPES");class Ju{get(i,o=Ln){if(o===Ln){const u=new Error(`NullInjectorError: No provider for ${Zt(i)}!`);throw u.name="NullInjectorError",u}return o}}function Ml(n){return{\u0275providers:n}}function Og(...n){return{\u0275providers:kg(0,n),\u0275fromNgModule:!0}}function kg(n,...i){const o=[],u=new Set;let c;return Jo(i,h=>{const m=h;du(m,o,[],u)&&(c||(c=[]),c.push(m))}),void 0!==c&&Kf(c,o),o}function Kf(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];Zf(c,h=>{i.push(h)})}}function du(n,i,o,u){if(!(n=Dt(n)))return!1;let c=null,h=hi(n);const m=!h&&xn(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const R=n.ngModule;if(h=hi(R),!h)return!1;c=R}const b=u.has(c);if(m){if(b)return!1;if(u.add(c),m.dependencies){const R="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of R)du(L,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!b){let L;u.add(c);try{Jo(h.imports,G=>{du(G,i,o,u)&&(L||(L=[]),L.push(G))})}finally{}void 0!==L&&Kf(L,i)}if(!b){const L=po(c)||(()=>new c);i.push({provide:c,useFactory:L,deps:un},{provide:Ng,useValue:c,multi:!0},{provide:qf,useValue:()=>ee(c),multi:!0})}const R=h.providers;null==R||b||Zf(R,G=>{i.push(G)})}}return c!==n&&void 0!==n.providers}function Zf(n,i){for(let o of n)Pe(o)&&(o=o.\u0275providers),Array.isArray(o)?Zf(o,i):i(o)}const Fg=Ye({provide:String,useValue:Ye});function Rl(n){return null!==n&&"object"==typeof n&&Fg in n}function Ia(n){return"function"==typeof n}const bh=new Kr("Set Injector scope."),xl={},Yf={};let Ch;function Md(){return void 0===Ch&&(Ch=new Ju),Ch}class Kc{}class Qf extends Kc{get destroyed(){return this._destroyed}constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jf(i,m=>this.processProvider(m)),this.records.set(Pg,Pl(void 0,this)),c.has("environment")&&this.records.set(Kc,Pl(void 0,this));const h=this.records.get(bh);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ng.multi,un,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ht(this),u=Xn(void 0);try{return i()}finally{ht(o),Xn(u)}}get(i,o=Ln,u=yt.Default){this.assertNotDestroyed(),u=ke(u);const c=ht(this),h=Xn(void 0);try{if(!(u&yt.SkipSelf)){let b=this.records.get(i);if(void 0===b){const R=function Ly(n){return"function"==typeof n||"object"==typeof n&&n instanceof Kr}(i)&&Yt(i);b=R&&this.injectableDefInScope(R)?Pl(Sh(i),xl):null,this.records.set(i,b)}if(null!=b)return this.hydrate(i,b)}return(u&yt.Self?Md():this.parent).get(i,o=u&yt.Optional&&o===Ln?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Zn]=m[Zn]||[]).unshift(Zt(i)),c)throw m;return function ae(n,i,o,u){const c=n[Zn];throw i[fe]&&c.unshift(i[fe]),n.message=function Q(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Fe?n.slice(2):n;let c=Zt(i);if(Array.isArray(i))c=i.map(Zt).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let b=i[m];h.push(m+":"+("string"==typeof b?JSON.stringify(b):Zt(b)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(kr,"\n  ")}`}("\n"+n.message,c,o,u),n[fi]=c,n[Zn]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{Xn(h),ht(c)}}resolveInjectorInitializers(){const i=ht(this),o=Xn(void 0);try{const u=this.get(qf.multi,un,yt.Self);for(const c of u)c()}finally{ht(i),Xn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Zt(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ct(205,!1)}processProvider(i){let o=Ia(i=Dt(i))?i:Dt(i&&i.provide);const u=function Rd(n){return Rl(n)?Pl(void 0,n.useValue):Pl(vc(n),xl)}(i);if(Ia(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Pl(void 0,xl,!0),c.factory=()=>Re(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===xl&&(o.value=Yf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Fy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Dt(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Sh(n){const i=Yt(n),o=null!==i?i.factory:po(n);if(null!==o)return o;if(n instanceof Kr)throw new ct(204,!1);if(n instanceof Function)return function Ah(n){const i=n.length;if(i>0)throw function Po(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new ct(204,!1);const o=function Wr(n){return n&&(n[rr]||n[ri])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ct(204,!1)}function vc(n,i,o){let u;if(Ia(n)){const c=Dt(n);return po(c)||Sh(c)}if(Rl(n))u=()=>Dt(n.useValue);else if(function yc(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Re(n.deps||[]));else if(function mc(n){return!(!n||!n.useExisting)}(n))u=()=>ee(Dt(n.useExisting));else{const c=Dt(n&&(n.useClass||n.provide));if(!function Lg(n){return!!n.deps}(n))return po(c)||Sh(c);u=()=>new c(...Re(n.deps))}return u}function Pl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Jf(n,i){for(const o of n)Array.isArray(o)?Jf(o,i):o&&Pe(o)?Jf(o.\u0275providers,i):i(o)}class xd{}class _c{}class Ug{resolveComponentFactory(i){throw function Ec(n){const i=Error(`No component factory found for ${Zt(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Pd=(()=>{class n{}return n.NULL=new Ug,n})();function ep(){return wc(qr(),wt())}function wc(n,i){return new Nl(Ci(n,i))}let Nl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=ep,n})();function tp(n){return n instanceof Nl?n.nativeElement:n}class Mh{}let Bg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Rh(){const n=wt(),o=ui(qr().index,n);return(Mi(o)?o:n)[Tn]}(),n})(),Uy=(()=>{class n{}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:()=>null}),n})();class xh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Nd=new xh("15.2.10"),np={},Ph="ngOriginalError";function Ol(n){return n[Ph]}class Xu{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ol(i);for(;o&&Ol(o);)o=Ol(o);return o||null}}function sa(n){return n instanceof Function?n():n}function ip(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||n.charCodeAt(c+h)<=32)return c}o=c+1}}const Gg="ng-template";function Wg(n,i,o){let u=0,c=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&c){const m=n[u++];if(o&&"class"===h&&-1!==ip(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function qg(n){return 4===n.type&&n.value!==Gg}function Kg(n,i,o){return i===(4!==n.type||o?n.value:Gg)}function By(n,i,o){let u=4;const c=n.attrs||[],h=function $y(n){for(let i=0;i<n.length;i++)if(yr(n[i]))return i;return n.length}(c);let m=!1;for(let b=0;b<i.length;b++){const R=i[b];if("number"!=typeof R){if(!m)if(4&u){if(u=2|1&u,""!==R&&!Kg(n,R,o)||""===R&&1===i.length){if(oa(u))return!1;m=!0}}else{const L=8&u?R:i[++b];if(8&u&&null!==n.attrs){if(!Wg(n.attrs,L,o)){if(oa(u))return!1;m=!0}continue}const re=Vy(8&u?"class":R,c,qg(n),o);if(-1===re){if(oa(u))return!1;m=!0;continue}if(""!==L){let De;De=re>h?"":c[re+1].toLowerCase();const Ve=8&u?De:null;if(Ve&&-1!==ip(Ve,L,0)||2&u&&L!==De){if(oa(u))return!1;m=!0}}}}else{if(!m&&!oa(u)&&!oa(R))return!1;if(m&&oa(R))continue;m=!1,u=R|1&u}}return oa(u)||m}function oa(n){return 0==(1&n)}function Vy(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let b=i[++c];for(;"string"==typeof b;)b=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function Qg(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Zg(n,i,o=!1){for(let u=0;u<i.length;u++)if(By(n,i[u],o))return!0;return!1}function kl(n,i){return n?":not("+i.trim()+")":i}function Jg(n){let i=n[0],o=1,u=2,c="",h=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const b=n[++o];c+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!oa(m)&&(i+=kl(h,c),c=""),u=m,h=h||!oa(u);o++}return""!==c&&(i+=kl(h,c)),i}const dr={};function em(n){tm(Wn(),wt(),Nr()+n,!1)}function tm(n,i,o,u){if(!u)if(3==(3&i[oe])){const h=n.preOrderCheckHooks;null!==h&&ut(i,h,o)}else{const h=n.preOrderHooks;null!==h&&Ht(i,h,0,o)}Br(o)}function Fd(n,i=null,o=null,u){const c=im(n,i,o,u);return c.resolveInjectorInitializers(),c}function im(n,i=null,o=null,u,c=new Set){const h=[o||un,Og(n)];return u=u||("object"==typeof n?void 0:Zt(n)),new Qf(h,i||Md(),u||null,c)}let Ic=(()=>{class n{static create(o,u){if(Array.isArray(o))return Fd({name:""},u,o,"");{const c=o.name??"";return Fd({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=Ln,n.NULL=new Ju,n.\u0275prov=Jn({token:n,providedIn:"any",factory:()=>ee(Pg)}),n.__NG_ELEMENT_ID__=-1,n})();function Mu(n,i=yt.Default){const o=wt();return null===o?ee(n,i):Xo(qr(),o,Dt(n),i)}function Vd(){throw new Error("invalid")}function Vh(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const m=n.data[h];Be(o[u]),m.contentQueries(2,i[h],h)}}}function $h(n,i,o,u,c,h,m,b,R,L,G){const re=i.blueprint.slice();return re[ns]=c,re[oe]=76|u,(null!==G||n&&1024&n[oe])&&(re[oe]|=1024),Mo(re),re[xe]=re[Pr]=n,re[wn]=o,re[Ti]=m||n&&n[Ti],re[Tn]=b||n&&n[Tn],re[Di]=R||n&&n[Di]||null,re[gr]=L||n&&n[gr]||null,re[on]=h,re[lo]=function Gr(){return Cr++}(),re[la]=G,re[Vr]=2==i.type?n[Vr]:re,re}function el(n,i,o,u,c){let h=n.data[i];if(null===h)h=function Ul(n,i,o,u,c){const h=js(),m=vo(),R=n.data[i]=function Xy(n,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=R),null!==h&&(m?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R,R.prev=h)),R}(n,i,o,u,c),function v(){return Cn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=function Es(){const n=Cn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Hr(h,!0),h}function tl(n,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function mp(n,i,o){kt(i);try{const u=n.viewQuery;null!==u&&Cp(1,u,o);const c=n.template;null!==c&&bo(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Vh(n,i),n.staticViewQueries&&Cp(2,n.viewQuery,o);const h=n.components;null!==h&&function hm(n,i){for(let o=0;o<i.length;o++)ov(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[oe]&=-5,ar()}}function jh(n,i,o,u){const c=i[oe];if(128!=(128&c)){kt(i);try{Mo(i),function us(n){return Cn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&bo(n,i,o,2,u);const m=3==(3&c);if(m){const L=n.preOrderCheckHooks;null!==L&&ut(i,L,null)}else{const L=n.preOrderHooks;null!==L&&Ht(i,L,0,null),cr(i,0)}if(function sv(n){for(let i=bu(n);null!==i;i=Il(i)){if(!i[Ui])continue;const o=i[Gi];for(let u=0;u<o.length;u++){const c=o[u];512&c[oe]||Ro(c[xe],1),c[oe]|=512}}}(i),function iv(n){for(let i=bu(n);null!==i;i=Il(i))for(let o=tr;o<i.length;o++){const u=i[o],c=u[ie];mo(u)&&jh(c,u,c.template,u[wn])}}(i),null!==n.contentQueries&&Vh(n,i),m){const L=n.contentCheckHooks;null!==L&&ut(i,L)}else{const L=n.contentHooks;null!==L&&Ht(i,L,1),cr(i,1)}!function pp(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Br(~c);else{const h=c,m=o[++u],b=o[++u];P(m,h),b(2,i[h])}}}finally{Br(-1)}}(n,i);const b=n.components;null!==b&&function gp(n,i){for(let o=0;o<i.length;o++)Em(n,i[o])}(i,b);const R=n.viewQuery;if(null!==R&&Cp(2,R,u),m){const L=n.viewCheckHooks;null!==L&&ut(i,L)}else{const L=n.viewHooks;null!==L&&Ht(i,L,2),cr(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[oe]&=-41,512&i[oe]&&(i[oe]&=-513,Ro(i[xe],-1))}finally{ar()}}}function bo(n,i,o,u,c){const h=Nr(),m=2&u;try{Br(-1),m&&i.length>Dr&&tm(n,i,Dr,!1),Zi(m?2:0,c),o(u,c)}finally{Br(h),Zi(m?3:1,c)}}function yp(n,i,o){if(Ls(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Hh(n,i,o){Xs()&&(function Ep(n,i,o,u){const c=o.directiveStart,h=o.directiveEnd;ki(o)&&function Dp(n,i,o){const u=Ci(i,n),c=Vl(o),h=n[Ti],m=Kh(n,$h(n,c,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=m}(i,o,n.data[c+o.componentOffset]),n.firstCreatePass||Xt(o,i),Je(u,i);const m=o.initialInputs;for(let b=c;b<h;b++){const R=n.data[b],L=Is(i,n,b,o);Je(L,i),null!==m&&_m(0,b-c,L,R,0,m),Wi(R)&&(ui(o.index,i)[wn]=Is(i,n,b,o))}}(n,i,o,Ci(o,i)),64==(64&o.flags)&&Gh(n,i,o))}function Bl(n,i,o=Ci){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],b=-1===m?o(i,n):n[m];n[c++]=b}}}function Vl(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=$d(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function $d(n,i,o,u,c,h,m,b,R,L){const G=Dr+u,re=G+c,De=function fm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:dr);return o}(G,re),Ve="function"==typeof L?L():L;return De[ie]={type:n,blueprint:De,template:o,queries:null,viewQuery:b,declTNode:i,data:De.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:R,consts:Ve,incompleteFirstPass:!1}}function pm(n,i,o,u){const c=Sp(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&Yh(n).push(u,c.length-1))}function gm(n,i,o,u){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const h=n[c];null===u?zh(o,i,c,h):u.hasOwnProperty(c)&&zh(o,i,u[c],h)}return o}function zh(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Co(n,i,o,u,c,h,m,b){const R=Ci(i,o);let G,L=i.inputs;!b&&null!=L&&(G=L[u])?(Dc(n,o,G,u,c),ki(i)&&function vp(n,i){const o=ui(i,n);16&o[oe]||(o[oe]|=32)}(o,i.index)):3&i.type&&(u=function tv(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=m?m(c,i.value||"",u):c,h.setProperty(R,u,c))}function jl(n,i,o,u){if(Xs()){const c=null===u?null:{"":-1},h=function vm(n,i){const o=n.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(Zg(i,m.selectors,!1))if(u||(u=[]),Wi(m))if(null!==m.findHostDirectiveDefs){const b=[];c=c||new Map,m.findHostDirectiveDefs(m,b,c),u.unshift(...b,m),wp(n,i,b.length)}else u.unshift(m),wp(n,i,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,u,c),u.push(m)}return null===u?null:[u,c]}(n,o);let m,b;null===h?m=b=null:[m,b]=h,null!==m&&Hl(n,i,o,m,c,b),c&&function Ip(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new ct(-301,!1);u.push(i[c],h)}}}(o,u,c)}o.mergedAttrs=Os(o.mergedAttrs,o.attrs)}function Hl(n,i,o,u,c,h){for(let L=0;L<u.length;L++)lr(Xt(o,i),n,u[L].type);!function Tp(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let L=0;L<u.length;L++){const G=u[L];G.providersResolver&&G.providersResolver(G)}let m=!1,b=!1,R=tl(n,i,u.length,null);for(let L=0;L<u.length;L++){const G=u[L];o.mergedAttrs=Os(o.mergedAttrs,G.hostAttrs),rv(n,o,i,R,G),nv(R,G,c),null!==G.contentQueries&&(o.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(o.flags|=64);const re=G.type.prototype;!m&&(re.ngOnChanges||re.ngOnInit||re.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),m=!0),!b&&(re.ngOnChanges||re.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),b=!0),R++}!function ev(n,i,o){const c=i.directiveEnd,h=n.data,m=i.attrs,b=[];let R=null,L=null;for(let G=i.directiveStart;G<c;G++){const re=h[G],De=o?o.get(re):null,_t=De?De.outputs:null;R=gm(re.inputs,G,R,De?De.inputs:null),L=gm(re.outputs,G,L,_t);const Bt=null===R||null===m||qg(i)?null:zl(R,G,m);b.push(Bt)}null!==R&&(R.hasOwnProperty("class")&&(i.flags|=8),R.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=b,i.inputs=R,i.outputs=L}(n,o,h)}function Gh(n,i,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,m=function $(){return Cn.lFrame.currentDirectiveIndex}();try{Br(h);for(let b=u;b<c;b++){const R=n.data[b],L=i[b];Y(b),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&Tc(R,L)}}finally{Br(-1),Y(m)}}function Tc(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function wp(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function nv(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;Wi(i)&&(o[""]=n)}}function rv(n,i,o,u,c){n.data[u]=c;const h=c.factory||(c.factory=po(c.type)),m=new Ge(h,Wi(c),Mu);n.blueprint[u]=m,o[u]=m,function _p(n,i,o,u,c){const h=c.hostBindings;if(h){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const b=~i.index;(function ym(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(m)!=b&&m.push(b),m.push(o,u,h)}}(n,i,u,tl(n,o,c.hostVars,dr),c)}function Da(n,i,o,u,c,h){const m=Ci(n,i);!function jd(n,i,o,u,c,h,m){if(null==h)n.removeAttribute(i,c,o);else{const b=null==m?at(h):m(h,u||"",c);n.setAttribute(i,c,b,o)}}(i[Tn],m,h,n.value,o,u,c)}function _m(n,i,o,u,c,h){const m=h[i];if(null!==m){const b=u.setInput;for(let R=0;R<m.length;){const L=m[R++],G=m[R++],re=m[R++];null!==b?u.setInput(o,re,L,G):o[G]=re}}}function zl(n,i,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const m=n[h];for(let b=0;b<m.length;b+=2)if(m[b]===i){u.push(h,m[b+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Wh(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Em(n,i){const o=ui(i,n);if(mo(o)){const u=o[ie];48&o[oe]?jh(u,o,u.template,o[wn]):o[Ct]>0&&qh(o)}}function qh(n){for(let u=bu(n);null!==u;u=Il(u))for(let c=tr;c<u.length;c++){const h=u[c];if(mo(h))if(512&h[oe]){const m=h[ie];jh(m,h,m.template,h[wn])}else h[Ct]>0&&qh(h)}const o=n[ie].components;if(null!==o)for(let u=0;u<o.length;u++){const c=ui(o[u],n);mo(c)&&c[Ct]>0&&qh(c)}}function ov(n,i){const o=ui(i,n),u=o[ie];(function bp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),mp(u,o,o[wn])}function Kh(n,i){return n[xr]?n[co][it]=i:n[xr]=i,n[co]=i,i}function Gl(n){for(;n;){n[oe]|=32;const i=su(n);if(Bi(n)&&!i)return n;n=i}return null}function Zh(n,i,o,u=!0){const c=i[Ti];c.begin&&c.begin();try{jh(n,i,n.template,o)}catch(m){throw u&&Jh(i,m),m}finally{c.end&&c.end()}}function Cp(n,i,o){Be(0),i(n,o)}function Sp(n){return n[Bn]||(n[Bn]=[])}function Yh(n){return n.cleanup||(n.cleanup=[])}function Jh(n,i){const o=n[gr],u=o?o.get(Xu,null):null;u&&u.handleError(i)}function Dc(n,i,o,u,c){for(let h=0;h<o.length;){const m=o[h++],b=o[h++],R=i[m],L=n.data[m];null!==L.setInput?L.setInput(R,c,u,b):R[b]=c}}function Wl(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const b=i[m];"number"==typeof b?h=b:1==h?c=fn(c,b):2==h&&(u=fn(u,b+": "+i[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function ec(n,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(ei(h)),Ri(h))for(let b=tr;b<h.length;b++){const R=h[b],L=R[ie].firstChild;null!==L&&ec(R[ie],R,L,u)}const m=o.type;if(8&m)ec(n,i,o.child,u);else if(32&m){const b=Ea(o,i);let R;for(;R=b();)u.push(R)}else if(16&m){const b=fh(i,o);if(Array.isArray(b))u.push(...b);else{const R=su(i[Vr]);ec(R[ie],R,b,u,!0)}}o=c?o.projectionNext:o.next}return u}class Ru{get rootNodes(){const i=this._lView,o=i[ie];return ec(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(i){this._lView[wn]=i}get destroyed(){return 128==(128&this._lView[oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[xe];if(Ri(i)){const o=i[Ks],u=o?o.indexOf(this):-1;u>-1&&(fd(i,u),Fa(o,u))}this._attachedToViewContainer=!1}Ha(this._lView[ie],this._lView)}onDestroy(i){pm(this._lView[ie],this._lView,null,i)}markForCheck(){Gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[oe]&=-65}reattach(){this._lView[oe]|=64}detectChanges(){Zh(this._lView[ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ct(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dd(n,i){za(n,i,i[Tn],2,null,null)}(this._lView[ie],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ct(902,!1);this._appRef=i}}class Tm extends Ru{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Zh(i[ie],i,i[wn],!1)}checkNoChanges(){}get context(){return null}}class nl extends Pd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=xn(i);return new rl(o,this.ngModule)}}function Dm(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Ap{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=ke(u);const c=this.injector.get(i,np,u);return c!==np||o===np?c:this.parentInjector.get(i,o,u)}}class rl extends _c{get inputs(){return Dm(this.componentDef.inputs)}get outputs(){return Dm(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function Xg(n){return n.map(Jg).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,c){let h=(c=c||this.ngModule)instanceof Kc?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Ap(i,h):i,b=m.get(Mh,null);if(null===b)throw new ct(407,!1);const R=m.get(Uy,null),L=b.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",re=u?function Jy(n,i,o){return n.selectRootElement(i,o===gt.ShadowDom)}(L,u,this.componentDef.encapsulation):Uc(L,G,function av(n){const i=n.toLowerCase();return"svg"===i?ss:"math"===i?"math":null}(G)),De=this.componentDef.onPush?288:272,Ve=$d(0,null,null,1,0,null,null,null,null,null),_t=$h(null,Ve,null,De,null,null,b,L,R,m,null);let Bt,ln;kt(_t);try{const In=this.componentDef;let Un,xt=null;In.findHostDirectiveDefs?(Un=[],xt=new Map,In.findHostDirectiveDefs(In,Un,xt),Un.push(In)):Un=[In];const _r=function uv(n,i){const o=n[ie],u=Dr;return n[u]=i,el(o,u,2,"#host",null)}(_t,re),gs=function cv(n,i,o,u,c,h,m,b){const R=c[ie];!function Rp(n,i,o,u){for(const c of n)i.mergedAttrs=Os(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Wl(i,i.mergedAttrs,!0),null!==o&&Vf(u,o,i))}(u,n,i,m);const L=h.createRenderer(i,o),G=$h(c,Vl(o),null,o.onPush?32:16,c[n.index],n,h,L,b||null,null,null);return R.firstCreatePass&&wp(R,n,u.length-1),Kh(c,G),c[n.index]=G}(_r,re,In,Un,_t,b,L);ln=Ur(Ve,Dr),re&&function lv(n,i,o,u){if(u)mt(n,o,["ng-version",Nd.full]);else{const{attrs:c,classes:h}=function jy(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++u]):8===c&&o.push(h);else{if(!oa(c))break;c=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);c&&mt(n,o,c),h&&h.length>0&&Bf(n,o,h.join(" "))}}(L,In,re,u),void 0!==o&&function Cm(n,i,o){const u=n.projection=[];for(let c=0;c<i.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(ln,this.ngContentSelectors,o),Bt=function xp(n,i,o,u,c,h){const m=qr(),b=c[ie],R=Ci(m,c);Hl(b,c,m,o,null,u);for(let G=0;G<o.length;G++)Je(Is(c,b,m.directiveStart+G,m),c);Gh(b,c,m),R&&Je(R,c);const L=Is(c,b,m.directiveStart+m.componentOffset,m);if(n[wn]=c[wn]=L,null!==h)for(const G of h)G(L,i);return yp(b,m,n),L}(gs,In,Un,xt,_t,[dv]),mp(Ve,_t,null)}finally{ar()}return new Mp(this.componentType,Bt,wc(ln,_t),_t,ln)}}class Mp extends xd{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Tm(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const h=this._rootLView;Dc(h[ie],h,c,i,o),Gl(ui(this._tNode.index,h))}}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function dv(){const n=qr();ze(wt()[ie],n)}function Xh(n){let i=function Pp(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if(Wi(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ct(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const m=n;m.inputs=ef(n.inputs),m.declaredInputs=ef(n.declaredInputs),m.outputs=ef(n.outputs);const b=c.hostBindings;b&&pv(n,b);const R=c.viewQuery,L=c.contentQueries;if(R&&hv(n,R),L&&fv(n,L),Ot(n.inputs,c.inputs),Ot(n.declaredInputs,c.declaredInputs),Ot(n.outputs,c.outputs),Wi(c)&&c.data.animation){const G=n.data;G.animation=(G.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const b=h[m];b&&b.ngInherit&&b(n),b===Xh&&(o=!1)}}i=Object.getPrototypeOf(i)}!function Sm(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Os(c.hostAttrs,o=Os(o,c.hostAttrs))}}(u)}function ef(n){return n===$t?{}:n===un?[]:n}function hv(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function fv(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function pv(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}function Hd(n){return!!Up(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Up(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function jo(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function bc(n,i,o,u){const c=wt();return jo(c,ws(),i)&&(Wn(),Da($r(),c,n,i,o,u)),bc}function Cc(n,i,o,u){return jo(n,ws(),o)?i+at(o)+u:dr}function Fm(n,i,o,u,c,h,m,b){const R=wt(),L=Wn(),G=n+Dr,re=L.firstCreatePass?function km(n,i,o,u,c,h,m,b,R){const L=i.consts,G=el(i,n,4,m||null,Ni(L,b));jl(i,o,G,Ni(L,R)),ze(i,G);const re=G.tView=$d(2,G,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,L);return null!==i.queries&&(i.queries.template(i,G),re.queries=i.queries.embeddedTView(G)),G}(G,L,R,i,o,u,c,h,m):L.data[G];Hr(re,!1);const De=R[Tn].createComment("");vd(L,R,De,re),Je(De,R),Kh(R,R[G]=Wh(De,R,De,re)),Us(re)&&Hh(L,R,re),null!=m&&Bl(R,re,b)}function uf(n){return xs(function Yi(){return Cn.lFrame.contextLView}(),Dr+n)}function jp(n,i,o){const u=wt();return jo(u,ws(),i)&&Co(Wn(),$r(),u,n,i,u[Tn],o,!1),jp}function zd(n,i,o,u,c){const m=c?"class":"style";Dc(n,o,i.inputs[m],m,u)}function Ql(n,i,o,u){const c=wt(),h=Wn(),m=Dr+n,b=c[Tn],R=h.firstCreatePass?function Hp(n,i,o,u,c,h){const m=i.consts,R=el(i,n,2,u,Ni(m,c));return jl(i,o,R,Ni(m,h)),null!==R.attrs&&Wl(R,R.attrs,!1),null!==R.mergedAttrs&&Wl(R,R.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,R),R}(m,h,c,i,o,u):h.data[m],L=c[m]=Uc(b,i,function H(){return Cn.lFrame.currentNamespace}()),G=Us(R);return Hr(R,!0),Vf(b,L,R),32!=(32&R.flags)&&vd(h,c,L,R),0===function Ka(){return Cn.lFrame.elementDepthCount}()&&Je(L,c),function as(){Cn.lFrame.elementDepthCount++}(),G&&(Hh(h,c,R),yp(h,R,c)),null!==u&&Bl(c,R),Ql}function cf(){let n=qr();vo()?Ps():(n=n.parent,Hr(n,!1));const i=n;!function Go(){Cn.lFrame.elementDepthCount--}();const o=Wn();return o.firstCreatePass&&(ze(o,n),Ls(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Lt(n){return 0!=(8&n.flags)}(i)&&zd(o,i,wt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Qi(n){return 0!=(16&n.flags)}(i)&&zd(o,i,wt(),i.stylesWithoutHost,!1),cf}function Jl(n,i,o,u){return Ql(n,i,o,u),cf(),Jl}function Gd(n,i,o){const u=wt(),c=Wn(),h=n+Dr,m=c.firstCreatePass?function _v(n,i,o,u,c){const h=i.consts,m=Ni(h,u),b=el(i,n,8,"ng-container",m);return null!==m&&Wl(b,m,!0),jl(i,o,b,Ni(h,c)),null!==i.queries&&i.queries.elementStart(i,b),b}(h,c,u,i,o):c.data[h];Hr(m,!0);const b=u[h]=u[Tn].createComment("");return vd(c,u,b,m),Je(b,u),Us(m)&&(Hh(c,u,m),yp(c,m,u)),null!=o&&Bl(u,m),Gd}function Wd(){let n=qr();const i=Wn();return vo()?Ps():(n=n.parent,Hr(n,!1)),i.firstCreatePass&&(ze(i,n),Ls(n)&&i.queries.elementEnd(n)),Wd}function zp(){return wt()}function Xl(n){return!!n&&"function"==typeof n.then}function Lm(n){return!!n&&"function"==typeof n.subscribe}const Um=Lm;function Gp(n,i,o,u){const c=wt(),h=Wn(),m=qr();return function df(n,i,o,u,c,h,m){const b=Us(u),L=n.firstCreatePass&&Yh(n),G=i[wn],re=Sp(i);let De=!0;if(3&u.type||m){const Bt=Ci(u,i),ln=m?m(Bt):Bt,In=re.length,Un=m?_r=>m(ei(_r[u.index])):u.index;let xt=null;if(!m&&b&&(xt=function lf(n,i,o,u){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const b=i[Bn],R=c[h+2];return b.length>R?b[R]:null}"string"==typeof m&&(h+=2)}return null}(n,i,c,u.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=h,xt.__ngLastListenerFn__=h,De=!1;else{h=ff(u,i,G,h,!1);const _r=o.listen(ln,c,h);re.push(h,_r),L&&L.push(c,Un,In,In+1)}}else h=ff(u,i,G,h,!1);const Ve=u.outputs;let _t;if(De&&null!==Ve&&(_t=Ve[c])){const Bt=_t.length;if(Bt)for(let ln=0;ln<Bt;ln+=2){const gs=i[_t[ln]][_t[ln+1]].subscribe(h),qs=re.length;re.push(h,gs),L&&L.push(c,u.index,qs,-(qs+1))}}}(h,c,c[Tn],m,n,i,u),Gp}function hf(n,i,o,u){try{return Zi(6,i,o),!1!==o(u)}catch(c){return Jh(n,c),!1}finally{Zi(7,i,o)}}function ff(n,i,o,u,c){return function h(m){if(m===Function)return u;Gl(n.componentOffset>-1?ui(n.index,i):i);let R=hf(i,o,u,m),L=h.__ngNextListenerFn__;for(;L;)R=hf(i,o,L,m)&&R,L=L.__ngNextListenerFn__;return c&&!1===R&&(m.preventDefault(),m.returnValue=!1),R}}function Wp(n=1){return function Ir(n){return(Cn.lFrame.contextLView=function oi(n,i){for(;n>0;)i=i[Pr],n--;return i}(n,Cn.lFrame.contextLView))[wn]}(n)}function qd(n,i,o){return gf(n,"",i,"",o),qd}function gf(n,i,o,u,c){const h=wt(),m=Cc(h,i,o,u);return m!==dr&&Co(Wn(),$r(),h,n,m,h[Tn],c,!1),gf}function vf(n,i){return n<<17|i<<2}function nc(n){return n>>17&32767}function Qp(n){return 2|n}function ul(n){return(131068&n)>>2}function Jp(n,i){return-131069&n|i<<2}function _f(n){return 1|n}function Xp(n,i,o,u,c){const h=n[o+1],m=null===i;let b=u?nc(h):ul(h),R=!1;for(;0!==b&&(!1===R||m);){const G=n[b+1];Ef(n[b],i)&&(R=!0,n[b+1]=u?_f(G):Qp(G)),b=u?nc(G):ul(G)}R&&(n[o+1]=u?Qp(h):_f(h))}function Ef(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&N(n,i)>=0}const $n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eg(n){return n.substring($n.key,$n.keyEnd)}function Wm(n,i){const o=$n.textEnd;return o===i?-1:(i=$n.keyEnd=function M_(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,$n.key=i,o),ed(n,i,o))}function ed(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function tg(n,i,o){return Ga(n,i,o,!1),tg}function Qm(n,i){return Ga(n,i,null,!0),Qm}function Jm(n){!function Pu(n,i,o,u){const c=Wn(),h=B(2);c.firstUpdatePass&&ng(c,null,h,u);const m=wt();if(o!==dr&&jo(m,h,o)){const b=c.data[Nr()];if(If(b,u)&&!bv(c,h)){let R=u?b.classesWithoutHost:b.stylesWithoutHost;null!==R&&(o=fn(R,o||"")),zd(c,b,m,o,u)}else!function Cv(n,i,o,u,c,h,m,b){c===dr&&(c=un);let R=0,L=0,G=0<c.length?c[0]:null,re=0<h.length?h[0]:null;for(;null!==G||null!==re;){const De=R<c.length?c[R+1]:void 0,Ve=L<h.length?h[L+1]:void 0;let Bt,_t=null;G===re?(R+=2,L+=2,De!==Ve&&(_t=re,Bt=Ve)):null===re||null!==G&&G<re?(R+=2,_t=G):(L+=2,_t=re,Bt=Ve),null!==_t&&Rc(n,i,o,u,_t,Bt,m,b),G=R<c.length?c[R]:null,re=L<h.length?h[L]:null}}(c,b,m,m[Tn],m[h+1],m[h+1]=function k_(n,i,o){if(null==o||""===o)return un;const u=[],c=vr(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(u,h,c[h]);else"string"==typeof c&&i(u,c);return u}(n,i,o),u,h)}}(Yd,gi,n,!0)}function gi(n,i){for(let o=function Zd(n){return function hu(n){$n.key=0,$n.keyEnd=0,$n.value=0,$n.valueEnd=0,$n.textEnd=n.length}(n),Wm(n,ed(n,0,$n.textEnd))}(i);o>=0;o=Wm(i,o))g(n,eg(i),!0)}function Ga(n,i,o,u){const c=wt(),h=Wn(),m=B(2);h.firstUpdatePass&&ng(h,n,m,u),i!==dr&&jo(c,m,i)&&Rc(h,h.data[Nr()],c,c[Tn],n,c[m+1]=function sg(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Zt(vr(n)))),n}(i,o),u,m)}function bv(n,i){return i>=n.expandoStartIndex}function ng(n,i,o,u){const c=n.data;if(null===c[o+1]){const h=c[Nr()],m=bv(n,o);If(h,u)&&null===i&&!m&&(i=!1),i=function x_(n,i,o,u){const c=le(n);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=wf(o=Xm(null,n,i,o,u),i.attrs,u),h=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==c)if(o=Xm(c,n,i,o,u),null===h){let R=function P_(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ul(u))return n[nc(u)]}(n,i,u);void 0!==R&&Array.isArray(R)&&(R=Xm(null,n,i,R[1],u),R=wf(R,i.attrs,u),function N_(n,i,o,u){n[nc(o?i.classBindings:i.styleBindings)]=u}(n,i,u,R))}else h=function O_(n,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=wf(u,n[h].hostAttrs,o);return wf(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function Tv(n,i,o,u,c,h){let m=h?i.classBindings:i.styleBindings,b=nc(m),R=ul(m);n[u]=o;let G,L=!1;if(Array.isArray(o)?(G=o[1],(null===G||N(o,G)>0)&&(L=!0)):G=o,c)if(0!==R){const De=nc(n[b+1]);n[u+1]=vf(De,b),0!==De&&(n[De+1]=Jp(n[De+1],u)),n[b+1]=function jm(n,i){return 131071&n|i<<17}(n[b+1],u)}else n[u+1]=vf(b,0),0!==b&&(n[b+1]=Jp(n[b+1],u)),b=u;else n[u+1]=vf(R,0),0===b?b=u:n[R+1]=Jp(n[R+1],u),R=u;L&&(n[u+1]=Qp(n[u+1])),Xp(n,G,u,!0),Xp(n,G,u,!1),function zm(n,i,o,u,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&N(h,i)>=0&&(o[u+1]=_f(o[u+1]))}(i,G,n,u,h),m=vf(b,R),h?i.classBindings=m:i.styleBindings=m}(c,h,i,o,m,u)}}function Xm(n,i,o,u,c){let h=null;const m=o.directiveEnd;let b=o.directiveStylingLast;for(-1===b?b=o.directiveStart:b++;b<m&&(h=i[b],u=wf(u,h.hostAttrs,c),h!==n);)b++;return null!==n&&(o.directiveStylingLast=b),u}function wf(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),g(n,m,!!o||i[++h]))}return void 0===n?null:n}function Yd(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&g(n,u,o)}function Rc(n,i,o,u,c,h,m,b){if(!(3&i.type))return;const R=n.data,L=R[b+1],G=function wv(n){return 1==(1&n)}(L)?cl(R,i,o,c,ul(L),m):void 0;ig(G)||(ig(h)||function Ev(n){return 2==(2&n)}(L)&&(h=cl(R,null,o,c,b,m)),function Uf(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:bs.DashCase;null==c?n.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=bs.Important),n.setStyle(o,u,c,h))}}(u,m,os(Nr(),o),c,h))}function cl(n,i,o,u,c,h){const m=null===i;let b;for(;c>0;){const R=n[c],L=Array.isArray(R),G=L?R[1]:R,re=null===G;let De=o[c+1];De===dr&&(De=re?un:void 0);let Ve=re?S(De,u):G===u?De:void 0;if(L&&!ig(Ve)&&(Ve=S(R,u)),ig(Ve)&&(b=Ve,m))return b;const _t=n[c+1];c=m?nc(_t):ul(_t)}if(null!==i){let R=h?i.residualClasses:i.residualStyles;null!=R&&(b=S(R,u))}return b}function ig(n){return void 0!==n}function If(n,i){return 0!=(n.flags&(i?8:16))}function ey(n,i=""){const o=wt(),u=Wn(),c=n+Dr,h=u.firstCreatePass?el(u,c,1,i,null):u.data[c],m=o[c]=function Lc(n,i){return n.createText(i)}(o[Tn],i);vd(u,o,m,h),Hr(h,!1)}function og(n){return Qd("",n,""),og}function Qd(n,i,o){const u=wt(),c=Cc(u,n,i,o);return c!==dr&&function $o(n,i,o){const u=os(i,n);!function au(n,i,o){n.setValue(i,o)}(n[Tn],u,o)}(u,Nr(),c),Qd}function fg(n,i,o){const u=wt();if(jo(u,ws(),i)){const h=Wn(),m=$r();Co(h,m,u,n,i,function Qh(n,i,o){return(null===n||Wi(n))&&(o=function Vi(n){for(;Array.isArray(n);){if("object"==typeof n[zi])return n;n=n[ns]}return null}(o[i.index])),o[Tn]}(le(h.data),m,u),o,!0)}return fg}const Nu=void 0;var L_=["en",[["a","p"],["AM","PM"],Nu],[["AM","PM"],Nu,Nu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nu,"{1} 'at' {0}",Nu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function F_(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let rc={};function ly(n){const i=function dy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=kv(i);if(o)return o;const u=i.split("-")[0];if(o=kv(u),o)return o;if("en"===u)return L_;throw new ct(701,!1)}function Ov(n){return ly(n)[jn.PluralCase]}function kv(n){return n in rc||(rc[n]=Rn.ng&&Rn.ng.common&&Rn.ng.common.locales&&Rn.ng.common.locales[n]),rc[n]}var jn=(()=>((jn=jn||{})[jn.LocaleId=0]="LocaleId",jn[jn.DayPeriodsFormat=1]="DayPeriodsFormat",jn[jn.DayPeriodsStandalone=2]="DayPeriodsStandalone",jn[jn.DaysFormat=3]="DaysFormat",jn[jn.DaysStandalone=4]="DaysStandalone",jn[jn.MonthsFormat=5]="MonthsFormat",jn[jn.MonthsStandalone=6]="MonthsStandalone",jn[jn.Eras=7]="Eras",jn[jn.FirstDayOfWeek=8]="FirstDayOfWeek",jn[jn.WeekendRange=9]="WeekendRange",jn[jn.DateFormat=10]="DateFormat",jn[jn.TimeFormat=11]="TimeFormat",jn[jn.DateTimeFormat=12]="DateTimeFormat",jn[jn.NumberSymbols=13]="NumberSymbols",jn[jn.NumberFormats=14]="NumberFormats",jn[jn.CurrencyCode=15]="CurrencyCode",jn[jn.CurrencySymbol=16]="CurrencySymbol",jn[jn.CurrencyName=17]="CurrencyName",jn[jn.Currencies=18]="Currencies",jn[jn.Directionality=19]="Directionality",jn[jn.PluralCase=20]="PluralCase",jn[jn.ExtraData=21]="ExtraData",jn))();const fl="en-US";let py=fl;function qv(n,i,o,u,c){if(n=Dt(n),Array.isArray(n))for(let h=0;h<n.length;h++)qv(n[h],i,o,u,c);else{const h=Wn(),m=wt();let b=Ia(n)?n:Dt(n.provide),R=vc(n);const L=qr(),G=1048575&L.providerIndexes,re=L.directiveStart,De=L.providerIndexes>>20;if(Ia(n)||!n.multi){const Ve=new Ge(R,c,Mu),_t=Zv(b,i,c?G:G+De,re);-1===_t?(lr(Xt(L,m),h,b),Kv(h,n,i.length),i.push(b),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),o.push(Ve),m.push(Ve)):(o[_t]=Ve,m[_t]=Ve)}else{const Ve=Zv(b,i,G+De,re),_t=Zv(b,i,G,G+De),ln=_t>=0&&o[_t];if(c&&!ln||!c&&!(Ve>=0&&o[Ve])){lr(Xt(L,m),h,b);const In=function $E(n,i,o,u,c){const h=new Ge(n,o,Mu);return h.multi=[],h.index=i,h.componentProviders=0,r0(h,c,u&&!o),h}(c?VE:BE,o.length,c,u,R);!c&&ln&&(o[_t].providerFactory=In),Kv(h,n,i.length,0),i.push(b),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),o.push(In),m.push(In)}else Kv(h,n,Ve>-1?Ve:_t,r0(o[c?_t:Ve],R,!c&&u));!c&&u&&ln&&o[_t].componentProviders++}}}function Kv(n,i,o,u){const c=Ia(i),h=function Ad(n){return!!n.useClass}(i);if(c||h){const R=(h?Dt(i.useClass):i).prototype.ngOnDestroy;if(R){const L=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const G=L.indexOf(o);-1===G?L.push(o,[u,R]):L[G+1].push(u,R)}else L.push(o,R)}}}function r0(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Zv(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function BE(n,i,o,u){return Yv(this.multi,[])}function VE(n,i,o,u){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=Is(o,o[ie],this.providerFactory.index,u);h=b.slice(0,m),Yv(c,h);for(let R=m;R<b.length;R++)h.push(b[R])}else h=[],Yv(c,h);return h}function Yv(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function s0(n,i=[]){return o=>{o.providersResolver=(u,c)=>function UE(n,i,o){const u=Wn();if(u.firstCreatePass){const c=Wi(n);qv(o,u.data,u.blueprint,c,!0),qv(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class Pf{}class o0{}function jE(n,i){return new a0(n,i??null)}class a0 extends Pf{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nl(this);const u=Ii(i);this._bootstrapComponents=sa(u.bootstrap),this._r3Injector=im(i,o,[{provide:Pf,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],Zt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Qv extends o0{constructor(i){super(),this.moduleType=i}create(i){return new a0(this.moduleType,i)}}class HE extends Pf{constructor(i,o,u){super(),this.componentFactoryResolver=new nl(this),this.instance=null;const c=new Qf([...i,{provide:Pf,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],o||Md(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Jv(n,i,o=null){return new HE(n,i,o).injector}let zE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=kg(0,o.type),c=u.length>0?Jv([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Jn({token:n,providedIn:"environment",factory:()=>new n(ee(Kc))}),n})();function u0(n){n.getStandaloneInjector=i=>i.get(zE).getOrCreateStandaloneInjector(n)}function g0(n,i,o,u,c,h){const m=i+o;return jo(n,m,c)?function xu(n,i,o){return n[i]=o}(n,m+1,h?u.call(h,c):u(c)):function _g(n,i){const o=n[i];return o===dr?void 0:o}(n,m+1)}function E0(n,i){const o=Wn();let u;const c=n+Dr;o.firstCreatePass?(u=function cw(n,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(n===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks??(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=po(u.type)),m=Xn(Mu);try{const b=Ra(!1),R=h();return Ra(b),function vv(n,i,o,u){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),i[o]=u}(o,wt(),c,R),R}finally{Xn(m)}}function w0(n,i,o){const u=n+Dr,c=wt(),h=xs(c,u);return function Eg(n,i){return n[ie].data[i].pure}(c,u)?g0(c,function ci(){const n=Cn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,h.transform,o,h):h.transform(o)}function e_(n){return i=>{setTimeout(n,void 0,i)}}const Nc=class pw extends T.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,h=o||(()=>null),m=u;if(i&&"object"==typeof i){const R=i;c=R.next?.bind(R),h=R.error?.bind(R),m=R.complete?.bind(R)}this.__isAsync&&(h=e_(h),c&&(c=e_(c)),m&&(m=e_(m)));const b=super.subscribe({next:c,error:h,complete:m});return i instanceof z.w0&&i.add(b),b}};function gw(){return this._results[Symbol.iterator]()}class t_{get changes(){return this._changes||(this._changes=new Nc)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=t_.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=gw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=function no(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function vu(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let wg=(()=>{class n{}return n.__NG_ELEMENT_ID__=vw,n})();const mw=wg,yw=class extends mw{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,c=$h(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[Ai]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[Oi];return null!==m&&(c[Oi]=m.createEmbeddedView(u)),mp(u,c,i),new Ru(c)}};function vw(){return Iy(qr(),wt())}function Iy(n,i){return 4&n.type?new yw(i,n,wc(n,i)):null}let Ty=(()=>{class n{}return n.__NG_ELEMENT_ID__=_w,n})();function _w(){return D0(qr(),wt())}const Ew=Ty,I0=class extends Ew{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return wc(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Lu(this._hostTNode,this._hostLView);if(ku(i)){const o=ya(i,this._hostLView),u=ma(i);return new eo(o[ie].data[u+8],o)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=T0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(i,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(i,o,u,c,h){const m=i&&!function ka(n){return"function"==typeof n}(i);let b;if(m)b=o;else{const re=o||{};b=re.index,u=re.injector,c=re.projectableNodes,h=re.environmentInjector||re.ngModuleRef}const R=m?i:new rl(xn(i)),L=u||this.parentInjector;if(!h&&null==R.ngModule){const De=(m?L:this.parentInjector).get(Kc,null);De&&(h=De)}const G=R.create(L,c,void 0,h);return this.insert(G.hostView,b),G}insert(i,o){const u=i._lView,c=u[ie];if(function Vs(n){return Ri(n[xe])}(u)){const G=this.indexOf(i);if(-1!==G)this.detach(G);else{const re=u[xe],De=new I0(re,re[on],re[xe]);De.detach(De.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function Yu(n,i,o,u){const c=tr+u,h=o.length;u>0&&(o[c-1][it]=i),u<h-tr?(i[it]=o[c],$u(o,tr+u,i)):(o.push(i),i[it]=null),i[xe]=o;const m=i[Ai];null!==m&&o!==m&&function ch(n,i){const o=n[Gi];i[Vr]!==i[xe][xe][Vr]&&(n[Ui]=!0),null===o?n[Gi]=[i]:o.push(i)}(m,i);const b=i[Oi];null!==b&&b.insertView(n),i[oe]|=64}(c,u,m,h);const b=Qu(h,m),R=u[Tn],L=ir(R,m[ys]);return null!==L&&function Cu(n,i,o,u,c,h){u[ns]=c,u[on]=i,za(n,u,o,1,c,h)}(c,m[on],R,u,L,b),i.attachToViewContainerRef(),$u(n_(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=T0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=fd(this._lContainer,o);u&&(Fa(n_(this._lContainer),o),Ha(u[ie],u))}detach(i){const o=this._adjustIndex(i,-1),u=fd(this._lContainer,o);return u&&null!=Fa(n_(this._lContainer),o)?new Ru(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function T0(n){return n[Ks]}function n_(n){return n[Ks]||(n[Ks]=[])}function D0(n,i){let o;const u=i[n.index];if(Ri(u))o=u;else{let c;if(8&n.type)c=ei(u);else{const h=i[Tn];c=h.createComment("");const m=Ci(n,i);Do(h,ir(h,m),c,function Dg(n,i){return n.nextSibling(i)}(h,m),!1)}i[n.index]=o=Wh(u,i,c,n),Kh(i,o)}return new I0(o,n,i)}class r_{constructor(i){this.queryList=i,this.matches=null}clone(){return new r_(this.queryList)}setDirty(){this.queryList.setDirty()}}class i_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new i_(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==P0(i,o).matches&&this.queries[o].setDirty()}}class b0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class s_{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new s_(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class o_{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new o_(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,ww(o,h)),this.matchTNodeWithReadOption(i,o,xo(o,i,h,!1,!1))}else u===wg?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,xo(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Nl||c===Ty||c===wg&&4&o.type)this.addMatch(o.index,-2);else{const h=xo(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function ww(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Tw(n,i,o,u){return-1===o?function Iw(n,i){return 11&n.type?wc(n,i):4&n.type?Iy(n,i):null}(i,n):-2===o?function Dw(n,i,o){return o===Nl?wc(i,n):o===wg?Iy(i,n):o===Ty?D0(i,n):void 0}(n,i,u):Is(n,n[ie],o,i)}function C0(n,i,o,u){const c=i[Oi].queries[u];if(null===c.matches){const h=n.data,m=o.matches,b=[];for(let R=0;R<m.length;R+=2){const L=m[R];b.push(L<0?null:Tw(i,h[L],m[R+1],o.metadata.read))}c.matches=b}return c.matches}function a_(n,i,o,u){const c=n.queries.getByIndex(o),h=c.matches;if(null!==h){const m=C0(n,i,c,o);for(let b=0;b<h.length;b+=2){const R=h[b];if(R>0)u.push(m[b/2]);else{const L=h[b+1],G=i[-R];for(let re=tr;re<G.length;re++){const De=G[re];De[Ai]===De[xe]&&a_(De[ie],De,L,u)}if(null!==G[Gi]){const re=G[Gi];for(let De=0;De<re.length;De++){const Ve=re[De];a_(Ve[ie],Ve,L,u)}}}}}return u}function S0(n){const i=wt(),o=Wn(),u=_e();Be(u+1);const c=P0(o,u);if(n.dirty&&function go(n){return 4==(4&n[oe])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?a_(o,i,u,[]):C0(o,i,c,u);n.reset(h,tp),n.notifyOnChanges()}return!0}return!1}function A0(n,i,o,u){const c=Wn();if(c.firstCreatePass){const h=qr();(function x0(n,i,o){null===n.queries&&(n.queries=new s_),n.queries.track(new o_(i,o))})(c,new b0(i,o,u),h.index),function Sw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function R0(n,i,o){const u=new t_(4==(4&o));pm(n,i,u,u.destroy),null===i[Oi]&&(i[Oi]=new i_),i[Oi].queries.push(new r_(u))}(c,wt(),o)}function M0(){return function Cw(n,i){return n[Oi].queries[i].queryList}(wt(),_e())}function P0(n,i){return n.queries.getByIndex(i)}function N0(n,i){return Iy(n,i)}function u_(n){return!!Ii(n)}function by(...n){}const Q0=new Kr("Application Initializer");let Cy=(()=>{class n{constructor(o){this.appInits=o,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Xl(h))o.push(h);else if(Um(h)){const m=new Promise((b,R)=>{h.subscribe({complete:b,error:R})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ee(Q0,8))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const J0=new Kr("AppId",{providedIn:"root",factory:function X0(){return`${f_()}${f_()}${f_()}`}});function f_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eE=new Kr("Platform Initializer"),qw=new Kr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Kw=new Kr("AnimationModuleType");let Zw=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Sy=new Kr("LocaleId",{providedIn:"root",factory:()=>ge(Sy,yt.Optional|yt.SkipSelf)||function Yw(){return typeof $localize<"u"&&$localize.locale||fl}()}),Qw=new Kr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Jw{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Xw=(()=>{class n{compileModuleSync(o){return new Qv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=sa(Ii(o).declarations).reduce((m,b)=>{const R=xn(b);return R&&m.push(new rl(R)),m},[]);return new Jw(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nI=(()=>Promise.resolve(0))();function p_(n){typeof Zone>"u"?nI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ou{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nc(!1),this.onMicrotaskEmpty=new Nc(!1),this.onStable=new Nc(!1),this.onError=new Nc(!1),typeof Zone>"u")throw new ct(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function rI(){let n=Rn.requestAnimationFrame,i=Rn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function oI(n){const i=()=>{!function sI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,m_(n),n.isCheckStableRunning=!0,g_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),m_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,b)=>{try{return rE(n),o.invokeTask(c,h,m,b)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),iE(n)}},onInvoke:(o,u,c,h,m,b,R)=>{try{return rE(n),o.invoke(c,h,m,b,R)}finally{n.shouldCoalesceRunChangeDetection&&i(),iE(n)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,m_(n),g_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ou.isInAngularZone())throw new ct(909,!1)}static assertNotInAngularZone(){if(Ou.isInAngularZone())throw new ct(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,iI,by,by);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const iI={};function g_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function m_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iE(n){n._nesting--,g_(n)}class aI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nc,this.onMicrotaskEmpty=new Nc,this.onStable=new Nc,this.onError=new Nc}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const sE=new Kr(""),oE=new Kr("");let y_,uI=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,y_||(function cI(n){y_=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ou.assertNotInAngularZone(),p_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())p_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(ee(Ou),ee(aE),ee(oE))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac}),n})(),aE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return y_?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yl=!1;let sd=null;const uE=new Kr("AllowMultipleToken"),v_=new Kr("PlatformDestroyListeners"),cE=new Kr("appBootstrapListener");class hI{constructor(i,o){this.name=i,this.token=o}}function dE(n,i,o=[]){const u=`Platform: ${i}`,c=new Kr(u);return(h=[])=>{let m=__();if(!m||m.injector.get(uE,!1)){const b=[...o,...h,{provide:c,useValue:!0}];n?n(b):function fI(n){if(sd&&!sd.get(uE,!1))throw new ct(400,!1);sd=n;const i=n.get(fE);(function lE(n){const i=n.get(eE,null);i&&i.forEach(o=>o())})(n)}(function hE(n=[],i){return Ic.create({name:i,providers:[{provide:bh,useValue:"platform"},{provide:v_,useValue:new Set([()=>sd=null])},...n]})}(b,u))}return function gI(n){const i=__();if(!i)throw new ct(401,!1);return i}()}}function __(){return sd?.get(fE)??null}let fE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function gE(n,i){let o;return o="noop"===n?new aI:("zone.js"===n?void 0:n)||new Ou(i),o}(u?.ngZone,function pE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Ou,useValue:c}];return c.run(()=>{const m=Ic.create({providers:h,parent:this.injector,name:o.moduleType.name}),b=o.create(m),R=b.injector.get(Xu,null);if(!R)throw new ct(402,!1);return c.runOutsideAngular(()=>{const L=c.onError.subscribe({next:G=>{R.handleError(G)}});b.onDestroy(()=>{My(this._modules,b),L.unsubscribe()})}),function mE(n,i,o){try{const u=o();return Xl(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(R,c,()=>{const L=b.injector.get(Cy);return L.runInitializers(),L.donePromise.then(()=>(function Uv(n){_n(n,"Expected localeId to be defined"),"string"==typeof n&&(py=n.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Sy,fl)||fl),this._moduleDoBootstrap(b),b))})})}bootstrapModule(o,u=[]){const c=yE({},u);return function lI(n,i,o){const u=new Qv(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(Ay);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ct(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ct(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(v_,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ee(Ic))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function yE(n,i){return Array.isArray(i)?i.reduce(yE,n):{...n,...i}}let Ay=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new X.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),m=new X.y(b=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Ou.assertNotInAngularZone(),p_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{R.unsubscribe(),L.unsubscribe()}});this.isStable=function vt(...n){const i=(0,Ce.yG)(n),o=(0,Ce._6)(n,1/0),u=n;return u.length?1===u.length?(0,be.Xf)(u[0]):(0,Oe.J)(o)((0,Ae.D)(u,i)):he.E}(h,m.pipe(function Ze(n={}){const{connector:i=(()=>new T.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m,b,R,L=0,G=!1,re=!1;const De=()=>{b?.unsubscribe(),b=void 0},Ve=()=>{De(),m=R=void 0,G=re=!1},_t=()=>{const Bt=m;Ve(),Bt?.unsubscribe()};return(0,me.e)((Bt,ln)=>{L++,!re&&!G&&De();const In=R=R??i();ln.add(()=>{L--,0===L&&!re&&!G&&(b=rt(_t,c))}),In.subscribe(ln),!m&&L>0&&(m=new ne.Hp({next:Un=>In.next(Un),error:Un=>{re=!0,De(),b=rt(Ve,o,Un),In.error(Un)},complete:()=>{G=!0,De(),b=rt(Ve,u),In.complete()}}),(0,be.Xf)(Bt).subscribe(m))})(h)}}()))}bootstrap(o,u){const c=o instanceof _c;if(!this._injector.get(Cy).done){!c&&ji(o);throw new ct(405,yl)}let m;m=c?o:this._injector.get(Pd).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const b=function dI(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Pf),L=m.create(Ic.NULL,[],u||m.selector,b),G=L.location.nativeElement,re=L.injector.get(sE,null);return re?.registerApplication(G),L.onDestroy(()=>{this.detachView(L.hostView),My(this.components,L),re?.unregisterApplication(G)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new ct(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;My(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(cE,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>My(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ct(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ee(Ou),ee(Kc),ee(Xu))},n.\u0275prov=Jn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function My(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let yI=(()=>{class n{}return n.__NG_ELEMENT_ID__=vI,n})();function vI(n){return function _I(n,i,o){if(ki(n)&&!o){const u=ui(n.index,i);return new Ru(u,u)}return 47&n.type?new Ru(i[Vr],i):null}(qr(),wt(),16==(16&n))}class IE{constructor(){}supports(i){return Hd(i)}create(i){return new bI(i)}}const DI=(n,i)=>i;class bI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||DI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<DE(u,c,h)?o:u,b=DE(m,c,h),R=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const L=b-c,G=R-c;if(L!=G){for(let De=0;De<L;De++){const Ve=De<h.length?h[De]:h[De]=0,_t=Ve+De;G<=_t&&_t<L&&(h[De]=Ve+1)}h[m.previousIndex]=G-L}}b!==R&&i(m,b,R)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Hd(i))throw new ct(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let b=0;b<this.length;b++)h=i[b],m=this._trackByFn(b,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,b)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,b),u=!0),o=o._next}else c=0,function Lp(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,b=>{m=this._trackByFn(c,b),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,b,m,c)),Object.is(o.item,b)||this._addIdentityChange(o,b)):(o=this._mismatch(o,b,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new CI(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new TE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class CI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class TE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new SI,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DE(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class bE{constructor(){}supports(i){return i instanceof Map||Up(i)}create(){return new AI}}class AI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Up(i)))throw new ct(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new MI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class MI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CE(){return new D_([new IE])}let D_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||CE()),deps:[[n,new ii,new Yn]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new ct(901,!1)}}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:CE}),n})();function SE(){return new b_([new bE])}let b_=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||SE()),deps:[[n,new ii,new Yn]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new ct(901,!1)}}return n.\u0275prov=Jn({token:n,providedIn:"root",factory:SE}),n})();const PI=dE(null,"core",[]);let NI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ee(Ay))},n.\u0275mod=Xr({type:n}),n.\u0275inj=wr({}),n})();function OI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Dn,Et,Z)=>{Z.d(Et,{Dx:()=>Mn,H7:()=>ge,b2:()=>Wr,q6:()=>wr,se:()=>$e});var T=Z(6895),z=Z(8256);class X extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Oe extends X{static makeCurrent(){(0,T.HT)(new Oe)}onAndCancel(ae,Q,pe){return ae.addEventListener(Q,pe,!1),()=>{ae.removeEventListener(Q,pe,!1)}}dispatchEvent(ae,Q){ae.dispatchEvent(Q)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,Q){return(Q=Q||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,Q){return"window"===Q?window:"document"===Q?ae:"body"===Q?ae.body:null}getBaseHref(ae){const Q=function he(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==Q?null:function Ae(ye){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",ye);const ae=Ce.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(Q)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,T.Mx)(document.cookie,ae)}}let Ce,be=null;const vt=new z.OlP("TRANSITION_ID"),me=[{provide:z.ip1,useFactory:function ne(ye,ae,Q){return()=>{Q.get(z.CZH).donePromise.then(()=>{const pe=(0,T.q)(),et=ae.querySelectorAll(`style[ng-transition="${ye}"]`);for(let gt=0;gt<et.length;gt++)pe.remove(et[gt])})}},deps:[vt,T.K0,z.zs3],multi:!0}];let rt=(()=>{class ye{build(){return new XMLHttpRequest}}return ye.\u0275fac=function(Q){return new(Q||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Ye=new z.OlP("EventManagerPlugins");let Ot=(()=>{class ye{constructor(Q,pe){this._zone=pe,this._eventNameToPlugin=new Map,Q.forEach(et=>{et.manager=this}),this._plugins=Q.slice().reverse()}addEventListener(Q,pe,et){return this._findPluginFor(pe).addEventListener(Q,pe,et)}addGlobalEventListener(Q,pe,et){return this._findPluginFor(pe).addGlobalEventListener(Q,pe,et)}getZone(){return this._zone}_findPluginFor(Q){const pe=this._eventNameToPlugin.get(Q);if(pe)return pe;const et=this._plugins;for(let gt=0;gt<et.length;gt++){const $t=et[gt];if($t.supports(Q))return this._eventNameToPlugin.set(Q,$t),$t}throw new Error(`No event manager plugin found for event ${Q}`)}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(Ye),z.LFG(z.R0b))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class Zt{constructor(ae){this._doc=ae}addGlobalEventListener(ae,Q,pe){const et=(0,T.q)().getGlobalEventTarget(this._doc,ae);if(!et)throw new Error(`Unsupported event target ${et} for event ${Q}`);return this.addEventListener(et,Q,pe)}}let fn=(()=>{class ye{constructor(){this.usageCount=new Map}addStyles(Q){for(const pe of Q)1===this.changeUsageCount(pe,1)&&this.onStyleAdded(pe)}removeStyles(Q){for(const pe of Q)0===this.changeUsageCount(pe,-1)&&this.onStyleRemoved(pe)}onStyleRemoved(Q){}onStyleAdded(Q){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Q,pe){const et=this.usageCount;let gt=et.get(Q)??0;return gt+=pe,gt>0?et.set(Q,gt):et.delete(Q),gt}ngOnDestroy(){for(const Q of this.getAllStyles())this.onStyleRemoved(Q);this.usageCount.clear()}}return ye.\u0275fac=function(Q){return new(Q||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})(),Ft=(()=>{class ye extends fn{constructor(Q){super(),this.doc=Q,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Q){for(const pe of this.hostNodes)this.addStyleToHost(pe,Q)}onStyleRemoved(Q){const pe=this.styleRef;pe.get(Q)?.forEach(gt=>gt.remove()),pe.delete(Q)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Q){this.hostNodes.add(Q);for(const pe of this.getAllStyles())this.addStyleToHost(Q,pe)}removeHost(Q){this.hostNodes.delete(Q)}addStyleToHost(Q,pe){const et=this.doc.createElement("style");et.textContent=pe,Q.appendChild(et);const gt=this.styleRef.get(pe);gt?gt.push(et):this.styleRef.set(pe,[et])}resetHostNodes(){const Q=this.hostNodes;Q.clear(),Q.add(this.doc.head)}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(T.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const Sn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dt=/%COMP%/g,Tt=new z.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function qt(ye,ae){return ae.flat(100).map(Q=>Q.replace(Dt,ye))}function pn(ye){return ae=>{if("__ngUnwrap__"===ae)return ye;!1===ye(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let $e=(()=>{class ye{constructor(Q,pe,et,gt){this.eventManager=Q,this.sharedStylesHost=pe,this.appId=et,this.removeStylesOnCompDestory=gt,this.rendererByCompId=new Map,this.defaultRenderer=new On(Q)}createRenderer(Q,pe){if(!Q||!pe)return this.defaultRenderer;const et=this.getOrCreateRenderer(Q,pe);return et instanceof Xe?et.applyToHost(Q):et instanceof Ue&&et.applyStyles(),et}getOrCreateRenderer(Q,pe){const et=this.rendererByCompId;let gt=et.get(pe.id);if(!gt){const $t=this.eventManager,un=this.sharedStylesHost,kn=this.removeStylesOnCompDestory;switch(pe.encapsulation){case z.ifc.Emulated:gt=new Xe($t,un,pe,this.appId,kn);break;case z.ifc.ShadowDom:return new He($t,un,Q,pe);default:gt=new Ue($t,un,pe,kn)}gt.onDestroy=()=>et.delete(pe.id),et.set(pe.id,gt)}return gt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(Ot),z.LFG(Ft),z.LFG(z.AFp),z.LFG(Tt))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();class On{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,Q){return Q?document.createElementNS(Sn[Q]||Q,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,Q){(Qr(ae)?ae.content:ae).appendChild(Q)}insertBefore(ae,Q,pe){ae&&(Qr(ae)?ae.content:ae).insertBefore(Q,pe)}removeChild(ae,Q){ae&&ae.removeChild(Q)}selectRootElement(ae,Q){let pe="string"==typeof ae?document.querySelector(ae):ae;if(!pe)throw new Error(`The selector "${ae}" did not match any elements`);return Q||(pe.textContent=""),pe}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,Q,pe,et){if(et){Q=et+":"+Q;const gt=Sn[et];gt?ae.setAttributeNS(gt,Q,pe):ae.setAttribute(Q,pe)}else ae.setAttribute(Q,pe)}removeAttribute(ae,Q,pe){if(pe){const et=Sn[pe];et?ae.removeAttributeNS(et,Q):ae.removeAttribute(`${pe}:${Q}`)}else ae.removeAttribute(Q)}addClass(ae,Q){ae.classList.add(Q)}removeClass(ae,Q){ae.classList.remove(Q)}setStyle(ae,Q,pe,et){et&(z.JOm.DashCase|z.JOm.Important)?ae.style.setProperty(Q,pe,et&z.JOm.Important?"important":""):ae.style[Q]=pe}removeStyle(ae,Q,pe){pe&z.JOm.DashCase?ae.style.removeProperty(Q):ae.style[Q]=""}setProperty(ae,Q,pe){ae[Q]=pe}setValue(ae,Q){ae.nodeValue=Q}listen(ae,Q,pe){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,Q,pn(pe)):this.eventManager.addEventListener(ae,Q,pn(pe))}}function Qr(ye){return"TEMPLATE"===ye.tagName&&void 0!==ye.content}class He extends On{constructor(ae,Q,pe,et){super(ae),this.sharedStylesHost=Q,this.hostEl=pe,this.shadowRoot=pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const gt=qt(et.id,et.styles);for(const $t of gt){const un=document.createElement("style");un.textContent=$t,this.shadowRoot.appendChild(un)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}appendChild(ae,Q){return super.appendChild(this.nodeOrShadowRoot(ae),Q)}insertBefore(ae,Q,pe){return super.insertBefore(this.nodeOrShadowRoot(ae),Q,pe)}removeChild(ae,Q){return super.removeChild(this.nodeOrShadowRoot(ae),Q)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ue extends On{constructor(ae,Q,pe,et,gt=pe.id){super(ae),this.sharedStylesHost=Q,this.removeStylesOnCompDestory=et,this.rendererUsageCount=0,this.styles=qt(gt,pe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xe extends Ue{constructor(ae,Q,pe,et,gt){const $t=et+"-"+pe.id;super(ae,Q,pe,gt,$t),this.contentAttr=function at(ye){return"_ngcontent-%COMP%".replace(Dt,ye)}($t),this.hostAttr=function Wt(ye){return"_nghost-%COMP%".replace(Dt,ye)}($t)}applyToHost(ae){this.applyStyles(),this.setAttribute(ae,this.hostAttr,"")}createElement(ae,Q){const pe=super.createElement(ae,Q);return super.setAttribute(pe,this.contentAttr,""),pe}}let ve=(()=>{class ye extends Zt{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,pe,et){return Q.addEventListener(pe,et,!1),()=>this.removeEventListener(Q,pe,et)}removeEventListener(Q,pe,et){return Q.removeEventListener(pe,et)}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(T.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const qe=["alt","control","meta","shift"],ue={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Te={alt:ye=>ye.altKey,control:ye=>ye.ctrlKey,meta:ye=>ye.metaKey,shift:ye=>ye.shiftKey};let nt=(()=>{class ye extends Zt{constructor(Q){super(Q)}supports(Q){return null!=ye.parseEventName(Q)}addEventListener(Q,pe,et){const gt=ye.parseEventName(pe),$t=ye.eventCallback(gt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(Q,gt.domEventName,$t))}static parseEventName(Q){const pe=Q.toLowerCase().split("."),et=pe.shift();if(0===pe.length||"keydown"!==et&&"keyup"!==et)return null;const gt=ye._normalizeKey(pe.pop());let $t="",un=pe.indexOf("code");if(un>-1&&(pe.splice(un,1),$t="code."),qe.forEach(Fr=>{const Ke=pe.indexOf(Fr);Ke>-1&&(pe.splice(Ke,1),$t+=Fr+".")}),$t+=gt,0!=pe.length||0===gt.length)return null;const kn={};return kn.domEventName=et,kn.fullKey=$t,kn}static matchEventFullKeyCode(Q,pe){let et=ue[Q.key]||Q.key,gt="";return pe.indexOf("code.")>-1&&(et=Q.code,gt="code."),!(null==et||!et)&&(et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),qe.forEach($t=>{$t!==et&&(0,Te[$t])(Q)&&(gt+=$t+".")}),gt+=et,gt===pe)}static eventCallback(Q,pe,et){return gt=>{ye.matchEventFullKeyCode(gt,Q)&&et.runGuarded(()=>pe(gt))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(T.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:ye.\u0275fac}),ye})();const wr=(0,z.eFA)(z._c5,"browser",[{provide:z.Lbi,useValue:T.bD},{provide:z.g9A,useValue:function Hn(){Oe.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function Jn(){return(0,z.RDi)(document),document},deps:[]}]),Yt=new z.OlP(""),hr=[{provide:z.rWj,useClass:class Ze{addToWindow(ae){z.dqk.getAngularTestability=(pe,et=!0)=>{const gt=ae.findTestabilityInTree(pe,et);if(null==gt)throw new Error("Could not find testability for element.");return gt},z.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),z.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),z.dqk.frameworkStabilizers||(z.dqk.frameworkStabilizers=[]),z.dqk.frameworkStabilizers.push(pe=>{const et=z.dqk.getAllAngularTestabilities();let gt=et.length,$t=!1;const un=function(kn){$t=$t||kn,gt--,0==gt&&pe($t)};et.forEach(function(kn){kn.whenStable(un)})})}findTestabilityInTree(ae,Q,pe){return null==Q?null:ae.getTestability(Q)??(pe?(0,T.q)().isShadowRoot(Q)?this.findTestabilityInTree(ae,Q.host,!0):this.findTestabilityInTree(ae,Q.parentElement,!0):null)}},deps:[]},{provide:z.lri,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]},{provide:z.dDg,useClass:z.dDg,deps:[z.R0b,z.eoX,z.rWj]}],ni=[{provide:z.zSh,useValue:"root"},{provide:z.qLn,useFactory:function Er(){return new z.qLn},deps:[]},{provide:Ye,useClass:ve,multi:!0,deps:[T.K0,z.R0b,z.Lbi]},{provide:Ye,useClass:nt,multi:!0,deps:[T.K0]},{provide:$e,useClass:$e,deps:[Ot,Ft,z.AFp,Tt]},{provide:z.FYo,useExisting:$e},{provide:fn,useExisting:Ft},{provide:Ft,useClass:Ft,deps:[T.K0]},{provide:Ot,useClass:Ot,deps:[Ye,z.R0b]},{provide:T.JF,useClass:rt,deps:[]},[]];let Wr=(()=>{class ye{constructor(Q){}static withServerTransition(Q){return{ngModule:ye,providers:[{provide:z.AFp,useValue:Q.appId},{provide:vt,useExisting:z.AFp},me]}}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(Yt,12))},ye.\u0275mod=z.oAB({type:ye}),ye.\u0275inj=z.cJS({providers:[...ni,...hr],imports:[T.ez,z.hGG]}),ye})(),Mn=(()=>{class ye{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(T.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:function(Q){let pe=null;return pe=Q?new Q:function ri(){return new Mn((0,z.LFG)(T.K0))}(),pe},providedIn:"root"}),ye})();typeof window<"u"&&window;let ge=(()=>{class ye{}return ye.\u0275fac=function(Q){return new(Q||ye)},ye.\u0275prov=z.Yz7({token:ye,factory:function(Q){let pe=null;return pe=Q?new(Q||ye):z.LFG(Re),pe},providedIn:"root"}),ye})(),Re=(()=>{class ye extends ge{constructor(Q){super(),this._doc=Q}sanitize(Q,pe){if(null==pe)return null;switch(Q){case z.q3G.NONE:return pe;case z.q3G.HTML:return(0,z.qzn)(pe,"HTML")?(0,z.z3N)(pe):(0,z.EiD)(this._doc,String(pe)).toString();case z.q3G.STYLE:return(0,z.qzn)(pe,"Style")?(0,z.z3N)(pe):pe;case z.q3G.SCRIPT:if((0,z.qzn)(pe,"Script"))return(0,z.z3N)(pe);throw new Error("unsafe value used in a script context");case z.q3G.URL:return(0,z.qzn)(pe,"URL")?(0,z.z3N)(pe):(0,z.mCW)(String(pe));case z.q3G.RESOURCE_URL:if((0,z.qzn)(pe,"ResourceURL"))return(0,z.z3N)(pe);throw new Error(`unsafe value used in a resource URL context (see ${z.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Q} (see ${z.JZr})`)}}bypassSecurityTrustHtml(Q){return(0,z.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,z.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,z.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,z.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,z.pB0)(Q)}}return ye.\u0275fac=function(Q){return new(Q||ye)(z.LFG(T.K0))},ye.\u0275prov=z.Yz7({token:ye,factory:function(Q){let pe=null;return pe=Q?new Q:function ke(ye){return new Re(ye.get(T.K0))}(z.LFG(z.zs3)),pe},providedIn:"root"}),ye})()},5450:(Dn,Et,Z)=>{Z.d(Et,{F0:()=>$i,rH:()=>ea,Bz:()=>ka,lC:()=>Ho});var T=Z(8256),z=Z(8996),X=Z(9646),Oe=Z(7579);class be extends Oe.x{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const g=super._subscribe(_);return!g.closed&&_.next(this._value),g}getValue(){const{hasError:_,thrownError:g,_value:S}=this;if(_)throw g;return this._throwIfClosed(),S}next(_){super.next(this._value=_)}}const Ce=(0,Z(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var Ae=Z(9751),vt=Z(4742),ne=Z(4671),me=Z(3268),Ze=Z(7669),rt=Z(1810),Ye=Z(5403),Ot=Z(9672);function Zt(...y){const _=(0,Ze.yG)(y),g=(0,Ze.jO)(y),{args:S,keys:N}=(0,vt.D)(y);if(0===S.length)return(0,z.D)([],_);const j=new Ae.y(function fn(y,_,g=ne.y){return S=>{Ft(_,()=>{const{length:N}=y,j=new Array(N);let W=N,Se=N;for(let dt=0;dt<N;dt++)Ft(_,()=>{const tn=(0,z.D)(y[dt],_);let an=!1;tn.subscribe((0,Ye.x)(S,er=>{j[dt]=er,an||(an=!0,Se--),Se||S.next(g(j.slice()))},()=>{--W||S.complete()}))},S)},S)}}(S,_,N?W=>(0,rt.n)(N,W):ne.y));return g?j.pipe((0,me.Z)(g)):j}function Ft(y,_,g){y?(0,Ot.f)(g,y,_):_()}var Sn=Z(8189);function Qe(...y){return function Dt(){return(0,Sn.J)(1)}()((0,z.D)(y,(0,Ze.yG)(y)))}var Pe=Z(8421);function ot(y){return new Ae.y(_=>{(0,Pe.Xf)(y()).subscribe(_)})}var At=Z(9635),ct=Z(576);function Tt(y,_){const g=(0,ct.m)(y)?y:()=>y,S=N=>N.error(g());return new Ae.y(_?N=>_.schedule(S,0,N):S)}var at=Z(515),Wt=Z(727),qt=Z(4482);function pn(){return(0,qt.e)((y,_)=>{let g=null;y._refCount++;const S=(0,Ye.x)(_,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const N=y._connection,j=g;g=null,N&&(!j||N===j)&&N.unsubscribe(),_.unsubscribe()});y.subscribe(S),S.closed||(g=y.connect())})}class $e extends Ae.y{constructor(_,g){super(),this.source=_,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,qt.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new Wt.w0;const g=this.getSubject();_.add(this.source.subscribe((0,Ye.x)(g,void 0,()=>{this._teardown(),g.complete()},S=>{this._teardown(),g.error(S)},()=>this._teardown()))),_.closed&&(this._connection=null,_=Wt.w0.EMPTY)}return _}refCount(){return pn()(this)}}var On=Z(6895),Jt=Z(4004);function nr(y,_){return(0,qt.e)((g,S)=>{let N=null,j=0,W=!1;const Se=()=>W&&!N&&S.complete();g.subscribe((0,Ye.x)(S,dt=>{N?.unsubscribe();let tn=0;const an=j++;(0,Pe.Xf)(y(dt,an)).subscribe(N=(0,Ye.x)(S,er=>S.next(_?_(dt,er,an,tn++):er),()=>{N=null,Se()}))},()=>{W=!0,Se()}))})}function Qr(y){return y<=0?()=>at.E:(0,qt.e)((_,g)=>{let S=0;_.subscribe((0,Ye.x)(g,N=>{++S<=y&&(g.next(N),y<=S&&g.complete())}))})}var Ue=Z(9300),Xe=Z(5577);function ve(y){return(0,qt.e)((_,g)=>{let S=!1;_.subscribe((0,Ye.x)(g,N=>{S=!0,g.next(N)},()=>{S||g.next(y),g.complete()}))})}function qe(y=ue){return(0,qt.e)((_,g)=>{let S=!1;_.subscribe((0,Ye.x)(g,N=>{S=!0,g.next(N)},()=>S?g.complete():g.error(y())))})}function ue(){return new Ce}function Te(y,_){const g=arguments.length>=2;return S=>S.pipe(y?(0,Ue.h)((N,j)=>y(N,j,S)):ne.y,Qr(1),g?ve(_):qe(()=>new Ce))}var nt=Z(4351),It=Z(8505);function Pt(y){return(0,qt.e)((_,g)=>{let j,S=null,N=!1;S=_.subscribe((0,Ye.x)(g,void 0,void 0,W=>{j=(0,Pe.Xf)(y(W,Pt(y)(_))),S?(S.unsubscribe(),S=null,j.subscribe(g)):N=!0})),N&&(S.unsubscribe(),S=null,j.subscribe(g))})}function sn(y,_){return(0,qt.e)(function _n(y,_,g,S,N){return(j,W)=>{let Se=g,dt=_,tn=0;j.subscribe((0,Ye.x)(W,an=>{const er=tn++;dt=Se?y(dt,an,er):(Se=!0,an),S&&W.next(dt)},N&&(()=>{Se&&W.next(dt),W.complete()})))}}(y,_,arguments.length>=2,!0))}function Qn(y){return y<=0?()=>at.E:(0,qt.e)((_,g)=>{let S=[];_.subscribe((0,Ye.x)(g,N=>{S.push(N),y<S.length&&S.shift()},()=>{for(const N of S)g.next(N);g.complete()},void 0,()=>{S=null}))})}function Hn(y,_){const g=arguments.length>=2;return S=>S.pipe(y?(0,Ue.h)((N,j)=>y(N,j,S)):ne.y,Qn(1),g?ve(_):qe(()=>new Ce))}function Rr(y){return(0,qt.e)((_,g)=>{try{_.subscribe(g)}finally{g.add(y)}})}var wr=Z(1481);const Yt="primary",hr=Symbol("RouteTitle");class ni{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g[0]:g}return null}getAll(_){if(this.has(_)){const g=this.params[_];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function Wr(y){return new ni(y)}function hi(y,_,g){const S=g.path.split("/");if(S.length>y.length||"full"===g.pathMatch&&(_.hasChildren()||S.length<y.length))return null;const N={};for(let j=0;j<S.length;j++){const W=S[j],Se=y[j];if(W.startsWith(":"))N[W.substring(1)]=Se;else if(W!==Se.path)return null}return{consumed:y.slice(0,S.length),posParams:N}}function fr(y,_){const g=y?Object.keys(y):void 0,S=_?Object.keys(_):void 0;if(!g||!S||g.length!=S.length)return!1;let N;for(let j=0;j<g.length;j++)if(N=g[j],!ri(y[N],_[N]))return!1;return!0}function ri(y,_){if(Array.isArray(y)&&Array.isArray(_)){if(y.length!==_.length)return!1;const g=[...y].sort(),S=[..._].sort();return g.every((N,j)=>S[j]===N)}return y===_}function Mn(y){return Array.prototype.concat.apply([],y)}function yt(y){return y.length>0?y[y.length-1]:null}function Kn(y,_){for(const g in y)y.hasOwnProperty(g)&&_(y[g],g)}function Xn(y){return(0,T.CqO)(y)?y:(0,T.QGY)(y)?(0,z.D)(Promise.resolve(y)):(0,X.of)(y)}const Gn=!1,Jr={exact:function yi(y,_,g){if(!ht(y.segments,_.segments)||!fi(y.segments,_.segments,g)||y.numberOfChildren!==_.numberOfChildren)return!1;for(const S in _.children)if(!y.children[S]||!yi(y.children[S],_.children[S],g))return!1;return!0},subset:pr},Rn={exact:function sr(y,_){return fr(y,_)},subset:function Ln(y,_){return Object.keys(_).length<=Object.keys(y).length&&Object.keys(_).every(g=>ri(y[g],_[g]))},ignored:()=>!0};function mi(y,_,g){return Jr[g.paths](y.root,_.root,g.matrixParams)&&Rn[g.queryParams](y.queryParams,_.queryParams)&&!("exact"===g.fragment&&y.fragment!==_.fragment)}function pr(y,_,g){return Zn(y,_,_.segments,g)}function Zn(y,_,g,S){if(y.segments.length>g.length){const N=y.segments.slice(0,g.length);return!(!ht(N,g)||_.hasChildren()||!fi(N,g,S))}if(y.segments.length===g.length){if(!ht(y.segments,g)||!fi(y.segments,g,S))return!1;for(const N in _.children)if(!y.children[N]||!pr(y.children[N],_.children[N],S))return!1;return!0}{const N=g.slice(0,y.segments.length),j=g.slice(y.segments.length);return!!(ht(y.segments,N)&&fi(y.segments,N,S)&&y.children[Yt])&&Zn(y.children[Yt],_,j,S)}}function fi(y,_,g){return _.every((S,N)=>Rn[g](y[N].parameters,S.parameters))}class kr{constructor(_=new Fe([],{}),g={},S=null){this.root=_,this.queryParams=g,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return ge.serialize(this)}}class Fe{constructor(_,g){this.segments=_,this.children=g,this.parent=null,Kn(g,(S,N)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ke(this)}}class fe{constructor(_,g){this.path=_,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=Wr(this.parameters)),this._parameterMap}toString(){return gt(this)}}function ht(y,_){return y.length===_.length&&y.every((g,S)=>g.path===_[S].path)}let ee=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:function(){return new te},providedIn:"root"}),y})();class te{parse(_){const g=new bt(_);return new kr(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(_){const g=`/${Re(_.root,!0)}`,S=function un(y){const _=Object.keys(y).map(g=>{const S=y[g];return Array.isArray(S)?S.map(N=>`${ye(g)}=${ye(N)}`).join("&"):`${ye(g)}=${ye(S)}`}).filter(g=>!!g);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${g}${S}${"string"==typeof _.fragment?`#${function ae(y){return encodeURI(y)}(_.fragment)}`:""}`}}const ge=new te;function ke(y){return y.segments.map(_=>gt(_)).join("/")}function Re(y,_){if(!y.hasChildren())return ke(y);if(_){const g=y.children[Yt]?Re(y.children[Yt],!1):"",S=[];return Kn(y.children,(N,j)=>{j!==Yt&&S.push(`${j}:${Re(N,!1)}`)}),S.length>0?`${g}(${S.join("//")})`:g}{const g=function lt(y,_){let g=[];return Kn(y.children,(S,N)=>{N===Yt&&(g=g.concat(_(S,N)))}),Kn(y.children,(S,N)=>{N!==Yt&&(g=g.concat(_(S,N)))}),g}(y,(S,N)=>N===Yt?[Re(y.children[Yt],!1)]:[`${N}:${Re(S,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Yt]?`${ke(y)}/${g[0]}`:`${ke(y)}/(${g.join("//")})`}}function Nt(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ye(y){return Nt(y).replace(/%3B/gi,";")}function Q(y){return Nt(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pe(y){return decodeURIComponent(y)}function et(y){return pe(y.replace(/\+/g,"%20"))}function gt(y){return`${Q(y.path)}${function $t(y){return Object.keys(y).map(_=>`;${Q(_)}=${Q(y[_])}`).join("")}(y.parameters)}`}const kn=/^[^\/()?;=#]+/;function Fr(y){const _=y.match(kn);return _?_[0]:""}const Ke=/^[^=?&#]+/,Ie=/^[^&#]+/;class bt{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(_.length>0||Object.keys(g).length>0)&&(S[Yt]=new Fe(_,g)),S}parseSegment(){const _=Fr(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new T.vHH(4009,Gn);return this.capture(_),new fe(pe(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const g=Fr(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const N=Fr(this.remaining);N&&(S=N,this.capture(S))}_[pe(g)]=pe(S)}parseQueryParam(_){const g=function de(y){const _=y.match(Ke);return _?_[0]:""}(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const W=function ft(y){const _=y.match(Ie);return _?_[0]:""}(this.remaining);W&&(S=W,this.capture(S))}const N=et(g),j=et(S);if(_.hasOwnProperty(N)){let W=_[N];Array.isArray(W)||(W=[W],_[N]=W),W.push(j)}else _[N]=j}parseParens(_){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Fr(this.remaining),N=this.remaining[S.length];if("/"!==N&&")"!==N&&";"!==N)throw new T.vHH(4010,Gn);let j;S.indexOf(":")>-1?(j=S.slice(0,S.indexOf(":")),this.capture(j),this.capture(":")):_&&(j=Yt);const W=this.parseChildren();g[j]=1===Object.keys(W).length?W[Yt]:new Fe([],W),this.consumeOptional("//")}return g}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new T.vHH(4011,Gn)}}function gn(y){return y.segments.length>0?new Fe([],{[Yt]:y}):y}function mn(y){const _={};for(const S of Object.keys(y.children)){const j=mn(y.children[S]);(j.segments.length>0||j.hasChildren())&&(_[S]=j)}return function Sr(y){if(1===y.numberOfChildren&&y.children[Yt]){const _=y.children[Yt];return new Fe(y.segments.concat(_.segments),_.children)}return y}(new Fe(y.segments,_))}function or(y){return y instanceof kr}const Xr=!1;function ts(y,_,g,S,N){if(0===g.length)return si(_.root,_.root,_.root,S,N);const j=function ms(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Ii(!0,0,y);let _=0,g=!1;const S=y.reduce((N,j,W)=>{if("object"==typeof j&&null!=j){if(j.outlets){const Se={};return Kn(j.outlets,(dt,tn)=>{Se[tn]="string"==typeof dt?dt.split("/"):dt}),[...N,{outlets:Se}]}if(j.segmentPath)return[...N,j.segmentPath]}return"string"!=typeof j?[...N,j]:0===W?(j.split("/").forEach((Se,dt)=>{0==dt&&"."===Se||(0==dt&&""===Se?g=!0:".."===Se?_++:""!=Se&&N.push(Se))}),N):[...N,j]},[]);return new Ii(g,_,S)}(g);return j.toRoot()?si(_.root,_.root,new Fe([],{}),S,N):function W(dt){const tn=function ns(y,_,g,S){if(y.isAbsolute)return new pi(_.root,!0,0);if(-1===S)return new pi(g,g===_.root,0);return function ie(y,_,g){let S=y,N=_,j=g;for(;j>N;){if(j-=N,S=S.parent,!S)throw new T.vHH(4005,Xr&&"Invalid number of '../'");N=S.segments.length}return new pi(S,!1,N-j)}(g,S+(xn(y.commands[0])?0:1),y.numberOfDoubleDots)}(j,_,y.snapshot?._urlSegment,dt),an=tn.processChildren?it(tn.segmentGroup,tn.index,j.commands):xe(tn.segmentGroup,tn.index,j.commands);return si(_.root,tn.segmentGroup,an,S,N)}(y.snapshot?._lastPathIndex)}function xn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Lr(y){return"object"==typeof y&&null!=y&&y.outlets}function si(y,_,g,S,N){let W,j={};S&&Kn(S,(dt,tn)=>{j[tn]=Array.isArray(dt)?dt.map(an=>`${an}`):`${dt}`}),W=y===_?g:ji(y,_,g);const Se=gn(mn(W));return new kr(Se,j,N)}function ji(y,_,g){const S={};return Kn(y.children,(N,j)=>{S[j]=N===_?g:ji(N,_,g)}),new Fe(y.segments,S)}class Ii{constructor(_,g,S){if(this.isAbsolute=_,this.numberOfDoubleDots=g,this.commands=S,_&&S.length>0&&xn(S[0]))throw new T.vHH(4003,Xr&&"Root segment cannot have matrix parameters");const N=S.find(Lr);if(N&&N!==yt(S))throw new T.vHH(4004,Xr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(_,g,S){this.segmentGroup=_,this.processChildren=g,this.index=S}}function xe(y,_,g){if(y||(y=new Fe([],{})),0===y.segments.length&&y.hasChildren())return it(y,_,g);const S=function Ct(y,_,g){let S=0,N=_;const j={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(S>=g.length)return j;const W=y.segments[N],Se=g[S];if(Lr(Se))break;const dt=`${Se}`,tn=S<g.length-1?g[S+1]:null;if(N>0&&void 0===dt)break;if(dt&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!gr(dt,tn,W))return j;S+=2}else{if(!gr(dt,{},W))return j;S++}N++}return{match:!0,pathIndex:N,commandIndex:S}}(y,_,g),N=g.slice(S.commandIndex);if(S.match&&S.pathIndex<y.segments.length){const j=new Fe(y.segments.slice(0,S.pathIndex),{});return j.children[Yt]=new Fe(y.segments.slice(S.pathIndex),y.children),it(j,0,N)}return S.match&&0===N.length?new Fe(y.segments,{}):S.match&&!y.hasChildren()?on(y,_,g):S.match?it(y,0,N):on(y,_,g)}function it(y,_,g){if(0===g.length)return new Fe(y.segments,{});{const S=function oe(y){return Lr(y[0])?y[0].outlets:{[Yt]:y}}(g),N={};if(!S[Yt]&&y.children[Yt]&&1===y.numberOfChildren&&0===y.children[Yt].segments.length){const j=it(y.children[Yt],_,g);return new Fe(y.segments,j.children)}return Kn(S,(j,W)=>{"string"==typeof j&&(j=[j]),null!==j&&(N[W]=xe(y.children[W],_,j))}),Kn(y.children,(j,W)=>{void 0===S[W]&&(N[W]=j)}),new Fe(y.segments,N)}}function on(y,_,g){const S=y.segments.slice(0,_);let N=0;for(;N<g.length;){const j=g[N];if(Lr(j)){const dt=Bn(j.outlets);return new Fe(S,dt)}if(0===N&&xn(g[0])){S.push(new fe(y.segments[_].path,wn(g[0]))),N++;continue}const W=Lr(j)?j.outlets[Yt]:`${j}`,Se=N<g.length-1?g[N+1]:null;W&&Se&&xn(Se)?(S.push(new fe(W,wn(Se))),N+=2):(S.push(new fe(W,{})),N++)}return new Fe(S,{})}function Bn(y){const _={};return Kn(y,(g,S)=>{"string"==typeof g&&(g=[g]),null!==g&&(_[S]=on(new Fe([],{}),0,g))}),_}function wn(y){const _={};return Kn(y,(g,S)=>_[S]=`${g}`),_}function gr(y,_,g){return y==g.path&&fr(_,g.parameters)}const Ti="imperative";class Tn{constructor(_,g){this.id=_,this.url=g}}class Di extends Tn{constructor(_,g,S="imperative",N=null){super(_,g),this.type=0,this.navigationTrigger=S,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xr extends Tn{constructor(_,g,S){super(_,g),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class co extends Tn{constructor(_,g,S,N){super(_,g),this.reason=S,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pr extends Tn{constructor(_,g,S,N){super(_,g),this.reason=S,this.code=N,this.type=16}}class Vr extends Tn{constructor(_,g,S,N){super(_,g),this.error=S,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ai extends Tn{constructor(_,g,S,N){super(_,g),this.urlAfterRedirects=S,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Tn{constructor(_,g,S,N){super(_,g),this.urlAfterRedirects=S,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends Tn{constructor(_,g,S,N,j){super(_,g),this.urlAfterRedirects=S,this.state=N,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lo extends Tn{constructor(_,g,S,N){super(_,g),this.urlAfterRedirects=S,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class la extends Tn{constructor(_,g,S,N){super(_,g),this.urlAfterRedirects=S,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dr{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ca{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zi{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(_,g,S){this.routerEvent=_,this.position=g,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Mi=(()=>{class y{createUrlTree(g,S,N,j,W,Se){return ts(g||S.root,N,j,W,Se)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac}),y})(),Ls=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:function(_){return Mi.\u0275fac(_)},providedIn:"root"}),y})();class ki{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const g=this.pathFromRoot(_);return g.length>1?g[g.length-2]:null}children(_){const g=Us(_,this._root);return g?g.children.map(S=>S.value):[]}firstChild(_){const g=Us(_,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(_){const g=Wi(_,this._root);return g.length<2?[]:g[g.length-2].children.map(N=>N.value).filter(N=>N!==_)}pathFromRoot(_){return Wi(_,this._root).map(g=>g.value)}}function Us(y,_){if(y===_.value)return _;for(const g of _.children){const S=Us(y,g);if(S)return S}return null}function Wi(y,_){if(y===_.value)return[_];for(const g of _.children){const S=Wi(y,g);if(S.length)return S.unshift(_),S}return[]}class Bi{constructor(_,g){this.value=_,this.children=g}toString(){return`TreeNode(${this.value})`}}function ho(y){const _={};return y&&y.children.forEach(g=>_[g.value.outlet]=g),_}class vs extends ki{constructor(_,g){super(_),this.snapshot=g,Ys(this,_)}toString(){return this.snapshot.toString()}}function Ms(y,_){const g=function Sa(y,_){const W=new da([],{},{},"",{},Yt,_,null,y.root,-1,{});return new ha("",new Bi(W,[]))}(y,_),S=new be([new fe("",{})]),N=new be({}),j=new be({}),W=new be({}),Se=new be(""),dt=new Zs(S,N,W,Se,j,Yt,_,g.root);return dt.snapshot=g.root,new vs(new Bi(dt,[]),g)}class Zs{constructor(_,g,S,N,j,W,Se,dt){this.url=_,this.params=g,this.queryParams=S,this.fragment=N,this.data=j,this.outlet=W,this.component=Se,this.title=this.data?.pipe((0,Jt.U)(tn=>tn[hr]))??(0,X.of)(void 0),this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Jt.U)(_=>Wr(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Jt.U)(_=>Wr(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rs(y,_="emptyOnly"){const g=y.pathFromRoot;let S=0;if("always"!==_)for(S=g.length-1;S>=1;){const N=g[S],j=g[S-1];if(N.routeConfig&&""===N.routeConfig.path)S--;else{if(j.component)break;S--}}return function So(y){return y.reduce((_,g)=>({params:{..._.params,...g.params},data:{..._.data,...g.data},resolve:{...g.data,..._.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(S))}class da{get title(){return this.data?.[hr]}constructor(_,g,S,N,j,W,Se,dt,tn,an,er){this.url=_,this.params=g,this.queryParams=S,this.fragment=N,this.data=j,this.outlet=W,this.component=Se,this.routeConfig=dt,this._urlSegment=tn,this._lastPathIndex=an,this._resolve=er}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ha extends ki{constructor(_,g){super(g),this.url=_,Ys(this,g)}toString(){return fu(this._root)}}function Ys(y,_){_.value._routerState=y,_.children.forEach(g=>Ys(y,g))}function fu(y){const _=y.children.length>0?` { ${y.children.map(fu).join(", ")} } `:"";return`${y.value}${_}`}function Aa(y){if(y.snapshot){const _=y.snapshot,g=y._futureSnapshot;y.snapshot=g,fr(_.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),_.fragment!==g.fragment&&y.fragment.next(g.fragment),fr(_.params,g.params)||y.params.next(g.params),function rr(y,_){if(y.length!==_.length)return!1;for(let g=0;g<y.length;++g)if(!fr(y[g],_[g]))return!1;return!0}(_.url,g.url)||y.url.next(g.url),fr(_.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Ao(y,_){const g=fr(y.params,_.params)&&function we(y,_){return ht(y,_)&&y.every((g,S)=>fr(g.parameters,_[S].parameters))}(y.url,_.url);return g&&!(!y.parent!=!_.parent)&&(!y.parent||Ao(y.parent,_.parent))}function Qs(y,_,g){if(g&&y.shouldReuseRoute(_.value,g.value.snapshot)){const S=g.value;S._futureSnapshot=_.value;const N=function rs(y,_,g){return _.children.map(S=>{for(const N of g.children)if(y.shouldReuseRoute(S.value,N.value.snapshot))return Qs(y,S,N);return Qs(y,S)})}(y,_,g);return new Bi(S,N)}{if(y.shouldAttach(_.value)){const j=y.retrieve(_.value);if(null!==j){const W=j.route;return W.value._futureSnapshot=_.value,W.children=_.children.map(Se=>Qs(y,Se)),W}}const S=function fa(y){return new Zs(new be(y.url),new be(y.params),new be(y.queryParams),new be(y.fragment),new be(y.data),y.outlet,y.component,y)}(_.value),N=_.children.map(j=>Qs(y,j));return new Bi(S,N)}}const fo="ngNavigationCancelingError";function qa(y,_){const{redirectTo:g,navigationBehaviorOptions:S}=or(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,N=pu(!1,0,_);return N.url=g,N.navigationBehaviorOptions=S,N}function pu(y,_,g){const S=new Error("NavigationCancelingError: "+(y||""));return S[fo]=!0,S.cancellationCode=_,g&&(S.url=g),S}function po(y){return xi(y)&&or(y.url)}function xi(y){return y&&y[fo]}class bi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new qi,this.attachRef=null}}let qi=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,S){const N=this.getOrCreateContext(g);N.outlet=S,this.contexts.set(g,N)}onChildOutletDestroyed(g){const S=this.getContext(g);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let S=this.getContext(g);return S||(S=new bi,this.contexts.set(g,S)),S}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const is=!1;let Ho=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Yt,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.parentContexts=(0,T.f3M)(qi),this.location=(0,T.f3M)(T.s_b),this.changeDetector=(0,T.f3M)(T.sBO),this.environmentInjector=(0,T.f3M)(T.lqb)}ngOnChanges(g){if(g.name){const{firstChange:S,previousValue:N}=g.name;if(S)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T.vHH(4012,is);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T.vHH(4012,is);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T.vHH(4012,is);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,S){this.activated=g,this._activatedRoute=S,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,S){if(this.isActivated)throw new T.vHH(4013,is);this._activatedRoute=g;const N=this.location,W=g.snapshot.component,Se=this.parentContexts.getOrCreateContext(this.name).children,dt=new Bs(g,Se,N.injector);if(S&&function Ki(y){return!!y.resolveComponentFactory}(S)){const tn=S.resolveComponentFactory(W);this.activated=N.createComponent(tn,N.length,dt)}else this.activated=N.createComponent(W,{index:N.length,injector:dt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275dir=T.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[T.TTD]}),y})();class Bs{constructor(_,g,S){this.route=_,this.childContexts=g,this.parent=S}get(_,g){return _===Zs?this.route:_===qi?this.childContexts:this.parent.get(_,g)}}let Pi=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=T.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[T.jDz],decls:1,vars:0,template:function(g,S){1&g&&T._UZ(0,"router-outlet")},dependencies:[Ho],encapsulation:2}),y})();function Ar(y,_){return y.providers&&!y._injector&&(y._injector=(0,T.MMx)(y.providers,_,`Route: ${y.path}`)),y._injector??_}function Js(y){const _=y.children&&y.children.map(Js),g=_?{...y,children:_}:{...y};return!g.component&&!g.loadComponent&&(_||g.loadChildren)&&g.outlet&&g.outlet!==Yt&&(g.component=Pi),g}function Ur(y){return y.outlet||Yt}function xs(y,_){const g=y.filter(S=>Ur(S)===_);return g.push(...y.filter(S=>Ur(S)!==_)),g}function ui(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let _=y.parent;_;_=_.parent){const g=_.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class mo{constructor(_,g,S,N){this.routeReuseStrategy=_,this.futureState=g,this.currState=S,this.forwardEvent=N}activate(_){const g=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,S,_),Aa(this.futureState.root),this.activateChildRoutes(g,S,_)}deactivateChildRoutes(_,g,S){const N=ho(g);_.children.forEach(j=>{const W=j.value.outlet;this.deactivateRoutes(j,N[W],S),delete N[W]}),Kn(N,(j,W)=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(_,g,S){const N=_.value,j=g?g.value:null;if(N===j)if(N.component){const W=S.getContext(N.outlet);W&&this.deactivateChildRoutes(_,g,W.children)}else this.deactivateChildRoutes(_,g,S);else j&&this.deactivateRouteAndItsChildren(g,S)}deactivateRouteAndItsChildren(_,g){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,g):this.deactivateRouteAndOutlet(_,g)}detachAndStoreRouteSubtree(_,g){const S=g.getContext(_.value.outlet),N=S&&_.value.component?S.children:g,j=ho(_);for(const W of Object.keys(j))this.deactivateRouteAndItsChildren(j[W],N);if(S&&S.outlet){const W=S.outlet.detach(),Se=S.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:W,route:_,contexts:Se})}}deactivateRouteAndOutlet(_,g){const S=g.getContext(_.value.outlet),N=S&&_.value.component?S.children:g,j=ho(_);for(const W of Object.keys(j))this.deactivateRouteAndItsChildren(j[W],N);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(_,g,S){const N=ho(g);_.children.forEach(j=>{this.activateRoutes(j,N[j.value.outlet],S),this.forwardEvent(new Ks(j.value.snapshot))}),_.children.length&&this.forwardEvent(new Ui(_.value.snapshot))}activateRoutes(_,g,S){const N=_.value,j=g?g.value:null;if(Aa(N),N===j)if(N.component){const W=S.getOrCreateContext(N.outlet);this.activateChildRoutes(_,g,W.children)}else this.activateChildRoutes(_,g,S);else if(N.component){const W=S.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Se=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),W.children.onOutletReAttached(Se.contexts),W.attachRef=Se.componentRef,W.route=Se.route.value,W.outlet&&W.outlet.attach(Se.componentRef,Se.route.value),Aa(Se.route.value),this.activateChildRoutes(_,null,W.children)}else{const Se=ui(N.snapshot),dt=Se?.get(T._Vd)??null;W.attachRef=null,W.route=N,W.resolver=dt,W.injector=Se,W.outlet&&W.outlet.activateWith(N,W.injector),this.activateChildRoutes(_,null,W.children)}}else this.activateChildRoutes(_,null,S)}}class Vs{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Ni{constructor(_,g){this.component=_,this.route=g}}function Mo(y,_,g){const S=y._root;return ur(S,_?_._root:null,g,[S.value])}function Cn(y,_){const g=Symbol(),S=_.get(y,g);return S===g?"function"!=typeof y||(0,T.Z0I)(y)?_.get(y):y:S}function ur(y,_,g,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const j=ho(_);return y.children.forEach(W=>{(function $s(y,_,g,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const j=y.value,W=_?_.value:null,Se=g?g.getContext(y.value.outlet):null;if(W&&j.routeConfig===W.routeConfig){const dt=function Ka(y,_,g){if("function"==typeof g)return g(y,_);switch(g){case"pathParamsChange":return!ht(y.url,_.url);case"pathParamsOrQueryParamsChange":return!ht(y.url,_.url)||!fr(y.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ao(y,_)||!fr(y.queryParams,_.queryParams);default:return!Ao(y,_)}}(W,j,j.routeConfig.runGuardsAndResolvers);dt?N.canActivateChecks.push(new Vs(S)):(j.data=W.data,j._resolvedData=W._resolvedData),ur(y,_,j.component?Se?Se.children:null:g,S,N),dt&&Se&&Se.outlet&&Se.outlet.isActivated&&N.canDeactivateChecks.push(new Ni(Se.outlet.component,W))}else W&&as(_,Se,N),N.canActivateChecks.push(new Vs(S)),ur(y,null,j.component?Se?Se.children:null:g,S,N)})(W,j[W.value.outlet],g,S.concat([W.value]),N),delete j[W.value.outlet]}),Kn(j,(W,Se)=>as(W,g.getContext(Se),N)),N}function as(y,_,g){const S=ho(y),N=y.value;Kn(S,(j,W)=>{as(j,N.component?_?_.children.getContext(W):null:_,g)}),g.canDeactivateChecks.push(new Ni(N.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,N))}function Go(y){return"function"==typeof y}function js(y){return y instanceof Ce||"EmptyError"===y?.name}const Es=Symbol("INITIAL_VALUE");function Hr(){return nr(y=>Zt(y.map(_=>_.pipe(Qr(1),function He(...y){const _=(0,Ze.yG)(y);return(0,qt.e)((g,S)=>{(_?Qe(y,g,_):Qe(y,g)).subscribe(S)})}(Es)))).pipe((0,Jt.U)(_=>{for(const g of _)if(!0!==g){if(g===Es)return Es;if(!1===g||g instanceof kr)return g}return!0}),(0,Ue.h)(_=>_!==Es),Qr(1)))}function B(y){return(0,At.z)((0,It.b)(_=>{if(or(_))throw qa(0,_)}),(0,Jt.U)(_=>!0===_))}const E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P(y,_,g,S,N){const j=$(y,_,g);return j.matched?function v(y,_,g,S){const N=_.canMatch;if(!N||0===N.length)return(0,X.of)(!0);const j=N.map(W=>{const Se=Cn(W,y);return Xn(function Za(y){return y&&Go(y.canMatch)}(Se)?Se.canMatch(_,g):y.runInContext(()=>Se(_,g)))});return(0,X.of)(j).pipe(Hr(),B())}(S=Ar(_,S),_,g).pipe((0,Jt.U)(W=>!0===W?j:{...E})):(0,X.of)(j)}function $(y,_,g){if(""===_.path)return"full"===_.pathMatch&&(y.hasChildren()||g.length>0)?{...E}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const N=(_.matcher||hi)(g,y,_);if(!N)return{...E};const j={};Kn(N.posParams,(Se,dt)=>{j[dt]=Se.path});const W=N.consumed.length>0?{...j,...N.consumed[N.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:N.consumed,remainingSegments:g.slice(N.consumed.length),parameters:W,positionalParamSegments:N.posParams??{}}}function Y(y,_,g,S){if(g.length>0&&function Be(y,_,g){return g.some(S=>Mt(y,_,S)&&Ur(S)!==Yt)}(y,g,S)){const j=new Fe(_,function _e(y,_,g,S){const N={};N[Yt]=S,S._sourceSegment=y,S._segmentIndexShift=_.length;for(const j of g)if(""===j.path&&Ur(j)!==Yt){const W=new Fe([],{});W._sourceSegment=y,W._segmentIndexShift=_.length,N[Ur(j)]=W}return N}(y,_,S,new Fe(g,y.children)));return j._sourceSegment=y,j._segmentIndexShift=_.length,{segmentGroup:j,slicedSegments:[]}}if(0===g.length&&function st(y,_,g){return g.some(S=>Mt(y,_,S))}(y,g,S)){const j=new Fe(y.segments,function le(y,_,g,S,N){const j={};for(const W of S)if(Mt(y,g,W)&&!N[Ur(W)]){const Se=new Fe([],{});Se._sourceSegment=y,Se._segmentIndexShift=_.length,j[Ur(W)]=Se}return{...N,...j}}(y,_,g,S,y.children));return j._sourceSegment=y,j._segmentIndexShift=_.length,{segmentGroup:j,slicedSegments:g}}const N=new Fe(y.segments,y.children);return N._sourceSegment=y,N._segmentIndexShift=_.length,{segmentGroup:N,slicedSegments:g}}function Mt(y,_,g){return(!(y.hasChildren()||_.length>0)||"full"!==g.pathMatch)&&""===g.path}function kt(y,_,g,S){return!!(Ur(y)===S||S!==Yt&&Mt(_,g,y))&&("**"===y.path||$(_,y,g).matched)}function Pn(y,_,g){return 0===_.length&&!y.children[g]}const Fn=!1;class yn{constructor(_){this.segmentGroup=_||null}}class An{constructor(_){this.urlTree=_}}function ar(y){return Tt(new yn(y))}function Ir(y){return Tt(new An(y))}class $r{constructor(_,g,S,N,j){this.injector=_,this.configLoader=g,this.urlSerializer=S,this.urlTree=N,this.config=j,this.allowRedirects=!0}apply(){const _=Y(this.urlTree.root,[],[],this.config).segmentGroup,g=new Fe(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,g,Yt).pipe((0,Jt.U)(j=>this.createUrlTree(mn(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pt(j=>{if(j instanceof An)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof yn?this.noMatchError(j):j}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Yt).pipe((0,Jt.U)(N=>this.createUrlTree(mn(N),_.queryParams,_.fragment))).pipe(Pt(N=>{throw N instanceof yn?this.noMatchError(N):N}))}noMatchError(_){return new T.vHH(4002,Fn)}createUrlTree(_,g,S){const N=gn(_);return new kr(N,g,S)}expandSegmentGroup(_,g,S,N){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(_,g,S).pipe((0,Jt.U)(j=>new Fe([],j))):this.expandSegment(_,S,g,S.segments,N,!0)}expandChildren(_,g,S){const N=[];for(const j of Object.keys(S.children))"primary"===j?N.unshift(j):N.push(j);return(0,z.D)(N).pipe((0,nt.b)(j=>{const W=S.children[j],Se=xs(g,j);return this.expandSegmentGroup(_,Se,W,j).pipe((0,Jt.U)(dt=>({segment:dt,outlet:j})))}),sn((j,W)=>(j[W.outlet]=W.segment,j),{}),Hn())}expandSegment(_,g,S,N,j,W){return(0,z.D)(S).pipe((0,nt.b)(Se=>this.expandSegmentAgainstRoute(_,g,S,Se,N,j,W).pipe(Pt(tn=>{if(tn instanceof yn)return(0,X.of)(null);throw tn}))),Te(Se=>!!Se),Pt((Se,dt)=>{if(js(Se))return Pn(g,N,j)?(0,X.of)(new Fe([],{})):ar(g);throw Se}))}expandSegmentAgainstRoute(_,g,S,N,j,W,Se){return kt(N,g,j,W)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(_,g,N,j,W):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,g,S,N,j,W):ar(g):ar(g)}expandSegmentAgainstRouteUsingRedirect(_,g,S,N,j,W){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,S,N,W):this.expandRegularSegmentAgainstRouteUsingRedirect(_,g,S,N,j,W)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,g,S,N){const j=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Ir(j):this.lineralizeSegments(S,j).pipe((0,Xe.z)(W=>{const Se=new Fe(W,{});return this.expandSegment(_,Se,g,W,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,g,S,N,j,W){const{matched:Se,consumedSegments:dt,remainingSegments:tn,positionalParamSegments:an}=$(g,N,j);if(!Se)return ar(g);const er=this.applyRedirectCommands(dt,N.redirectTo,an);return N.redirectTo.startsWith("/")?Ir(er):this.lineralizeSegments(N,er).pipe((0,Xe.z)(br=>this.expandSegment(_,g,S,br.concat(tn),W,!1)))}matchSegmentAgainstRoute(_,g,S,N,j){return"**"===S.path?(_=Ar(S,_),S.loadChildren?(S._loadedRoutes?(0,X.of)({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(_,S)).pipe((0,Jt.U)(Se=>(S._loadedRoutes=Se.routes,S._loadedInjector=Se.injector,new Fe(N,{})))):(0,X.of)(new Fe(N,{}))):P(g,S,N,_).pipe(nr(({matched:W,consumedSegments:Se,remainingSegments:dt})=>W?this.getChildConfig(_=S._injector??_,S,N).pipe((0,Xe.z)(an=>{const er=an.injector??_,br=an.routes,{segmentGroup:Ds,slicedSegments:Ji}=Y(g,Se,dt,br),wo=new Fe(Ds.segments,Ds.children);if(0===Ji.length&&wo.hasChildren())return this.expandChildren(er,br,wo).pipe((0,Jt.U)(li=>new Fe(Se,li)));if(0===br.length&&0===Ji.length)return(0,X.of)(new Fe(Se,{}));const Yn=Ur(S)===j;return this.expandSegment(er,wo,br,Ji,Yn?Yt:j,!0).pipe((0,Jt.U)(ii=>new Fe(Se.concat(ii.segments),ii.children)))})):ar(g)))}getChildConfig(_,g,S){return g.children?(0,X.of)({routes:g.children,injector:_}):g.loadChildren?void 0!==g._loadedRoutes?(0,X.of)({routes:g._loadedRoutes,injector:g._loadedInjector}):function ws(y,_,g,S){const N=_.canLoad;if(void 0===N||0===N.length)return(0,X.of)(!0);const j=N.map(W=>{const Se=Cn(W,y);return Xn(function Wo(y){return y&&Go(y.canLoad)}(Se)?Se.canLoad(_,g):y.runInContext(()=>Se(_,g)))});return(0,X.of)(j).pipe(Hr(),B())}(_,g,S).pipe((0,Xe.z)(N=>N?this.configLoader.loadChildren(_,g).pipe((0,It.b)(j=>{g._loadedRoutes=j.routes,g._loadedInjector=j.injector})):function Nr(y){return Tt(pu(Fn,3))}())):(0,X.of)({routes:[],injector:_})}lineralizeSegments(_,g){let S=[],N=g.root;for(;;){if(S=S.concat(N.segments),0===N.numberOfChildren)return(0,X.of)(S);if(N.numberOfChildren>1||!N.children[Yt])return _.redirectTo,Tt(new T.vHH(4e3,Fn));N=N.children[Yt]}}applyRedirectCommands(_,g,S){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),_,S)}applyRedirectCreateUrlTree(_,g,S,N){const j=this.createSegmentGroup(_,g.root,S,N);return new kr(j,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(_,g){const S={};return Kn(_,(N,j)=>{if("string"==typeof N&&N.startsWith(":")){const Se=N.substring(1);S[j]=g[Se]}else S[j]=N}),S}createSegmentGroup(_,g,S,N){const j=this.createSegments(_,g.segments,S,N);let W={};return Kn(g.children,(Se,dt)=>{W[dt]=this.createSegmentGroup(_,Se,S,N)}),new Fe(j,W)}createSegments(_,g,S,N){return g.map(j=>j.path.startsWith(":")?this.findPosParam(_,j,N):this.findOrReturn(j,S))}findPosParam(_,g,S){const N=S[g.path.substring(1)];if(!N)throw new T.vHH(4001,Fn);return N}findOrReturn(_,g){let S=0;for(const N of g){if(N.path===_.path)return g.splice(S),N;S++}return _}}class F{}class se{constructor(_,g,S,N,j,W,Se){this.injector=_,this.rootComponentType=g,this.config=S,this.urlTree=N,this.url=j,this.paramsInheritanceStrategy=W,this.urlSerializer=Se}recognize(){const _=Y(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Yt).pipe((0,Jt.U)(g=>{if(null===g)return null;const S=new da([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new Bi(S,g),j=new ha(this.url,N);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(_){const g=_.value,S=Rs(g,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data),_.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(_,g,S,N){return 0===S.segments.length&&S.hasChildren()?this.processChildren(_,g,S):this.processSegment(_,g,S,S.segments,N)}processChildren(_,g,S){return(0,z.D)(Object.keys(S.children)).pipe((0,nt.b)(N=>{const j=S.children[N],W=xs(g,N);return this.processSegmentGroup(_,W,j,N)}),sn((N,j)=>N&&j?(N.push(...j),N):null),function Er(y,_=!1){return(0,qt.e)((g,S)=>{let N=0;g.subscribe((0,Ye.x)(S,j=>{const W=y(j,N++);(W||_)&&S.next(j),!W&&S.complete()}))})}(N=>null!==N),ve(null),Hn(),(0,Jt.U)(N=>{if(null===N)return null;const j=cr(N);return function ze(y){y.sort((_,g)=>_.value.outlet===Yt?-1:g.value.outlet===Yt?1:_.value.outlet.localeCompare(g.value.outlet))}(j),j}))}processSegment(_,g,S,N,j){return(0,z.D)(g).pipe((0,nt.b)(W=>this.processSegmentAgainstRoute(W._injector??_,W,S,N,j)),Te(W=>!!W),Pt(W=>{if(js(W))return Pn(S,N,j)?(0,X.of)([]):(0,X.of)(null);throw W}))}processSegmentAgainstRoute(_,g,S,N,j){if(g.redirectTo||!kt(g,S,N,j))return(0,X.of)(null);let W;if("**"===g.path){const Se=N.length>0?yt(N).parameters:{},dt=Rt(S)+N.length,tn=new da(N,Se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cn(g),Ur(g),g.component??g._loadedComponent??null,g,zt(S),dt,Vn(g));W=(0,X.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else W=P(S,g,N,_).pipe((0,Jt.U)(({matched:Se,consumedSegments:dt,remainingSegments:tn,parameters:an})=>{if(!Se)return null;const er=Rt(S)+dt.length;return{snapshot:new da(dt,an,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cn(g),Ur(g),g.component??g._loadedComponent??null,g,zt(S),er,Vn(g)),consumedSegments:dt,remainingSegments:tn}}));return W.pipe(nr(Se=>{if(null===Se)return(0,X.of)(null);const{snapshot:dt,consumedSegments:tn,remainingSegments:an}=Se;_=g._injector??_;const er=g._loadedInjector??_,br=function ut(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:Ds,slicedSegments:Ji}=Y(S,tn,an,br.filter(Yn=>void 0===Yn.redirectTo));if(0===Ji.length&&Ds.hasChildren())return this.processChildren(er,br,Ds).pipe((0,Jt.U)(Yn=>null===Yn?null:[new Bi(dt,Yn)]));if(0===br.length&&0===Ji.length)return(0,X.of)([new Bi(dt,[])]);const wo=Ur(g)===j;return this.processSegment(er,br,Ds,Ji,wo?Yt:j).pipe((0,Jt.U)(Yn=>null===Yn?null:[new Bi(dt,Yn)]))}))}}function Ht(y){const _=y.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function cr(y){const _=[],g=new Set;for(const S of y){if(!Ht(S)){_.push(S);continue}const N=_.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==N?(N.children.push(...S.children),g.add(N)):_.push(S)}for(const S of g){const N=cr(S.children);_.push(new Bi(S.value,N))}return _.filter(S=>!g.has(S))}function zt(y){let _=y;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Rt(y){let _=y,g=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,g+=_._segmentIndexShift??0;return g-1}function cn(y){return y.data||{}}function Vn(y){return y.resolve||{}}function mt(y){return"string"==typeof y.title||null===y.title}function yr(y){return nr(_=>{const g=y(_);return g?(0,z.D)(g).pipe((0,Jt.U)(()=>_)):(0,X.of)(_)})}const Os=new T.OlP("ROUTES");let Ko=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,T.f3M)(T.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return(0,X.of)(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const S=Xn(g.loadComponent()).pipe((0,Jt.U)(ma),(0,It.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=j}),Rr(()=>{this.componentLoaders.delete(g)})),N=new $e(S,()=>new Oe.x).pipe(pn());return this.componentLoaders.set(g,N),N}loadChildren(g,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,X.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const j=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Jt.U)(Se=>{this.onLoadEndListener&&this.onLoadEndListener(S);let dt,tn,an=!1;Array.isArray(Se)?tn=Se:(dt=Se.create(g).injector,tn=Mn(dt.get(Os,[],T.XFs.Self|T.XFs.Optional)));return{routes:tn.map(Js),injector:dt}}),Rr(()=>{this.childrenLoaders.delete(S)})),W=new $e(j,()=>new Oe.x).pipe(pn());return this.childrenLoaders.set(S,W),W}loadModuleFactoryOrRoutes(g){return Xn(g()).pipe((0,Jt.U)(ma),(0,Xe.z)(S=>S instanceof T.YKP||Array.isArray(S)?(0,X.of)(S):(0,z.D)(this.compiler.compileModuleAsync(S))))}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ma(y){return function ku(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let ya=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oe.x,this.configLoader=(0,T.f3M)(Ko),this.environmentInjector=(0,T.f3M)(T.lqb),this.urlSerializer=(0,T.f3M)(ee),this.rootContexts=(0,T.f3M)(qi),this.navigationId=0,this.afterPreactivation=()=>(0,X.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new Ca(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new Dr(N))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:S})}setupNavigations(g){return this.transitions=new be({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ti,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ue.h)(S=>0!==S.id),(0,Jt.U)(S=>({...S,extractedUrl:g.urlHandlingStrategy.extract(S.rawUrl)})),nr(S=>{let N=!1,j=!1;return(0,X.of)(S).pipe((0,It.b)(W=>{this.currentNavigation={id:W.id,initialUrl:W.rawUrl,extractedUrl:W.extractedUrl,trigger:W.source,extras:W.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),nr(W=>{const Se=g.browserUrlTree.toString(),dt=!g.navigated||W.extractedUrl.toString()!==Se||Se!==g.currentUrlTree.toString();if(!dt&&"reload"!==(W.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const an="";return this.events.next(new Pr(W.id,g.serializeUrl(S.rawUrl),an,0)),g.rawUrlTree=W.rawUrl,W.resolve(null),at.E}if(g.urlHandlingStrategy.shouldProcessUrl(W.rawUrl))return sc(W.source)&&(g.browserUrlTree=W.extractedUrl),(0,X.of)(W).pipe(nr(an=>{const er=this.transitions?.getValue();return this.events.next(new Di(an.id,this.urlSerializer.serialize(an.extractedUrl),an.source,an.restoredState)),er!==this.transitions?.getValue()?at.E:Promise.resolve(an)}),function Ns(y,_,g,S){return nr(N=>function Br(y,_,g,S,N){return new $r(y,_,g,S,N).apply()}(y,_,g,N.extractedUrl,S).pipe((0,Jt.U)(j=>({...N,urlAfterRedirects:j}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,It.b)(an=>{this.currentNavigation={...this.currentNavigation,finalUrl:an.urlAfterRedirects},S.urlAfterRedirects=an.urlAfterRedirects}),function Or(y,_,g,S,N){return(0,Xe.z)(j=>function H(y,_,g,S,N,j,W="emptyOnly"){return new se(y,_,g,S,N,W,j).recognize().pipe(nr(Se=>null===Se?function x(y){return new Ae.y(_=>_.error(y))}(new F):(0,X.of)(Se)))}(y,_,g,j.urlAfterRedirects,S.serialize(j.urlAfterRedirects),S,N).pipe((0,Jt.U)(W=>({...j,targetSnapshot:W}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,It.b)(an=>{if(S.targetSnapshot=an.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!an.extras.skipLocationChange){const br=g.urlHandlingStrategy.merge(an.urlAfterRedirects,an.rawUrl);g.setBrowserUrl(br,an)}g.browserUrlTree=an.urlAfterRedirects}const er=new Ai(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(er)}));if(dt&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:an,extractedUrl:er,source:br,restoredState:Ds,extras:Ji}=W,wo=new Di(an,this.urlSerializer.serialize(er),br,Ds);this.events.next(wo);const Yn=Ms(er,this.rootComponentType).snapshot;return S={...W,targetSnapshot:Yn,urlAfterRedirects:er,extras:{...Ji,skipLocationChange:!1,replaceUrl:!1}},(0,X.of)(S)}{const an="";return this.events.next(new Pr(W.id,g.serializeUrl(S.extractedUrl),an,1)),g.rawUrlTree=W.rawUrl,W.resolve(null),at.E}}),(0,It.b)(W=>{const Se=new Hi(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot);this.events.next(Se)}),(0,Jt.U)(W=>S={...W,guards:Mo(W.targetSnapshot,W.currentSnapshot,this.rootContexts)}),function vo(y,_){return(0,Xe.z)(g=>{const{targetSnapshot:S,currentSnapshot:N,guards:{canActivateChecks:j,canDeactivateChecks:W}}=g;return 0===W.length&&0===j.length?(0,X.of)({...g,guardsResult:!0}):function Ps(y,_,g,S){return(0,z.D)(y).pipe((0,Xe.z)(N=>function us(y,_,g,S,N){const j=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,X.of)(!0);const W=j.map(Se=>{const dt=ui(_)??N,tn=Cn(Se,dt);return Xn(function Wn(y){return y&&Go(y.canDeactivate)}(tn)?tn.canDeactivate(y,_,g,S):dt.runInContext(()=>tn(y,_,g,S))).pipe(Te())});return(0,X.of)(W).pipe(Hr())}(N.component,N.route,g,_,S)),Te(N=>!0!==N,!0))}(W,S,N,y).pipe((0,Xe.z)(Se=>Se&&function Xs(y){return"boolean"==typeof y}(Se)?function Yi(y,_,g,S){return(0,z.D)(_).pipe((0,nt.b)(N=>Qe(function ga(y,_){return null!==y&&_&&_(new zi(y)),(0,X.of)(!0)}(N.route.parent,S),function qo(y,_){return null!==y&&_&&_(new ys(y)),(0,X.of)(!0)}(N.route,S),function zr(y,_,g){const S=_[_.length-1],j=_.slice(0,_.length-1).reverse().map(W=>function Ro(y){const _=y.routeConfig?y.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:y,guards:_}:null}(W)).filter(W=>null!==W).map(W=>ot(()=>{const Se=W.guards.map(dt=>{const tn=ui(W.node)??g,an=Cn(dt,tn);return Xn(function wt(y){return y&&Go(y.canActivateChild)}(an)?an.canActivateChild(S,y):tn.runInContext(()=>an(S,y))).pipe(Te())});return(0,X.of)(Se).pipe(Hr())}));return(0,X.of)(j).pipe(Hr())}(y,N.path,g),function ci(y,_,g){const S=_.routeConfig?_.routeConfig.canActivate:null;if(!S||0===S.length)return(0,X.of)(!0);const N=S.map(j=>ot(()=>{const W=ui(_)??g,Se=Cn(j,W);return Xn(function yo(y){return y&&Go(y.canActivate)}(Se)?Se.canActivate(_,y):W.runInContext(()=>Se(_,y))).pipe(Te())}));return(0,X.of)(N).pipe(Hr())}(y,N.route,g))),Te(N=>!0!==N,!0))}(S,j,y,_):(0,X.of)(Se)),(0,Jt.U)(Se=>({...g,guardsResult:Se})))})}(this.environmentInjector,W=>this.events.next(W)),(0,It.b)(W=>{if(S.guardsResult=W.guardsResult,or(W.guardsResult))throw qa(0,W.guardsResult);const Se=new Oi(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(W.urlAfterRedirects),W.targetSnapshot,!!W.guardsResult);this.events.next(Se)}),(0,Ue.h)(W=>!!W.guardsResult||(g.restoreHistory(W),this.cancelNavigationTransition(W,"",3),!1)),yr(W=>{if(W.guards.canActivateChecks.length)return(0,X.of)(W).pipe((0,It.b)(Se=>{const dt=new lo(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(dt)}),nr(Se=>{let dt=!1;return(0,X.of)(Se).pipe(function Kt(y,_){return(0,Xe.z)(g=>{const{targetSnapshot:S,guards:{canActivateChecks:N}}=g;if(!N.length)return(0,X.of)(g);let j=0;return(0,z.D)(N).pipe((0,nt.b)(W=>function Lt(y,_,g,S){const N=y.routeConfig,j=y._resolve;return void 0!==N?.title&&!mt(N)&&(j[hr]=N.title),function Qi(y,_,g,S){const N=function Gt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,X.of)({});const j={};return(0,z.D)(N).pipe((0,Xe.z)(W=>function Le(y,_,g,S){const N=ui(_)??S,j=Cn(y,N);return Xn(j.resolve?j.resolve(_,g):N.runInContext(()=>j(_,g)))}(y[W],_,g,S).pipe(Te(),(0,It.b)(Se=>{j[W]=Se}))),Qn(1),function Jn(y){return(0,Jt.U)(()=>y)}(j),Pt(W=>js(W)?at.E:Tt(W)))}(j,y,_,S).pipe((0,Jt.U)(W=>(y._resolvedData=W,y.data=Rs(y,g).resolve,N&&mt(N)&&(y.data[hr]=N.title),null)))}(W.route,S,y,_)),(0,It.b)(()=>j++),Qn(1),(0,Xe.z)(W=>j===N.length?(0,X.of)(g):at.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,It.b)({next:()=>dt=!0,complete:()=>{dt||(g.restoreHistory(Se),this.cancelNavigationTransition(Se,"",2))}}))}),(0,It.b)(Se=>{const dt=new la(Se.id,this.urlSerializer.serialize(Se.extractedUrl),this.urlSerializer.serialize(Se.urlAfterRedirects),Se.targetSnapshot);this.events.next(dt)}))}),yr(W=>{const Se=dt=>{const tn=[];dt.routeConfig?.loadComponent&&!dt.routeConfig._loadedComponent&&tn.push(this.configLoader.loadComponent(dt.routeConfig).pipe((0,It.b)(an=>{dt.component=an}),(0,Jt.U)(()=>{})));for(const an of dt.children)tn.push(...Se(an));return tn};return Zt(Se(W.targetSnapshot.root)).pipe(ve(),Qr(1))}),yr(()=>this.afterPreactivation()),(0,Jt.U)(W=>{const Se=function Ma(y,_,g){const S=Qs(y,_._root,g?g._root:void 0);return new vs(S,_)}(g.routeReuseStrategy,W.targetSnapshot,W.currentRouterState);return S={...W,targetRouterState:Se}}),(0,It.b)(W=>{g.currentUrlTree=W.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(W.urlAfterRedirects,W.rawUrl),g.routerState=W.targetRouterState,"deferred"===g.urlUpdateStrategy&&(W.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,W),g.browserUrlTree=W.urlAfterRedirects)}),((y,_,g)=>(0,Jt.U)(S=>(new mo(_,S.targetRouterState,S.currentRouterState,g).activate(y),S)))(this.rootContexts,g.routeReuseStrategy,W=>this.events.next(W)),Qr(1),(0,It.b)({next:W=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new xr(W.id,this.urlSerializer.serialize(W.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(W.targetRouterState.snapshot),W.resolve(!0)},complete:()=>{N=!0}}),Rr(()=>{N||j||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),Pt(W=>{if(j=!0,xi(W)){po(W)||(g.navigated=!0,g.restoreHistory(S,!0));const Se=new co(S.id,this.urlSerializer.serialize(S.extractedUrl),W.message,W.cancellationCode);if(this.events.next(Se),po(W)){const dt=g.urlHandlingStrategy.merge(W.url,g.rawUrlTree),tn={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||sc(S.source)};g.scheduleNavigation(dt,Ti,null,tn,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{g.restoreHistory(S,!0);const Se=new Vr(S.id,this.urlSerializer.serialize(S.extractedUrl),W,S.targetSnapshot??void 0);this.events.next(Se);try{S.resolve(g.errorHandler(W))}catch(dt){S.reject(dt)}}return at.E}))}))}cancelNavigationTransition(g,S,N){const j=new co(g.id,this.urlSerializer.serialize(g.extractedUrl),S,N);this.events.next(j),g.resolve(!1)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function sc(y){return y!==Ti}let Ra=(()=>{class y{buildTitle(g){let S,N=g.root;for(;void 0!==N;)S=this.getResolvedTitleForRoute(N)??S,N=N.children.find(j=>j.outlet===Yt);return S}getResolvedTitleForRoute(g){return g.data[hr]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:function(){return(0,T.f3M)(ih)},providedIn:"root"}),y})(),ih=(()=>{class y extends Ra{constructor(g){super(),this.title=g}updateTitle(g){const S=this.buildTitle(g);void 0!==S&&this.title.setTitle(S)}}return y.\u0275fac=function(g){return new(g||y)(T.LFG(wr.Dx))},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Fu=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:function(){return(0,T.f3M)(xa)},providedIn:"root"}),y})();class Nn{shouldDetach(_){return!1}store(_,g){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,g){return _.routeConfig===g.routeConfig}}let xa=(()=>{class y extends Nn{}return y.\u0275fac=function(){let _;return function(S){return(_||(_=T.n5z(y)))(S||y)}}(),y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ti=new T.OlP("",{providedIn:"root",factory:()=>({})});let Xt=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:function(){return(0,T.f3M)(Zo)},providedIn:"root"}),y})(),Zo=(()=>{class y{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,S){return g}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Lu(y){throw y}function lr(y,_,g){return _.parse("/")}const nn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,T.f3M)(T.c2e),this.isNgZoneEnabled=!1,this.options=(0,T.f3M)(ti,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Lu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,T.f3M)(Xt),this.routeReuseStrategy=(0,T.f3M)(Fu),this.urlCreationStrategy=(0,T.f3M)(Ls),this.titleStrategy=(0,T.f3M)(Ra),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Mn((0,T.f3M)(Os,{optional:!0})??[]),this.navigationTransitions=(0,T.f3M)(ya),this.urlSerializer=(0,T.f3M)(ee),this.location=(0,T.f3M)(On.Ye),this.isNgZoneEnabled=(0,T.f3M)(T.R0b)instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ms(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ti,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const S="popstate"===g.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,S,g.state)},0)}))}navigateToSyncWithBrowser(g,S,N){const j={replaceUrl:!0},W=N?.navigationId?N:null;if(N){const dt={...N};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(j.state=dt)}const Se=this.parseUrl(g);this.scheduleNavigation(Se,S,W,j)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(Js),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,S={}){const{relativeTo:N,queryParams:j,fragment:W,queryParamsHandling:Se,preserveFragment:dt}=S,tn=dt?this.currentUrlTree.fragment:W;let an=null;switch(Se){case"merge":an={...this.currentUrlTree.queryParams,...j};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=j||null}return null!==an&&(an=this.removeEmptyProps(an)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,g,an,tn??null)}navigateByUrl(g,S={skipLocationChange:!1}){const N=or(g)?g:this.parseUrl(g),j=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(j,Ti,null,S)}navigate(g,S={skipLocationChange:!1}){return function Xo(y){for(let _=0;_<y.length;_++){const g=y[_];if(null==g)throw new T.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,S),S)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let S;try{S=this.urlSerializer.parse(g)}catch(N){S=this.malformedUriErrorHandler(N,this.urlSerializer,g)}return S}isActive(g,S){let N;if(N=!0===S?{...nn}:!1===S?{...Pa}:S,or(g))return mi(this.currentUrlTree,g,N);const j=this.parseUrl(g);return mi(this.currentUrlTree,j,N)}removeEmptyProps(g){return Object.keys(g).reduce((S,N)=>{const j=g[N];return null!=j&&(S[N]=j),S},{})}scheduleNavigation(g,S,N,j,W){if(this.disposed)return Promise.resolve(!1);let Se,dt,tn,an;return W?(Se=W.resolve,dt=W.reject,tn=W.promise):tn=new Promise((er,br)=>{Se=er,dt=br}),an="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:an,source:S,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:j,resolve:Se,reject:dt,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(er=>Promise.reject(er))}setBrowserUrl(g,S){const N=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(N)||S.extras.replaceUrl){const W={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(N,"",W)}else{const j={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(N,"",j)}}restoreHistory(g,S=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-(this.browserPageId??this.currentPageId);0!==j?this.location.historyGo(j):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===j&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,S){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:S}:{navigationId:g}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ea=(()=>{class y{constructor(g,S,N,j,W,Se){this.router=g,this.route=S,this.tabIndexAttribute=N,this.renderer=j,this.el=W,this.locationStrategy=Se,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Oe.x;const dt=W.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=g.events.subscribe(tn=>{tn instanceof xr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,T.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,T.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,T.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,S,N,j,W){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||S||N||j||W||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,T.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,S){const N=this.renderer,j=this.el.nativeElement;null!==S?N.setAttribute(j,g,S):N.removeAttribute(j,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(T.Y36($i),T.Y36(Zs),T.$8M("tabindex"),T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(On.S$))},y.\u0275dir=T.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,S){1&g&&T.NdJ("click",function(j){return S.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&g&&T.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[T.TTD]}),y})();class Is{}let Ts=(()=>{class y{constructor(g,S,N,j,W){this.router=g,this.injector=N,this.preloadingStrategy=j,this.loader=W}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(g=>g instanceof xr),(0,nt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,S){const N=[];for(const j of S){j.providers&&!j._injector&&(j._injector=(0,T.MMx)(j.providers,g,`Route: ${j.path}`));const W=j._injector??g,Se=j._loadedInjector??W;(j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent)&&N.push(this.preloadConfig(W,j)),(j.children||j._loadedRoutes)&&N.push(this.processRoutes(Se,j.children??j._loadedRoutes))}return(0,z.D)(N).pipe((0,Sn.J)())}preloadConfig(g,S){return this.preloadingStrategy.preload(S,()=>{let N;N=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(g,S):(0,X.of)(null);const j=N.pipe((0,Xe.z)(W=>null===W?(0,X.of)(void 0):(S._loadedRoutes=W.routes,S._loadedInjector=W.injector,this.processRoutes(W.injector??g,W.routes))));if(S.loadComponent&&!S._loadedComponent){const W=this.loader.loadComponent(S);return(0,z.D)([j,W]).pipe((0,Sn.J)())}return j})}}return y.\u0275fac=function(g){return new(g||y)(T.LFG($i),T.LFG(T.Sil),T.LFG(T.lqb),T.LFG(Is),T.LFG(Ko))},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const eo=new T.OlP("");let Bu=(()=>{class y{constructor(g,S,N,j,W={}){this.urlSerializer=g,this.transitions=S,this.viewportScroller=N,this.zone=j,this.options=W,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},W.scrollPositionRestoration=W.scrollPositionRestoration||"disabled",W.anchorScrolling=W.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof xr&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Gi&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gi(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(g){T.$Z()},y.\u0275prov=T.Yz7({token:y,factory:y.\u0275fac}),y})();var cs=(()=>((cs=cs||{})[cs.COMPLETE=0]="COMPLETE",cs[cs.FAILED=1]="FAILED",cs[cs.REDIRECTING=2]="REDIRECTING",cs))();const Yo=!1;function ai(y,_){return{\u0275kind:y,\u0275providers:_}}const ta=new T.OlP("",{providedIn:"root",factory:()=>!1});function zs(){const y=(0,T.f3M)(T.zs3);return _=>{const g=y.get(T.z2F);if(_!==g.components[0])return;const S=y.get($i),N=y.get(Qa);1===y.get(Ja)&&S.initialNavigation(),y.get(Xa,null,T.XFs.Optional)?.setUpPreloading(),y.get(eo,null,T.XFs.Optional)?.init(),S.resetRootComponentType(g.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const Qa=new T.OlP(Yo?"bootstrap done indicator":"",{factory:()=>new Oe.x}),Ja=new T.OlP(Yo?"initial navigation":"",{providedIn:"root",factory:()=>1});function ls(){let y=[];return y=Yo?[{provide:T.Xts,multi:!0,useFactory:()=>{const _=(0,T.f3M)($i);return()=>_.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function tr(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],ai(1,y)}const Xa=new T.OlP(Yo?"router preloader":"");function Oa(y){return ai(0,[{provide:Xa,useExisting:Ts},{provide:Is,useExisting:y}])}const Gs=!1,Vu=new T.OlP(Gs?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),_i=[On.Ye,{provide:ee,useClass:te},$i,qi,{provide:Zs,useFactory:function Na(y){return y.routerState.root},deps:[$i]},Ko,Gs?{provide:ta,useValue:!0}:[]];function ra(){return new T.PXZ("Router",$i)}let ka=(()=>{class y{constructor(g){}static forRoot(g,S){return{ngModule:y,providers:[_i,Gs&&S?.enableTracing?ls().\u0275providers:[],{provide:Os,multi:!0,useValue:g},{provide:Vu,useFactory:$u,deps:[[$i,new T.FiY,new T.tp0]]},{provide:ti,useValue:S||{}},S?.useHash?{provide:On.S$,useClass:On.Do}:{provide:On.S$,useClass:On.b0},{provide:eo,useFactory:()=>{const y=(0,T.f3M)(On.EM),_=(0,T.f3M)(T.R0b),g=(0,T.f3M)(ti),S=(0,T.f3M)(ya),N=(0,T.f3M)(ee);return g.scrollOffset&&y.setOffset(g.scrollOffset),new Bu(N,S,y,_,g)}},S?.preloadingStrategy?Oa(S.preloadingStrategy).\u0275providers:[],{provide:T.PXZ,multi:!0,useFactory:ra},S?.initialNavigation?Fa(S):[],[{provide:Po,useFactory:zs},{provide:T.tb,multi:!0,useExisting:Po}]]}}static forChild(g){return{ngModule:y,providers:[{provide:Os,multi:!0,useValue:g}]}}}return y.\u0275fac=function(g){return new(g||y)(T.LFG(Vu,8))},y.\u0275mod=T.oAB({type:y}),y.\u0275inj=T.cJS({imports:[Pi]}),y})();function $u(y){if(Gs&&y)throw new T.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fa(y){return["disabled"===y.initialNavigation?ai(3,[{provide:T.ip1,multi:!0,useFactory:()=>{const _=(0,T.f3M)($i);return()=>{_.setUpLocationChangeListener()}}},{provide:Ja,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ai(2,[{provide:Ja,useValue:0},{provide:T.ip1,multi:!0,deps:[T.zs3],useFactory:_=>{const g=_.get(On.V_,Promise.resolve());return()=>g.then(()=>new Promise(S=>{const N=_.get($i),j=_.get(Qa);(function Eo(y,_){y.events.pipe((0,Ue.h)(g=>g instanceof xr||g instanceof co||g instanceof Vr||g instanceof Pr),(0,Jt.U)(g=>g instanceof xr||g instanceof Pr?cs.COMPLETE:g instanceof co&&(0===g.code||1===g.code)?cs.REDIRECTING:cs.FAILED),(0,Ue.h)(g=>g!==cs.REDIRECTING),Qr(1)).subscribe(()=>{_()})})(N,()=>{S(!0)}),_.get(ya).afterPreactivation=()=>(S(!0),j.closed?(0,X.of)(void 0):j),N.initialNavigation()}))}}]).\u0275providers:[]]}const Po=new T.OlP(Gs?"Router Initializer":"")},6881:(Dn,Et,Z)=>{Z.d(Et,{Jn:()=>yi,qX:()=>Xn,Xd:()=>Kn,Mq:()=>pr,C6:()=>Zn,ZF:()=>Ln,KN:()=>Fe});var T=Z(5861),z=Z(4859),X=Z(1877),Oe=Z(2090);const be=(Ke,de)=>de.some(Ie=>Ke instanceof Ie);let he,Ce;const ne=new WeakMap,me=new WeakMap,Ze=new WeakMap,rt=new WeakMap,Ye=new WeakMap;let fn={get(Ke,de,Ie){if(Ke instanceof IDBTransaction){if("done"===de)return me.get(Ke);if("objectStoreNames"===de)return Ke.objectStoreNames||Ze.get(Ke);if("store"===de)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return Qe(Ke[de])},set:(Ke,de,Ie)=>(Ke[de]=Ie,!0),has:(Ke,de)=>Ke instanceof IDBTransaction&&("done"===de||"store"===de)||de in Ke};function Dt(Ke){return"function"==typeof Ke?function Sn(Ke){return Ke!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function vt(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ke)?function(...de){return Ke.apply(Pe(this),de),Qe(ne.get(this))}:function(...de){return Qe(Ke.apply(Pe(this),de))}:function(de,...Ie){const ft=Ke.call(Pe(this),de,...Ie);return Ze.set(ft,de.sort?de.sort():[de]),Qe(ft)}}(Ke):(Ke instanceof IDBTransaction&&function Zt(Ke){if(me.has(Ke))return;const de=new Promise((Ie,ft)=>{const bt=()=>{Ke.removeEventListener("complete",gn),Ke.removeEventListener("error",mn),Ke.removeEventListener("abort",mn)},gn=()=>{Ie(),bt()},mn=()=>{ft(Ke.error||new DOMException("AbortError","AbortError")),bt()};Ke.addEventListener("complete",gn),Ke.addEventListener("error",mn),Ke.addEventListener("abort",mn)});me.set(Ke,de)}(Ke),be(Ke,function Ae(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ke,fn):Ke)}function Qe(Ke){if(Ke instanceof IDBRequest)return function Ot(Ke){const de=new Promise((Ie,ft)=>{const bt=()=>{Ke.removeEventListener("success",gn),Ke.removeEventListener("error",mn)},gn=()=>{Ie(Qe(Ke.result)),bt()},mn=()=>{ft(Ke.error),bt()};Ke.addEventListener("success",gn),Ke.addEventListener("error",mn)});return de.then(Ie=>{Ie instanceof IDBCursor&&ne.set(Ie,Ke)}).catch(()=>{}),Ye.set(de,Ke),de}(Ke);if(rt.has(Ke))return rt.get(Ke);const de=Dt(Ke);return de!==Ke&&(rt.set(Ke,de),Ye.set(de,Ke)),de}const Pe=Ke=>Ye.get(Ke),ct=["get","getKey","getAll","getAllKeys","count"],Tt=["put","add","delete","clear"],at=new Map;function Wt(Ke,de){if(!(Ke instanceof IDBDatabase)||de in Ke||"string"!=typeof de)return;if(at.get(de))return at.get(de);const Ie=de.replace(/FromIndex$/,""),ft=de!==Ie,bt=Tt.includes(Ie);if(!(Ie in(ft?IDBIndex:IDBObjectStore).prototype)||!bt&&!ct.includes(Ie))return;const gn=function(){var mn=(0,T.Z)(function*(Sr,...or){const Xr=this.transaction(Sr,bt?"readwrite":"readonly");let Li=Xr.store;return ft&&(Li=Li.index(or.shift())),(yield Promise.all([Li[Ie](...or),bt&&Xr.done]))[0]});return function(or){return mn.apply(this,arguments)}}();return at.set(de,gn),gn}!function Ft(Ke){fn=Ke(fn)}(Ke=>({...Ke,get:(de,Ie,ft)=>Wt(de,Ie)||Ke.get(de,Ie,ft),has:(de,Ie)=>!!Wt(de,Ie)||Ke.has(de,Ie)}));class qt{constructor(de){this.container=de}getPlatformInfoString(){return this.container.getProviders().map(Ie=>{if(function pn(Ke){return"VERSION"===Ke.getComponent()?.type}(Ie)){const ft=Ie.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ie=>Ie).join(" ")}}const $e="@firebase/app",Jt=new X.Yd("@firebase/app"),rr="[DEFAULT]",fr={[$e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ri=new Map,Mn=new Map;function yt(Ke,de){try{Ke.container.addComponent(de)}catch(Ie){Jt.debug(`Component ${de.name} failed to register with FirebaseApp ${Ke.name}`,Ie)}}function Kn(Ke){const de=Ke.name;if(Mn.has(de))return Jt.debug(`There were multiple attempts to register component ${de}.`),!1;Mn.set(de,Ke);for(const Ie of ri.values())yt(Ie,Ke);return!0}function Xn(Ke,de){const Ie=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Ie&&Ie.triggerHeartbeat(),Ke.container.getProvider(de)}const mi=new Oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sr{constructor(de,Ie,ft){this._isDeleted=!1,this._options=Object.assign({},de),this._config=Object.assign({},Ie),this._name=Ie.name,this._automaticDataCollectionEnabled=Ie.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this.checkDestroyed(),this._automaticDataCollectionEnabled=de}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(de){this._isDeleted=de}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const yi="9.23.0";function Ln(Ke,de={}){let Ie=Ke;"object"!=typeof de&&(de={name:de});const ft=Object.assign({name:rr,automaticDataCollectionEnabled:!1},de),bt=ft.name;if("string"!=typeof bt||!bt)throw mi.create("bad-app-name",{appName:String(bt)});if(Ie||(Ie=(0,Oe.aH)()),!Ie)throw mi.create("no-options");const gn=ri.get(bt);if(gn){if((0,Oe.vZ)(Ie,gn.options)&&(0,Oe.vZ)(ft,gn.config))return gn;throw mi.create("duplicate-app",{appName:bt})}const mn=new z.H0(bt);for(const or of Mn.values())mn.addComponent(or);const Sr=new sr(Ie,ft,mn);return ri.set(bt,Sr),Sr}function pr(Ke=rr){const de=ri.get(Ke);if(!de&&Ke===rr&&(0,Oe.aH)())return Ln();if(!de)throw mi.create("no-app",{appName:Ke});return de}function Zn(){return Array.from(ri.values())}function Fe(Ke,de,Ie){var ft;let bt=null!==(ft=fr[Ke])&&void 0!==ft?ft:Ke;Ie&&(bt+=`-${Ie}`);const gn=bt.match(/\s|\//),mn=de.match(/\s|\//);if(gn||mn){const Sr=[`Unable to register library "${bt}" with version "${de}":`];return gn&&Sr.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),gn&&mn&&Sr.push("and"),mn&&Sr.push(`version name "${de}" contains illegal characters (whitespace or "/")`),void Jt.warn(Sr.join(" "))}Kn(new z.wA(`${bt}-version`,()=>({library:bt,version:de}),"VERSION"))}const ht="firebase-heartbeat-database",lt=1,ee="firebase-heartbeat-store";let te=null;function ge(){return te||(te=function ot(Ke,de,{blocked:Ie,upgrade:ft,blocking:bt,terminated:gn}={}){const mn=indexedDB.open(Ke,de),Sr=Qe(mn);return ft&&mn.addEventListener("upgradeneeded",or=>{ft(Qe(mn.result),or.oldVersion,or.newVersion,Qe(mn.transaction),or)}),Ie&&mn.addEventListener("blocked",or=>Ie(or.oldVersion,or.newVersion,or)),Sr.then(or=>{gn&&or.addEventListener("close",()=>gn()),bt&&or.addEventListener("versionchange",Xr=>bt(Xr.oldVersion,Xr.newVersion,Xr))}).catch(()=>{}),Sr}(ht,lt,{upgrade:(Ke,de)=>{0===de&&Ke.createObjectStore(ee)}}).catch(Ke=>{throw mi.create("idb-open",{originalErrorMessage:Ke.message})})),te}function Re(){return(Re=(0,T.Z)(function*(Ke){try{return yield(yield ge()).transaction(ee).objectStore(ee).get(ae(Ke))}catch(de){if(de instanceof Oe.ZR)Jt.warn(de.message);else{const Ie=mi.create("idb-get",{originalErrorMessage:de?.message});Jt.warn(Ie.message)}}})).apply(this,arguments)}function Nt(Ke,de){return ye.apply(this,arguments)}function ye(){return(ye=(0,T.Z)(function*(Ke,de){try{const ft=(yield ge()).transaction(ee,"readwrite");yield ft.objectStore(ee).put(de,ae(Ke)),yield ft.done}catch(Ie){if(Ie instanceof Oe.ZR)Jt.warn(Ie.message);else{const ft=mi.create("idb-set",{originalErrorMessage:Ie?.message});Jt.warn(ft.message)}}})).apply(this,arguments)}function ae(Ke){return`${Ke.name}!${Ke.options.appId}`}class et{constructor(de){this.container=de,this._heartbeatsCache=null;const Ie=this.container.getProvider("app").getImmediate();this._storage=new un(Ie),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var de=this;return(0,T.Z)(function*(){const ft=de.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=gt();if(null===de._heartbeatsCache&&(de._heartbeatsCache=yield de._heartbeatsCachePromise),de._heartbeatsCache.lastSentHeartbeatDate!==bt&&!de._heartbeatsCache.heartbeats.some(gn=>gn.date===bt))return de._heartbeatsCache.heartbeats.push({date:bt,agent:ft}),de._heartbeatsCache.heartbeats=de._heartbeatsCache.heartbeats.filter(gn=>{const mn=new Date(gn.date).valueOf();return Date.now()-mn<=2592e6}),de._storage.overwrite(de._heartbeatsCache)})()}getHeartbeatsHeader(){var de=this;return(0,T.Z)(function*(){if(null===de._heartbeatsCache&&(yield de._heartbeatsCachePromise),null===de._heartbeatsCache||0===de._heartbeatsCache.heartbeats.length)return"";const Ie=gt(),{heartbeatsToSend:ft,unsentEntries:bt}=function $t(Ke,de=1024){const Ie=[];let ft=Ke.slice();for(const bt of Ke){const gn=Ie.find(mn=>mn.agent===bt.agent);if(gn){if(gn.dates.push(bt.date),kn(Ie)>de){gn.dates.pop();break}}else if(Ie.push({agent:bt.agent,dates:[bt.date]}),kn(Ie)>de){Ie.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ie,unsentEntries:ft}}(de._heartbeatsCache.heartbeats),gn=(0,Oe.L)(JSON.stringify({version:2,heartbeats:ft}));return de._heartbeatsCache.lastSentHeartbeatDate=Ie,bt.length>0?(de._heartbeatsCache.heartbeats=bt,yield de._storage.overwrite(de._heartbeatsCache)):(de._heartbeatsCache.heartbeats=[],de._storage.overwrite(de._heartbeatsCache)),gn})()}}function gt(){return(new Date).toISOString().substring(0,10)}class un{constructor(de){this.app=de,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,Oe.hl)()&&(0,Oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var de=this;return(0,T.Z)(function*(){return(yield de._canUseIndexedDBPromise)&&(yield function ke(Ke){return Re.apply(this,arguments)}(de.app))||{heartbeats:[]}})()}overwrite(de){var Ie=this;return(0,T.Z)(function*(){var ft;if(yield Ie._canUseIndexedDBPromise){const gn=yield Ie.read();return Nt(Ie.app,{lastSentHeartbeatDate:null!==(ft=de.lastSentHeartbeatDate)&&void 0!==ft?ft:gn.lastSentHeartbeatDate,heartbeats:de.heartbeats})}})()}add(de){var Ie=this;return(0,T.Z)(function*(){var ft;if(yield Ie._canUseIndexedDBPromise){const gn=yield Ie.read();return Nt(Ie.app,{lastSentHeartbeatDate:null!==(ft=de.lastSentHeartbeatDate)&&void 0!==ft?ft:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...de.heartbeats]})}})()}}function kn(Ke){return(0,Oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Fr(Ke){Kn(new z.wA("platform-logger",de=>new qt(de),"PRIVATE")),Kn(new z.wA("heartbeat",de=>new et(de),"PRIVATE")),Fe($e,"0.9.13",Ke),Fe($e,"0.9.13","esm2017"),Fe("fire-js","")}("")},4859:(Dn,Et,Z)=>{Z.d(Et,{H0:()=>Ae,wA:()=>X});var T=Z(5861),z=Z(2090);class X{constructor(ne,me,Ze){this.name=ne,this.instanceFactory=me,this.type=Ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const Oe="[DEFAULT]";class be{constructor(ne,me){this.name=ne,this.container=me,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const me=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(me)){const Ze=new z.BH;if(this.instancesDeferred.set(me,Ze),this.isInitialized(me)||this.shouldAutoInitialize())try{const rt=this.getOrInitializeService({instanceIdentifier:me});rt&&Ze.resolve(rt)}catch{}}return this.instancesDeferred.get(me).promise}getImmediate(ne){var me;const Ze=this.normalizeInstanceIdentifier(ne?.identifier),rt=null!==(me=ne?.optional)&&void 0!==me&&me;if(!this.isInitialized(Ze)&&!this.shouldAutoInitialize()){if(rt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ze})}catch(Ye){if(rt)return null;throw Ye}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ce(vt){return"EAGER"===vt.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(const[me,Ze]of this.instancesDeferred.entries()){const rt=this.normalizeInstanceIdentifier(me);try{const Ye=this.getOrInitializeService({instanceIdentifier:rt});Ze.resolve(Ye)}catch{}}}}clearInstance(ne=Oe){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,T.Z)(function*(){const me=Array.from(ne.instances.values());yield Promise.all([...me.filter(Ze=>"INTERNAL"in Ze).map(Ze=>Ze.INTERNAL.delete()),...me.filter(Ze=>"_delete"in Ze).map(Ze=>Ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=Oe){return this.instances.has(ne)}getOptions(ne=Oe){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:me={}}=ne,Ze=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ze))throw Error(`${this.name}(${Ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const rt=this.getOrInitializeService({instanceIdentifier:Ze,options:me});for(const[Ye,Ot]of this.instancesDeferred.entries())Ze===this.normalizeInstanceIdentifier(Ye)&&Ot.resolve(rt);return rt}onInit(ne,me){var Ze;const rt=this.normalizeInstanceIdentifier(me),Ye=null!==(Ze=this.onInitCallbacks.get(rt))&&void 0!==Ze?Ze:new Set;Ye.add(ne),this.onInitCallbacks.set(rt,Ye);const Ot=this.instances.get(rt);return Ot&&ne(Ot,rt),()=>{Ye.delete(ne)}}invokeOnInitCallbacks(ne,me){const Ze=this.onInitCallbacks.get(me);if(Ze)for(const rt of Ze)try{rt(ne,me)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:me={}}){let Ze=this.instances.get(ne);if(!Ze&&this.component&&(Ze=this.component.instanceFactory(this.container,{instanceIdentifier:(vt=ne,vt===Oe?void 0:vt),options:me}),this.instances.set(ne,Ze),this.instancesOptions.set(ne,me),this.invokeOnInitCallbacks(Ze,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Ze)}catch{}var vt;return Ze||null}normalizeInstanceIdentifier(ne=Oe){return this.component?this.component.multipleInstances?ne:Oe:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const me=this.getProvider(ne.name);if(me.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);me.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const me=new be(ne,this);return this.providers.set(ne,me),me}getProviders(){return Array.from(this.providers.values())}}},1877:(Dn,Et,Z)=>{Z.d(Et,{Yd:()=>Ce,in:()=>z});const T=[];var z=(()=>{return(ne=z||(z={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",z;var ne})();const X={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},Oe=z.INFO,be={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},he=(ne,me,...Ze)=>{if(me<ne.logLevel)return;const rt=(new Date).toISOString(),Ye=be[me];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${me})`);console[Ye](`[${rt}]  ${ne.name}:`,...Ze)};class Ce{constructor(me){this.name=me,this._logLevel=Oe,this._logHandler=he,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(me){if(!(me in z))throw new TypeError(`Invalid value "${me}" assigned to \`logLevel\``);this._logLevel=me}setLogLevel(me){this._logLevel="string"==typeof me?X[me]:me}get logHandler(){return this._logHandler}set logHandler(me){if("function"!=typeof me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=me}get userLogHandler(){return this._userLogHandler}set userLogHandler(me){this._userLogHandler=me}debug(...me){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...me),this._logHandler(this,z.DEBUG,...me)}log(...me){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...me),this._logHandler(this,z.VERBOSE,...me)}info(...me){this._userLogHandler&&this._userLogHandler(this,z.INFO,...me),this._logHandler(this,z.INFO,...me)}warn(...me){this._userLogHandler&&this._userLogHandler(this,z.WARN,...me),this._logHandler(this,z.WARN,...me)}error(...me){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...me),this._logHandler(this,z.ERROR,...me)}}},259:(Dn,Et,Z)=>{Z.d(Et,{C6:()=>T.C6,KN:()=>T.KN,Mq:()=>T.Mq,ZF:()=>T.ZF});var T=Z(6881);(0,T.KN)("firebase","9.23.0","app")},7396:(Dn,Et,Z)=>{Z.d(Et,{EK:()=>ti,hJ:()=>ed,JU:()=>qm,ad:()=>Jm,cf:()=>th,Xo:()=>fg,IO:()=>uy,pl:()=>gy,r7:()=>my,ar:()=>cy});var Ae,T=Z(5861),z=Z(6881),X=Z(4859),Oe=Z(1877),be=Z(2090),he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ce={},vt=vt||{},ne=he||self;function me(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function Ze(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ye="closure_uid_"+(1e9*Math.random()>>>0),Ot=0;function Zt(r,e,t){return r.call.apply(r.bind,arguments)}function fn(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Ft(r,e,t){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zt:fn).apply(null,arguments)}function Sn(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Dt(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var f=Array(arguments.length-2),D=2;D<arguments.length;D++)f[D-2]=arguments[D];return e.prototype[a].apply(s,f)}}function Qe(){this.s=this.s,this.o=this.o}Qe.prototype.s=!1,Qe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rt(r){Object.prototype.hasOwnProperty.call(r,Ye)&&r[Ye]||(r[Ye]=++Ot)}(this)},Qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ot=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function At(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function ct(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(me(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let f=0;f<l;f++)r[a+f]=s[f]}else r.push(s)}}function Tt(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{ne.addEventListener("test",()=>{},e),ne.removeEventListener("test",()=>{},e)}catch{}return r}();function Wt(r){return/^[\s\xa0]*$/.test(r)}function qt(){var r=ne.navigator;return r&&(r=r.userAgent)?r:""}function pn(r){return-1!=qt().indexOf(r)}function $e(r){return $e[" "](r),r}$e[" "]=function(){};var qe,r,Jt=pn("Opera"),nr=pn("Trident")||pn("MSIE"),Qr=pn("Edge"),He=Qr||nr,Ue=pn("Gecko")&&!(-1!=qt().toLowerCase().indexOf("webkit")&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),Xe=-1!=qt().toLowerCase().indexOf("webkit")&&!pn("Edge");function ve(){var r=ne.document;return r?r.documentMode:void 0}e:{var ue="",Te=(r=qt(),Ue?/rv:([^\);]+)(\)|;)/.exec(r):Qr?/Edge\/([\d\.]+)/.exec(r):nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Xe?/WebKit\/(\S+)/.exec(r):Jt?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Te&&(ue=Te?Te[1]:""),nr){var nt=ve();if(null!=nt&&nt>parseFloat(ue)){qe=String(nt);break e}}qe=ue}var _n=ne.document&&nr&&(ve()||parseInt(qe,10))||void 0;function sn(r,e){if(Tt.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Ue){e:{try{$e(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Qn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&sn.$.h.call(this)}}Dt(sn,Tt);var Qn={2:"touch",3:"pen",4:"mouse"};sn.prototype.h=function(){sn.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Hn="closure_listenable_"+(1e6*Math.random()|0),Er=0;function Jn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Er,this.fa=this.ia=!1}function Rr(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function wr(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function hr(r){const e={};for(const t in r)e[t]=r[t];return e}const ni="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wr(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<ni.length;l++)t=ni[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function hi(r){this.src=r,this.g={},this.h=0}function rr(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=ot(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(Rr(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function fr(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}hi.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var f=fr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new Jn(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var ri="closure_lm_"+(1e6*Math.random()|0),Mn={};function yt(r,e,t,s,a){if(s&&s.once)return Xn(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)yt(r,e[l],t,s,a);return null}return t=Ln(t),r&&r[Hn]?r.O(e,t,Ze(s)?!!s.capture:!!s,a):Vt(r,e,t,!1,s,a)}function Vt(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=Ze(a)?!!a.capture:!!a,D=sr(r);if(D||(r[ri]=D=new hi(r)),(t=D.add(e,t,s,f,l)).proxy)return t;if(s=function Kn(){const e=mi;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)at||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Rn(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Xn(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xn(r,e[l],t,s,a);return null}return t=Ln(t),r&&r[Hn]?r.P(e,t,Ze(s)?!!s.capture:!!s,a):Vt(r,e,t,!0,s,a)}function Gn(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Gn(r,e[l],t,s,a);else s=Ze(s)?!!s.capture:!!s,t=Ln(t),r&&r[Hn]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=fr(l=r.g[e],t,s,a))&&(Rr(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=sr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=fr(e,t,s,a)),(t=-1<r?e[r]:null)&&Jr(t))}function Jr(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[Hn])rr(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Rn(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=sr(e))?(rr(t,r),0==t.h&&(t.src=null,e[ri]=null)):Rr(r)}}}function Rn(r){return r in Mn?Mn[r]:Mn[r]="on"+r}function mi(r,e){if(r.fa)r=!0;else{e=new sn(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Jr(r),r=t.call(s,e)}return r}function sr(r){return(r=r[ri])instanceof hi?r:null}var yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ln(r){return"function"==typeof r?r:(r[yi]||(r[yi]=function(e){return r.handleEvent(e)}),r[yi])}function pr(){Qe.call(this),this.i=new hi(this),this.S=this,this.J=null}function Zn(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Tt(e,r);else if(e instanceof Tt)e.target=e.target||r;else{var a=e;Wr(e=new Tt(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=fi(f,s,!0,e)&&a}if(a=fi(f=e.g=r,s,!0,e)&&a,a=fi(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=fi(f=e.g=t[l],s,!1,e)&&a}function fi(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var D=f.listener,O=f.la||f.src;f.ia&&rr(r.i,f),a=!1!==D.call(O,s)&&a}}return a&&!s.defaultPrevented}Dt(pr,Qe),pr.prototype[Hn]=!0,pr.prototype.removeEventListener=function(r,e,t,s){Gn(this,r,e,t,s)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Rr(t[s]);delete r.g[e],r.h--}}this.J=null},pr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},pr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var kr=ne.JSON.stringify;function fe(){var r=Re;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ht=new class Fe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lt,r=>r.reset());class lt{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ee(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function te(r){ne.setTimeout(()=>{throw r},0)}let ge,ke=!1,Re=new class we{constructor(){this.h=this.g=null}add(e,t){const s=ht.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},Nt=()=>{const r=ne.Promise.resolve(void 0);ge=()=>{r.then(ye)}};var ye=()=>{for(var r;r=fe();){try{r.h.call(r.g)}catch(t){te(t)}var e=ht;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ke=!1};function ae(r,e){pr.call(this),this.h=r||1,this.g=e||ne,this.j=Ft(this.qb,this),this.l=Date.now()}function Q(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function pe(r,e,t){if("function"==typeof r)t&&(r=Ft(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ft(r.handleEvent,r)}return 2147483647<Number(e)?-1:ne.setTimeout(r,e||0)}function et(r){r.g=pe(()=>{r.g=null,r.i&&(r.i=!1,et(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Dt(ae,pr),(Ae=ae.prototype).ga=!1,Ae.T=null,Ae.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zn(this,"tick"),this.ga&&(Q(this),this.start()))}},Ae.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.N=function(){ae.$.N.call(this),Q(this),delete this.g};class gt extends Qe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(r){Qe.call(this),this.h=r,this.g={}}Dt($t,Qe);var un=[];function kn(r,e,t,s){Array.isArray(t)||(t&&(un[0]=t.toString()),t=un);for(var a=0;a<t.length;a++){var l=yt(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function Fr(r){wr(r.g,function(e,t){this.g.hasOwnProperty(t)&&Jr(e)},r),r.g={}}function Ke(){this.g=!0}function ft(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gn(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return kr(t)}catch{return e}}(r,t)+(s?" "+s:"")})}$t.prototype.N=function(){$t.$.N.call(this),Fr(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.Ea=function(){this.g=!1},Ke.prototype.info=function(){};var mn={},Sr=null;function or(){return Sr=Sr||new pr}function Xr(r){Tt.call(this,mn.Ta,r)}function Li(r){const e=or();Zn(e,new Xr(e))}function jr(r,e){Tt.call(this,mn.STAT_EVENT,r),this.stat=e}function vi(r){const e=or();Zn(e,new jr(e,r))}function ts(r,e){Tt.call(this,mn.Ua,r),this.size=e}function xn(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){r()},e)}mn.Ta="serverreachability",Dt(Xr,Tt),mn.STAT_EVENT="statevent",Dt(jr,Tt),mn.Ua="timingevent",Dt(ts,Tt);var Lr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},si={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ji(){}function ms(){}ji.prototype.h=null;var ie,pi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uo(){Tt.call(this,"d")}function ns(){Tt.call(this,"c")}function oe(){}function xe(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new $t(this),this.P=Ct,this.V=new ae(r=He?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new it}function it(){this.i=null,this.g="",this.h=!1}Dt(uo,Tt),Dt(ns,Tt),Dt(oe,ji),oe.prototype.g=function(){return new XMLHttpRequest},oe.prototype.i=function(){return{}},ie=new oe;var Ct=45e3,on={},Bn={};function wn(r,e,t){r.L=1,r.v=Fs(Ui(e)),r.s=t,r.S=!0,gr(r,null)}function gr(r,e){r.G=Date.now(),xr(r),r.A=Ui(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Rs(t.i,"t",s),r.C=0,t=r.l.J,r.h=new it,r.g=Hr(r.l,t?e:null,!r.s),0<r.O&&(r.M=new gt(Ft(r.Pa,r,r.g),r.O)),kn(r.U,r.g,"readystatechange",r.nb),e=r.I?hr(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Li(),function de(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var f="",D=l.split("&"),O=0;O<D.length;O++){var U=D[O].split("=");if(1<U.length){var q=U[0];U=U[1];var ce=q.split("_");f=2<=ce.length&&"type"==ce[1]?f+(q+"=")+U+"&":f+(q+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ti(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Tn(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Di(r,t),a==Bn){4==e&&(r.o=4,vi(14),s=!1),ft(r.j,r.m,null,"[Incomplete Response]");break}if(a==on){r.o=4,vi(15),ft(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}ft(r.j,r.m,a,null),Hi(r,a)}Ti(r)&&a!=Bn&&a!=on&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,vi(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yo(e),e.M=!0,vi(11))):(ft(r.j,r.m,t,"[Invalid Chunked Response]"),Ai(r),Vr(r))}function Di(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Bn:(t=Number(e.substring(t,s)),isNaN(t)?on:(s+=1)+t>e.length?Bn:(e=e.slice(s,s+t),r.C=s+t,e))}function xr(r){r.Y=Date.now()+r.P,co(r,r.P)}function co(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=xn(Ft(r.lb,r),e)}function Pr(r){r.B&&(ne.clearTimeout(r.B),r.B=null)}function Vr(r){0==r.l.H||r.J||Za(r.l,r)}function Ai(r){Pr(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,Q(r.V),Fr(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function Hi(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||Ma(t.i,r)))if(!r.K&&Ma(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Wn(t),Ro(t)}Wo(t),vi(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=xn(Ft(t.ib,t),6e3));if(1>=Ao(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else qr(t,11)}else if((r.K||t.g==r)&&Wn(t),!Wt(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const q=U[3];null!=q&&(t.ra=q,t.l.info("VER="+t.ra));const ce=U[4];null!=ce&&(t.Ga=ce,t.l.info("SVER="+t.Ga));const je=U[5];null!=je&&"number"==typeof je&&0<je&&(t.L=s=1.5*je,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const pt=r.g;if(pt){const Ut=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var l=s.i;l.g||-1==Ut.indexOf("spdy")&&-1==Ut.indexOf("quic")&&-1==Ut.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Qs(l,l.h),l.h=null))}if(s.F){const dn=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;dn&&(s.Da=dn,tr(s.I,s.F,dn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Es(s,s.J?s.pa:null,s.Y),f.K){rs(s.i,f);var D=f,O=s.L;O&&D.setTimeout(O),D.B&&(Pr(D),xr(D)),s.g=f}else Xs(s);0<t.j.length&&ur(t)}else"stop"!=U[0]&&"close"!=U[0]||qr(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?qr(t,7):Mo(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}Li()}catch{}}function la(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(me(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function lo(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(me(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Oi(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(me(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(Ae=xe.prototype).setTimeout=function(r){this.P=r},Ae.nb=function(r){r=r.target;const e=this.M;e&&3==Ur(r)?e.l():this.Pa(r)},Ae.Pa=function(r){try{if(r==this.g)e:{const q=Ur(this.g);var e=this.g.Ia();if(this.g.da(),!(3>q)&&(3!=q||He||this.g&&(this.h.h||this.g.ja()||xs(this.g)))){this.J||4!=q||7==e||Li(),Pr(this);var t=this.g.da();this.ca=t;t:if(Ti(this)){var s=xs(this.g);r="";var a=s.length,l=4==Ur(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),Vr(this);var f="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function Ie(r,e,t,s,a,l,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var D,O=this.g;if((D=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wt(D)){var U=D;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,vi(12),Ai(this),Vr(this);break e}ft(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hi(this,t)}this.S?(Tn(this,q,f),He&&this.i&&3==q&&(kn(this.U,this.V,"tick",this.mb),this.V.start())):(ft(this.j,this.m,f,null),Hi(this,f)),4==q&&Ai(this),this.i&&!this.J&&(4==q?Za(this.l,this):(this.i=!1,xr(this)))}else(function ui(r){const e={};r=(r.g&&2<=Ur(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(Wt(r[s]))continue;var t=ee(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function Yt(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,vi(12)):(this.o=0,vi(13)),Ai(this),Vr(this)}}}catch{}},Ae.mb=function(){if(this.g){var r=Ur(this.g),e=this.g.ja();this.C<e.length&&(Pr(this),Tn(this,r,e),this.i&&4!=r&&xr(this))}},Ae.cancel=function(){this.J=!0,Ai(this)},Ae.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function bt(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Li(),vi(17)),Ai(this),this.o=2,Vr(this)):co(this,this.Y-r)};var Dr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof zi){this.h=r.h,ys(this,r.j),this.s=r.s,this.g=r.g,Ks(this,r.m),this.l=r.l;var e=r.i,t=new vs;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Gi(this,t),this.o=r.o}else r&&(e=String(r).match(Dr))?(this.h=!1,ys(this,e[1]||"",!0),this.s=Mi(e[2]||""),this.g=Mi(e[3]||"",!0),Ks(this,e[4]),this.l=Mi(e[5]||"",!0),Gi(this,e[6]||"",!0),this.o=Mi(e[7]||"")):(this.h=!1,this.i=new vs(null,this.h))}function Ui(r){return new zi(r)}function ys(r,e,t){r.j=t?Mi(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ks(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Gi(r,e,t){e instanceof vs?(r.i=e,function da(r,e){e&&!r.j&&(Ms(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Sa(this,s),Rs(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ri(e,Bi)),r.i=new vs(e,r.h))}function tr(r,e,t){r.i.set(e,t)}function Fs(r){return tr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Mi(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ri(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ls),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ls(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}zi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ri(e,ki,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ri(e,ki,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ri(t,"/"==t.charAt(0)?Wi:Us,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ri(t,ho)),r.join("")};var ki=/[#\/\?@]/g,Us=/[#\?:]/g,Wi=/[#\?]/g,Bi=/[#\?@]/g,ho=/#/g;function vs(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ms(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ca(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sa(r,e){Ms(r),e=So(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Zs(r,e){return Ms(r),e=So(r,e),r.g.has(e)}function Rs(r,e,t){Sa(r,e),0<t.length&&(r.i=null,r.g.set(So(r,e),At(t)),r.h+=t.length)}function So(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function Ys(r){this.l=r||fu,r=ne.PerformanceNavigationTiming?0<(r=ne.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(ne.g&&ne.g.Ka&&ne.g.Ka()&&ne.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ae=vs.prototype).add=function(r,e){Ms(this),this.i=null,r=So(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},Ae.forEach=function(r,e){Ms(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},Ae.ta=function(){Ms(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},Ae.Z=function(r){Ms(this);let e=[];if("string"==typeof r)Zs(this,r)&&(e=e.concat(this.g.get(So(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},Ae.set=function(r,e){return Ms(this),this.i=null,Zs(this,r=So(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},Ae.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=l;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var fu=10;function Aa(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Ao(r){return r.h?1:r.g?r.g.size:0}function Ma(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Qs(r,e){r.g?r.g.add(e):r.h=e}function rs(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function fa(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return At(r.i)}Ys.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var fo=class{stringify(r){return ne.JSON.stringify(r,void 0)}parse(r){return ne.JSON.parse(r,void 0)}};function qa(){this.g=new fo}function pu(r,e,t){const s=t||"";try{la(r,function(a,l){let f=a;Ze(a)&&(f=kr(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function xi(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function bi(r){this.l=r.fc||null,this.j=r.ob||!1}function qi(r,e){pr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=is,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(bi,ji),bi.prototype.g=function(){return new qi(this.l,this.j)},bi.prototype.i=function(r){return function(){return r}}({}),Dt(qi,pr);var is=0;function Ho(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Bs(r){r.readyState=4,r.l=null,r.j=null,r.A=null,Ki(r)}function Ki(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(Ae=qi.prototype).open=function(r,e){if(this.readyState!=is)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,Ki(this)},Ae.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||ne).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bs(this)),this.readyState=is},Ae.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ho(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},Ae.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Bs(this):Ki(this),3==this.readyState&&Ho(this)}},Ae.Za=function(r){this.g&&(this.response=this.responseText=r,Bs(this))},Ae.Ya=function(r){this.g&&(this.response=r,Bs(this))},Ae.ka=function(){this.g&&Bs(this)},Ae.setRequestHeader=function(r,e){this.v.append(r,e)},Ae.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Pi=ne.JSON.parse;function Ar(r){pr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pa,this.L=this.M=!1}Dt(Ar,pr);var pa="",Zi=/^https?$/i,ss=["POST","PUT"];function ei(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Vi(r),Ci(r)}function Vi(r){r.F||(r.F=!0,Zn(r,"complete"),Zn(r,"error"))}function os(r){if(r.h&&typeof vt<"u"&&(!r.C[1]||4!=Ur(r)||2!=r.da()))if(r.v&&4==Ur(r))pe(r.La,0,r);else if(Zn(r,"readystatechange"),4==Ur(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Dr)[1]||null;!a&&ne.self&&ne.self.location&&(a=ne.self.location.protocol.slice(0,-1)),s=!Zi.test(a?a.toLowerCase():"")}t=s}if(t)Zn(r,"complete"),Zn(r,"success");else{r.m=6;try{var l=2<Ur(r)?r.g.statusText:""}catch{l=""}r.j=l+" ["+r.da()+"]",Vi(r)}}finally{Ci(r)}}}function Ci(r,e){if(r.g){Js(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||Zn(r,"ready");try{t.onreadystatechange=s}catch{}}}function Js(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(ne.clearTimeout(r.A),r.A=null)}function Ur(r){return r.g?r.g.readyState:0}function xs(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case pa:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function go(r){let e="";return wr(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function mo(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=go(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):tr(r,e,t))}function Vs(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Ni(r){this.Ga=0,this.j=[],this.l=new Ke,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vs("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vs("baseRetryDelayMs",5e3,r),this.hb=Vs("retryDelaySeedMs",1e4,r),this.eb=Vs("forwardChannelMaxRetries",2,r),this.xa=Vs("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new Ys(r&&r.concurrentRequestLimit),this.Ja=new qa,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Mo(r){if(Cn(r),3==r.H){var e=r.W++,t=Ui(r.I);if(tr(t,"SID",r.K),tr(t,"RID",e),tr(t,"TYPE","terminate"),as(r,t),(e=new xe(r,r.l,e)).L=2,e.v=Fs(Ui(t)),t=!1,ne.navigator&&ne.navigator.sendBeacon)try{t=ne.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=Hr(e.l,null),e.g.ha(e.v)),e.G=Date.now(),xr(e)}js(r)}function Ro(r){r.g&&(yo(r),r.g.cancel(),r.g=null)}function Cn(r){Ro(r),r.u&&(ne.clearTimeout(r.u),r.u=null),Wn(r),r.i.cancel(),r.m&&("number"==typeof r.m&&ne.clearTimeout(r.m),r.m=null)}function ur(r){if(!Aa(r.i)&&!r.m){r.m=!0;var e=r.Na;ge||Nt(),ke||(ge(),ke=!0),Re.add(e,r),r.C=0}}function Ka(r,e){var t;t=e?e.m:r.W++;const s=Ui(r.I);tr(s,"SID",r.K),tr(s,"RID",t),tr(s,"AID",r.V),as(r,s),r.o&&r.s&&mo(s,r.o,r.s),t=new xe(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Go(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Qs(r.i,t),wn(t,s,e)}function as(r,e){r.na&&wr(r.na,function(t,s){tr(e,s,t)}),r.h&&la({},function(t,s){tr(e,s,t)})}function Go(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Ft(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let D=!0;for(let O=0;O<t;O++){let U=a[O].g;const q=a[O].map;if(U-=l,0>U)l=Math.max(0,a[O].g-100),D=!1;else try{pu(q,f,"req"+U+"_")}catch{s&&s(q)}}if(D){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Xs(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ge||Nt(),ke||(ge(),ke=!0),Re.add(e,r),r.A=0}}function Wo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=xn(Ft(r.Ma,r),_s(r,r.A)),r.A++,0))}function yo(r){null!=r.B&&(ne.clearTimeout(r.B),r.B=null)}function wt(r){r.g=new xe(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Ui(r.wa);tr(e,"RID","rpc"),tr(e,"SID",r.K),tr(e,"AID",r.V),tr(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&tr(e,"TO",r.qa),tr(e,"TYPE","xmlhttp"),as(r,e),r.o&&r.s&&mo(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=Fs(Ui(e)),t.s=null,t.S=!0,gr(t,r)}function Wn(r){null!=r.v&&(ne.clearTimeout(r.v),r.v=null)}function Za(r,e){var t=null;if(r.g==e){Wn(r),yo(r),r.g=null;var s=2}else{if(!Ma(r.i,e))return;t=e.F,rs(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Zn(s=or(),new ts(s,t)),ur(r)}else Xs(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function $s(r,e){return!(Ao(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=xn(Ft(r.Na,r,e),_s(r,r.C)),r.C++,0)))}(r,e)||2==s&&Wo(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:qr(r,5);break;case 4:qr(r,10);break;case 3:qr(r,6);break;default:qr(r,2)}}function _s(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function qr(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Ft(r.pb,r);t||(t=new zi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||ys(t,"https"),Fs(t)),function po(r,e){const t=new Ke;if(ne.Image){const s=new Image;s.onload=Sn(xi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Sn(xi,t,s,"TestLoadImage: error",!1,e),s.onabort=Sn(xi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Sn(xi,t,s,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else vi(2);r.H=0,r.h&&r.h.za(e),js(r),Cn(r)}function js(r){if(r.H=0,r.ma=[],r.h){const e=fa(r.i);(0!=e.length||0!=r.j.length)&&(ct(r.ma,e),ct(r.ma,r.j),r.i.i.length=0,At(r.j),r.j.length=0),r.h.ya()}}function Es(r,e,t){var s=t instanceof zi?Ui(t):new zi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Ks(s,s.m);else{var a=ne.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new zi(null);s&&ys(l,s),e&&(l.g=e),a&&Ks(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&tr(s,t,e),tr(s,"VER",r.ra),as(r,s),s}function Hr(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&r.Ha&&!r.va?new bi({ob:!0}):r.va)).Oa(r.J),e}function vo(){}function Ps(){if(nr&&!(10<=Number(_n)))throw Error("Environmental error: no available transport.")}function Yi(r,e){pr.call(this),this.g=new Ni(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Wt(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wt(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new ci(this)}function qo(r){uo.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ga(){ns.call(this),this.status=1}function ci(r){this.g=r}function us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ws(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],f=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function B(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(Ae=Ar.prototype).Oa=function(r){this.M=r},Ae.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ie.g(),this.C=function Ii(r){return r.h||(r.h=r.i())}(this.u?this.u:ie),this.g.onreadystatechange=Ft(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void ei(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=ne.FormData&&r instanceof ne.FormData,!(0<=ot(ss,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Js(this),0<this.B&&((this.L=function zo(r){return nr&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.ua,this)):this.A=pe(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){ei(this,l)}},Ae.ua=function(){typeof vt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zn(this,"timeout"),this.abort(8))},Ae.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Zn(this,"complete"),Zn(this,"abort"),Ci(this))},Ae.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ci(this,!0)),Ar.$.N.call(this)},Ae.La=function(){this.s||(this.G||this.v||this.l?os(this):this.kb())},Ae.kb=function(){os(this)},Ae.isActive=function(){return!!this.g},Ae.da=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},Ae.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ae.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Pi(e)}},Ae.Ia=function(){return this.m},Ae.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Ni.prototype).ra=8,Ae.H=1,Ae.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new xe(this,this.l,r);let l=this.s;if(this.U&&(l?(l=hr(l),Wr(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Go(this,a,e),tr(t=Ui(this.I),"RID",r),tr(t,"CVER",22),this.F&&tr(t,"X-HTTP-Session-Id",this.F),as(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(go(l)))+"&"+e:this.o&&mo(t,this.o,l)),Qs(this.i,a),this.bb&&tr(t,"TYPE","init"),this.P?(tr(t,"$req",e),tr(t,"SID","null"),a.aa=!0,wn(a,t,null)):wn(a,t,e),this.H=2}}else 3==this.H&&(r?Ka(this,r):0==this.j.length||Aa(this.i)||Ka(this))},Ae.Ma=function(){if(this.u=null,wt(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=xn(Ft(this.jb,this),r)}},Ae.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vi(10),Ro(this),wt(this))},Ae.ib=function(){null!=this.v&&(this.v=null,Ro(this),Wo(this),vi(19))},Ae.pb=function(r){r?(this.l.info("Successfully pinged google.com"),vi(2)):(this.l.info("Failed to ping google.com"),vi(1))},Ae.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ae=vo.prototype).Ba=function(){},Ae.Aa=function(){},Ae.za=function(){},Ae.ya=function(){},Ae.isActive=function(){return!0},Ae.Va=function(){},Ps.prototype.g=function(r,e){return new Yi(r,e)},Dt(Yi,pr),Yi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;vi(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Es(r,null,r.Y),ur(r)},Yi.prototype.close=function(){Mo(this.g)},Yi.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=kr(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ur(e)},Yi.prototype.N=function(){this.g.h=null,delete this.j,Mo(this.g),delete this.g,Yi.$.N.call(this)},Dt(qo,uo),Dt(ga,ns),Dt(ci,vo),ci.prototype.Ba=function(){Zn(this.g,"a")},ci.prototype.Aa=function(r){Zn(this.g,new qo(r))},ci.prototype.za=function(r){Zn(this.g,new ga)},ci.prototype.ya=function(){Zn(this.g,"b")},Dt(us,function zr(){this.blockSize=-1}),us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},us.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)ws(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){ws(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){ws(this,s),a=0;break}}this.h=a,this.i+=e},us.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var v={};function E(r){return-128<=r&&128>r?function On(r,e){var t=v;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new B([0|e],0>e?-1:0)}):new B([0|r],0>r?-1:0)}function P(r){if(isNaN(r)||!isFinite(r))return le;if(0>r)return kt(P(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Y;return new B(e,0)}var Y=4294967296,le=E(0),_e=E(1),Be=E(16777216);function st(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Mt(r){return-1==r.h}function kt(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new B(t,~r.h).add(_e)}function Pn(r,e){return r.add(kt(e))}function Fn(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function yn(r,e){this.g=r,this.h=e}function An(r,e){if(st(e))throw Error("division by zero");if(st(r))return new yn(le,le);if(Mt(r))return e=An(kt(r),e),new yn(kt(e.g),kt(e.h));if(Mt(e))return e=An(r,kt(e)),new yn(kt(e.g),e.h);if(30<r.g.length){if(Mt(r)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var t=_e,s=e;0>=s.X(r);)t=ar(t),s=ar(s);var a=Ir(t,1),l=Ir(s,1);for(s=Ir(s,2),t=Ir(t,2);!st(s);){var f=l.add(s);0>=f.X(r)&&(a=a.add(t),l=f),s=Ir(s,1),t=Ir(t,1)}return e=Pn(r,a.R(e)),new yn(a,e)}for(a=le;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=P(t)).R(e);Mt(f)||0<f.X(r);)f=(l=P(t-=s)).R(e);st(l)&&(l=_e),a=a.add(l),r=Pn(r,f)}return new yn(a,r)}function ar(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new B(t,r.h)}function Ir(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new B(a,r.h)}(Ae=B.prototype).ea=function(){if(Mt(this))return-kt(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Y+s)*e,e*=Y}return r},Ae.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(st(this))return"0";if(Mt(this))return"-"+kt(this).toString(r);for(var e=P(Math.pow(r,6)),t=this,s="";;){var a=An(t,e).g,l=((0<(t=Pn(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(st(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},Ae.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},Ae.X=function(r){return Mt(r=Pn(this,r))?-1:st(r)?0:1},Ae.abs=function(){return Mt(this)?kt(this):this},Ae.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new B(t,-2147483648&t[t.length-1]?-1:0)},Ae.R=function(r){if(st(this)||st(r))return le;if(Mt(this))return Mt(r)?kt(this).R(kt(r)):kt(kt(this).R(r));if(Mt(r))return kt(this.R(kt(r)));if(0>this.X(Be)&&0>r.X(Be))return P(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,f=65535&this.D(s),D=r.D(a)>>>16,O=65535&r.D(a);t[2*s+2*a]+=f*O,Fn(t,2*s+2*a),t[2*s+2*a+1]+=l*O,Fn(t,2*s+2*a+1),t[2*s+2*a+1]+=f*D,Fn(t,2*s+2*a+1),t[2*s+2*a+2]+=l*D,Fn(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new B(t,0)},Ae.gb=function(r){return An(this,r).h},Ae.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new B(t,this.h&r.h)},Ae.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new B(t,this.h|r.h)},Ae.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new B(t,this.h^r.h)},Ps.prototype.createWebChannel=Ps.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,Lr.NO_ERROR=0,Lr.TIMEOUT=8,Lr.HTTP_ERROR=6,si.COMPLETE="complete",ms.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",pr.prototype.listen=pr.prototype.O,Ar.prototype.listenOnce=Ar.prototype.P,Ar.prototype.getLastError=Ar.prototype.Sa,Ar.prototype.getLastErrorCode=Ar.prototype.Ia,Ar.prototype.getStatus=Ar.prototype.da,Ar.prototype.getResponseJson=Ar.prototype.Wa,Ar.prototype.getResponseText=Ar.prototype.ja,Ar.prototype.send=Ar.prototype.ha,Ar.prototype.setWithCredentials=Ar.prototype.Oa,us.prototype.digest=us.prototype.l,us.prototype.reset=us.prototype.reset,us.prototype.update=us.prototype.j,B.prototype.add=B.prototype.add,B.prototype.multiply=B.prototype.R,B.prototype.modulo=B.prototype.gb,B.prototype.compare=B.prototype.X,B.prototype.toNumber=B.prototype.ea,B.prototype.toString=B.prototype.toString,B.prototype.getBits=B.prototype.D,B.fromNumber=P,B.fromString=function $(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return kt($(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=P(Math.pow(e,8)),s=le,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+l),e);8>l?(l=P(Math.pow(e,l)),s=s.R(l).add(P(f))):s=(s=s.R(t)).add(P(f))}return s};var oi=Ce.createWebChannelTransport=function(){return new Ps},Nr=Ce.getStatEventTarget=function(){return or()},Br=Ce.ErrorCode=Lr,$r=Ce.EventType=si,Ns=Ce.Event=mn,A=Ce.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},F=Ce.FetchXmlHttpFactory=bi,x=Ce.WebChannel=ms,H=Ce.XhrIo=Ar,se=Ce.Md5=us,ze=Ce.Integer=B;const ut="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let cr="9.23.0";const St=new Oe.Yd("@firebase/firestore");function zt(){return St.logLevel}function Ge(r,...e){if(St.logLevel<=Oe.in.DEBUG){const t=e.map(Or);St.debug(`Firestore (${cr}): ${r}`,...t)}}function cn(r,...e){if(St.logLevel<=Oe.in.ERROR){const t=e.map(Or);St.error(`Firestore (${cr}): ${r}`,...t)}}function Vn(r,...e){if(St.logLevel<=Oe.in.WARN){const t=e.map(Or);St.warn(`Firestore (${cr}): ${r}`,...t)}}function Or(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function Kt(r="Unexpected state"){const e=`FIRESTORE (${cr}) INTERNAL ASSERTION FAILED: `+r;throw cn(e),new Error(e)}function Lt(r,e){r||Kt()}function Gt(r,e){return r}const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends be.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Os{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class Ko{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ku{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let f=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new yr,e.enqueueRetryable(()=>l(this.currentUser))};const D=()=>{const U=f;e.enqueueRetryable((0,T.Z)(function*(){yield U.promise,yield l(s.currentUser)}))},O=U=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new yr)}},0),D()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lt("string"==typeof s.accessToken),new _o(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new Ht(e)}}class ma{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gu{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new ma(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ya{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,Ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.T=t.token,new ya(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ih(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Fu{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ih(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function Nn(r,e){return r<e?-1:r>e?1:0}function xa(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class ti{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ti.fromMillis(Date.now())}static fromDate(e){return ti.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new ti(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new ti(0,0))}static max(){return new Xt(new ti(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zo{constructor(e,t,s){void 0===t?t=0:t>e.length&&Kt(),void 0===s?s=e.length-t:s>e.length-t&&Kt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zo?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class bn extends Zo{construct(e,t,s){return new bn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new mt(Le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new bn(t)}static emptyPath(){return new bn([])}}const Lu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends Zo{construct(e,t,s){return new lr(e,t,s)}static isValidIdentifier(e){return Lu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new mt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const D=e[a];if("\\"===D){if(a+1===e.length)throw new mt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new mt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===D?(f=!f,a++):"."!==D||f?(s+=D,a++):(l(),a++)}if(l(),f)throw new mt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lr(t)}static emptyPath(){return new lr([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(bn.fromString(e))}static fromName(e){return new nn(bn.fromString(e).popFirst(5))}static empty(){return new nn(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new bn(e.slice()))}}function mu(r){return new Ts(r.readTime,r.key,-1)}class Ts{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ts(Xt.min(),nn.empty(),-1)}static max(){return new Ts(Xt.max(),nn.empty(),-1)}}function eo(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=nn.comparator(r.documentKey,e.documentKey),0!==t?t:Nn(r.largestBatchId,e.largestBatchId))}const Bu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Eo(r){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,T.Z)(function*(r){if(r.code!==Le.FAILED_PRECONDITION||r.message!==Bu)throw r;Ge("LocalStore","Unexpectedly lost primary lease")}),Yo.apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,s)=>{t(e)})}static reject(e){return new We((t,s)=>{s(e)})}static waitFor(e){return new We((t,s)=>{let a=0,l=0,f=!1;e.forEach(D=>{++a,D.next(()=>{++l,f&&l===a&&t()},O=>s(O))}),f=!0,l===a&&t()})}static or(e){let t=We.resolve(!1);for(const s of e)t=t.next(a=>a?We.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new We((s,a)=>{const l=e.length,f=new Array(l);let D=0;for(let O=0;O<l;O++){const U=O;t(e[U]).next(q=>{f[U]=q,++D,D===l&&s(f)},q=>a(q))}})}static doWhile(e,t){return new We((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}function Qo(r){return"IndexedDbTransactionError"===r.name}let ls=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Xa(r){return null==r}function Oa(r){return 0===r&&1/r==-1/0}function Ds(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ji(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function wo(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||ii.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ii.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ii.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ii{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??ii.RED,this.left=a??ii.EMPTY,this.right=l??ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new ii(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return ii.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();const e=this.left.check();if(e!==this.right.check())throw Kt();return e+(this.isRed()?0:1)}}ii.EMPTY=null,ii.RED=!0,ii.BLACK=!1,ii.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt()}get value(){throw Kt()}get color(){throw Kt()}get left(){throw Kt()}get right(){throw Kt()}copy(r,e,t,s,a){return this}insert(r,e,t){return new ii(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class li{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new El(this.data.getIterator())}getIteratorFrom(e){return new El(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof li)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new li(this.comparator);return t.data=e,t}}class El{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class hs{constructor(e){this.fields=e,e.sort(lr.comparator)}static empty(){return new hs([])}unionWith(e){let t=new li(lr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new hs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class _u extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _u("Invalid base64 string: "+a):a}}(e);return new Xi(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const eu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Io(r){if(Lt(!!r),"string"==typeof r){let e=0;const t=eu.exec(r);if(Lt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ei(r.seconds),nanos:Ei(r.nanos)}}function Ei(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function La(r){return"string"==typeof r?Xi.fromBase64String(r):Xi.fromUint8Array(r)}function Ua(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Oc(r){const e=r.mapValue.fields.__previous_value__;return Ua(e)?Oc(e):e}function zu(r){const e=Io(r.mapValue.fields.__local_write_time__.timestampValue);return new ti(e.seconds,e.nanos)}class tu{constructor(e,t,s,a,l,f,D,O,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=D,this.longPollingOptions=O,this.useFetchStreams=U}}class nu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ru(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ua(r)?4:oh(r)?9007199254740991:10:Kt()}function Oo(r,e){if(r===e)return!0;const t=ru(r);if(t!==ru(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zu(r).isEqual(zu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Io(s.timestampValue),f=Io(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,La(r.bytesValue).isEqual(La(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return Ei(s.geoPointValue.latitude)===Ei(a.geoPointValue.latitude)&&Ei(s.geoPointValue.longitude)===Ei(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ei(s.integerValue)===Ei(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Ei(s.doubleValue),f=Ei(a.doubleValue);return l===f?Oa(l)===Oa(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return xa(r.arrayValue.values||[],e.arrayValue.values||[],Oo);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Ds(l)!==Ds(f))return!1;for(const D in l)if(l.hasOwnProperty(D)&&(void 0===f[D]||!Oo(l[D],f[D])))return!1;return!0}(r,e);default:return Kt()}var a}function Eu(r,e){return void 0!==(r.values||[]).find(t=>Oo(t,e))}function ia(r,e){if(r===e)return 0;const t=ru(r),s=ru(e);if(t!==s)return Nn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nn(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=Ei(a.integerValue||a.doubleValue),D=Ei(l.integerValue||l.doubleValue);return f<D?-1:f>D?1:f===D?0:isNaN(f)?isNaN(D)?0:-1:1}(r,e);case 3:return oc(r.timestampValue,e.timestampValue);case 4:return oc(zu(r),zu(e));case 5:return Nn(r.stringValue,e.stringValue);case 6:return function(a,l){const f=La(a),D=La(l);return f.compareTo(D)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),D=l.split("/");for(let O=0;O<f.length&&O<D.length;O++){const U=Nn(f[O],D[O]);if(0!==U)return U}return Nn(f.length,D.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=Nn(Ei(a.latitude),Ei(l.latitude));return 0!==f?f:Nn(Ei(a.longitude),Ei(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],D=l.values||[];for(let O=0;O<f.length&&O<D.length;++O){const U=ia(f[O],D[O]);if(U)return U}return Nn(f.length,D.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===Ba.mapValue&&l===Ba.mapValue)return 0;if(a===Ba.mapValue)return 1;if(l===Ba.mapValue)return-1;const f=a.fields||{},D=Object.keys(f),O=l.fields||{},U=Object.keys(O);D.sort(),U.sort();for(let q=0;q<D.length&&q<U.length;++q){const ce=Nn(D[q],U[q]);if(0!==ce)return ce;const je=ia(f[D[q]],O[U[q]]);if(0!==je)return je}return Nn(D.length,U.length)}(r.mapValue,e.mapValue);default:throw Kt()}}function oc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Nn(r,e);const t=Io(r),s=Io(e),a=Nn(t.seconds,s.seconds);return 0!==a?a:Nn(t.nanos,s.nanos)}function Va(r){return ac(r)}function ac(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=Io(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?La(r.bytesValue).toBase64():"referenceValue"in r?nn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=ac(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const D of a)f?f=!1:l+=",",l+=`${D}:${ac(s.fields[D])}`;return l+"}"}(r.mapValue):Kt();var e}function ko(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Gu(r){return!!r&&"integerValue"in r}function wu(r){return!!r&&"arrayValue"in r}function Iu(r){return!!r&&"nullValue"in r}function Wu(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qu(r){return!!r&&"mapValue"in r}function Tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ji(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Tu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function oh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Si{constructor(e){this.value=e}static empty(){return new Si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!qu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=lr.emptyPath(),s={},a=[];e.forEach((f,D)=>{if(!t.isImmediateParentOf(D)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=D.popLast()}f?s[D.lastSegment()]=Tu(f):a.push(D.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());qu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];qu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ji(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Si(Tu(this.value))}}function iu(r){const e=[];return Ji(r.fields,(t,s)=>{const a=new lr([t]);if(qu(s)){const l=iu(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new hs(e)}class di{constructor(e,t,s,a,l,f,D){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=f,this.documentState=D}static newInvalidDocument(e){return new di(e,0,Xt.min(),Xt.min(),Xt.min(),Si.empty(),0)}static newFoundDocument(e,t,s,a){return new di(e,1,t,Xt.min(),s,a,0)}static newNoDocument(e,t){return new di(e,2,t,Xt.min(),Xt.min(),Si.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,Xt.min(),Xt.min(),Si.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bs{constructor(e,t){this.position=e,this.inclusive=t}}function $a(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],f=r.position[a];if(s=l.field.isKeyField()?nn.comparator(nn.fromName(f.referenceValue),t.key):ia(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function wl(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Oo(r.position[t],e.position[t]))return!1;return!0}class Fo{constructor(e,t="asc"){this.field=e,this.dir=t}}function ud(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Fc{}class Cr extends Fc{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new Je(e,t,s):"array-contains"===t?new zn(e,s):"in"===t?new qn(e,s):"not-in"===t?new ro(e,s):"array-contains-any"===t?new fs(e,s):new Cr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new en(e,s):new Qt(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ia(t,this.value)):null!==t&&ru(this.value)===ru(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Gr extends Fc{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Gr(e,t)}matches(e){return Du(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Du(r){return"and"===r.op}function I(r){return function M(r){for(const e of r.filters)if(e instanceof Gr)return!1;return!0}(r)&&Du(r)}function k(r){if(r instanceof Cr)return r.field.canonicalString()+r.op.toString()+Va(r.value);if(I(r))return r.filters.map(e=>k(e)).join(",");{const e=r.filters.map(t=>k(t)).join(",");return`${r.op}(${e})`}}function J(r,e){return r instanceof Cr?(t=r,(s=e)instanceof Cr&&t.op===s.op&&t.field.isEqual(s.field)&&Oo(t.value,s.value)):r instanceof Gr?function(t,s){return s instanceof Gr&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,f)=>a&&J(l,s.filters[f]),!0)}(r,e):void Kt();var t,s}function Ne(r){return r instanceof Cr?`${(e=r).field.canonicalString()} ${e.op} ${Va(e.value)}`:r instanceof Gr?function(e){return e.op.toString()+" {"+e.getFilters().map(Ne).join(" ,")+"}"}(r):"Filter";var e}class Je extends Cr{constructor(e,t,s){super(e,t,s),this.key=nn.fromName(s.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class en extends Cr{constructor(e,t){super(e,"in",t),this.keys=En(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qt extends Cr{constructor(e,t){super(e,"not-in",t),this.keys=En(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function En(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nn.fromName(s.referenceValue))}class zn extends Cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wu(t)&&Eu(t.arrayValue,this.value)}}class qn extends Cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eu(this.value.arrayValue,t)}}class ro extends Cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eu(this.value.arrayValue,t)}}class fs extends Cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}class lc{constructor(e,t=null,s=[],a=[],l=null,f=null,D=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=D,this.dt=null}}function Zu(r,e=null,t=[],s=[],a=null,l=null,f=null){return new lc(r,e,t,s,a,l,f)}function Lo(r){const e=Gt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>k(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Xa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Va(s)).join(",")),e.dt=t}return e.dt}function io(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ud(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!J(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wl(r.startAt,e.startAt)&&wl(r.endAt,e.endAt)}function Uo(r){return nn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ja{constructor(e,t=null,s=[],a=[],l=null,f="F",D=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=D,this.endAt=O,this.wt=null,this._t=null}}function bu(r){return new ja(r)}function Il(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Tl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function ou(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Lc(r){return null!==r.collectionGroup}function au(r){const e=Gt(r);if(null===e.wt){e.wt=[];const t=ou(e),s=Tl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new Fo(t)),e.wt.push(new Fo(lr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Fo(lr.keyField(),l))}}}return e.wt}function To(r){const e=Gt(r);if(!e._t)if("F"===e.limitType)e._t=Zu(e.path,e.collectionGroup,au(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of au(e))t.push(new Fo(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new bs(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new bs(e.startAt.position,e.startAt.inclusive):null;e._t=Zu(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function Uc(r,e){e.getFirstInequalityField(),ou(r);const t=r.filters.concat([e]);return new ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Bc(r,e,t){return new ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Cu(r,e){return io(To(r),To(e))&&r.limitType===e.limitType}function dd(r){return`${Lo(To(r))}|lt:${r.limitType}`}function uh(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Ne(s)).join(", ")}]`),Xa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Va(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Va(s)).join(",")),`Target(${t})`}(To(r))}; limitType=${r.limitType})`}function Yu(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of au(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,f){const D=$a(a,l,f);return a.inclusive?D<=0:D<0}(t.startAt,au(t),s)||t.endAt&&!function(a,l,f){const D=$a(a,l,f);return a.inclusive?D>=0:D>0}(t.endAt,au(t),s)));var t,s}function hd(r){return(e,t)=>{let s=!1;for(const a of au(r)){const l=fd(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function fd(r,e,t){const s=r.field.isKeyField()?nn.comparator(e.key,t.key):function(a,l,f){const D=l.data.field(a),O=f.data.field(a);return null!==D&&null!==O?ia(D,O):Kt()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Kt()}}class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return wo(this.inner)}size(){return this.innerSize}}const pd=new Yn(nn.comparator);function Bo(){return pd}const kf=new Yn(nn.comparator);function Vc(...r){let e=kf;for(const t of r)e=e.insert(t.key,t);return e}function lh(r){let e=kf;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Do(){return $c()}function dh(){return $c()}function $c(){return new Ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const Tg=new Yn(nn.comparator),Py=new li(nn.comparator);function ir(...r){let e=Py;for(const t of r)e=e.add(t);return e}const Dg=new li(Nn);function hh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oa(e)?"-0":e}}function md(r){return{integerValue:""+r}}function yd(r,e){return function _l(r){return"number"==typeof r&&Number.isInteger(r)&&!Oa(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?md(e):hh(r,e)}class Dl{constructor(){this._=void 0}}function vd(r,e,t){return r instanceof Qu?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ua(a)&&(a=Oc(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof Su?Ed(r,e):r instanceof za?Ff(r,e):function(s,a){const l=fh(s,a),f=Lf(l)+Lf(s.gt);return Gu(l)&&Gu(s.gt)?md(f):hh(s.serializer,f)}(r,e)}function _d(r,e,t){return r instanceof Su?Ed(r,e):r instanceof za?Ff(r,e):t}function fh(r,e){return r instanceof dc?Gu(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Qu extends Dl{}class Su extends Dl{constructor(e){super(),this.elements=e}}function Ed(r,e){const t=Uf(e);for(const s of r.elements)t.some(a=>Oo(a,s))||t.push(s);return{arrayValue:{values:t}}}class za extends Dl{constructor(e){super(),this.elements=e}}function Ff(r,e){let t=Uf(e);for(const s of r.elements)t=t.filter(a=>!Oo(a,s));return{arrayValue:{values:t}}}class dc extends Dl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Lf(r){return Ei(r.integerValue||r.doubleValue)}function Uf(r){return wu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Vf{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Au{}function $f(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new hc(r.key,wi.none()):new Hc(r.key,r.data,wi.none());{const t=r.data,s=Si.empty();let a=new li(lr.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),a=a.add(l)}return new uu(r.key,s,new hs(a.toArray()),wi.none())}}function bg(r,e,t){r instanceof Hc?function(s,a,l){const f=s.value.clone(),D=Td(s.fieldTransforms,a,l.transformResults);f.setAll(D),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof uu?function(s,a,l){if(!jc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=Td(s.fieldTransforms,a,l.transformResults),D=a.data;D.setAll(zc(s)),D.setAll(f),a.convertToFoundDocument(l.version,D).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wd(r,e,t,s){return r instanceof Hc?function(a,l,f,D){if(!jc(a.precondition,l))return f;const O=a.value.clone(),U=ph(a.fieldTransforms,D,l);return O.setAll(U),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(r,e,t,s):r instanceof uu?function(a,l,f,D){if(!jc(a.precondition,l))return f;const O=ph(a.fieldTransforms,D,l),U=l.data;return U.setAll(zc(a)),U.setAll(O),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(q=>q.field))}(r,e,t,s):(f=t,jc(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function Cg(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=fh(s.transform,a||null);null!=l&&(null===t&&(t=Si.empty()),t.set(s.field,l))}return t||null}function Id(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&xa(t,s,(a,l)=>function Bf(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Su&&s instanceof Su||t instanceof za&&s instanceof za?xa(t.elements,s.elements,Oo):t instanceof dc&&s instanceof dc?Oo(t.gt,s.gt):t instanceof Qu&&s instanceof Qu);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class Hc extends Au{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class uu extends Au{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zc(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Td(r,e,t){const s=new Map;Lt(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],f=l.transform,D=e.data.field(l.field);s.set(l.field,_d(f,D,t[a]))}return s}function ph(r,e,t){const s=new Map;for(const a of r){const l=a.transform,f=t.data.field(a.field);s.set(a.field,vd(l,f,e))}return s}class hc extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dd extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cu{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&bg(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=dh();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let D=this.applyToLocalView(f,l.mutatedFields);D=t.has(a.key)?null:D;const O=$f(f,D);null!==O&&s.set(a.key,O),f.isValidDocument()||f.convertToNoDocument(Xt.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ir())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(t,s)=>Id(t,s))&&xa(this.baseMutations,e.baseMutations,(t,s)=>Id(t,s))}}class gh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Lt(e.mutations.length===s.length);let a=Tg;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new gh(e,t,s,a)}}class mh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ag{constructor(e,t){this.count=e,this.unchangedNames=t}}var Cs,vr;function jf(r){if(void 0===r)return cn("GRPC error has no .code"),Le.UNKNOWN;switch(r){case Cs.OK:return Le.OK;case Cs.CANCELLED:return Le.CANCELLED;case Cs.UNKNOWN:return Le.UNKNOWN;case Cs.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Cs.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Cs.INTERNAL:return Le.INTERNAL;case Cs.UNAVAILABLE:return Le.UNAVAILABLE;case Cs.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Cs.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Cs.NOT_FOUND:return Le.NOT_FOUND;case Cs.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Cs.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Cs.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Cs.ABORTED:return Le.ABORTED;case Cs.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Cs.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Cs.DATA_LOSS:return Le.DATA_LOSS;default:return Kt()}}(vr=Cs||(Cs={}))[vr.OK=0]="OK",vr[vr.CANCELLED=1]="CANCELLED",vr[vr.UNKNOWN=2]="UNKNOWN",vr[vr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vr[vr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vr[vr.NOT_FOUND=5]="NOT_FOUND",vr[vr.ALREADY_EXISTS=6]="ALREADY_EXISTS",vr[vr.PERMISSION_DENIED=7]="PERMISSION_DENIED",vr[vr.UNAUTHENTICATED=16]="UNAUTHENTICATED",vr[vr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vr[vr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vr[vr.ABORTED=10]="ABORTED",vr[vr.OUT_OF_RANGE=11]="OUT_OF_RANGE",vr[vr.UNIMPLEMENTED=12]="UNIMPLEMENTED",vr[vr.INTERNAL=13]="INTERNAL",vr[vr.UNAVAILABLE=14]="UNAVAILABLE",vr[vr.DATA_LOSS=15]="DATA_LOSS";class yh{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return w}static getOrCreateInstance(){return null===w&&(w=new yh),w}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let w=null;const p=new ze([4294967295,4294967295],0);function C(r){const e=function d(){return new TextEncoder}().encode(r),t=new se;return t.update(e),new Uint8Array(t.digest())}function V(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ze([t,s],0),new ze([a,l],0)]}class K{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Me(`Invalid padding: ${t}`);if(s<0)throw new Me(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Me(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Me(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ze.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(ze.fromNumber(s)));return 1===a.compare(p)&&(a=new ze([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=C(e),[s,a]=V(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new K(l,a,t);return s.forEach(D=>f.insert(D)),f}insert(e){if(0===this.It)return;const t=C(e),[s,a]=V(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Me extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tt{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,jt.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new tt(Xt.min(),a,new Yn(Nn),Bo(),ir())}}class jt{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new jt(s,t,ir(),ir(),ir())}}class rn{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class vn{constructor(e,t){this.targetId=e,this.Vt=t}}class mr{constructor(e,t,s=Xi.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class so{constructor(){this.St=0,this.Dt=vh(),this.Ct=Xi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ir(),t=ir(),s=ir();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Kt()}}),new jt(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=vh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Bo(),this.zt=pc(),this.Wt=new Yn(Nn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:Kt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(Uo(f))if(0===a){const D=new nn(f.path);this.Yt(s,D,di.newNoDocument(D,Xt.min()))}else Lt(1===a);else{const D=this.ie(s);if(D!==a){const O=this.re(e,D);0!==O&&(this.ee(s),this.Wt=this.Wt.insert(s,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=yh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,q,ce){var je,pt,Ut,dn,hn,Tr;const Yr={localCacheCount:q,existenceFilterCount:ce.count},Mr=ce.unchangedNames;return Mr&&(Yr.bloomFilter={applied:0===U,hashCount:null!==(je=Mr?.hashCount)&&void 0!==je?je:0,bitmapLength:null!==(dn=null===(Ut=null===(pt=Mr?.bits)||void 0===pt?void 0:pt.bitmap)||void 0===Ut?void 0:Ut.length)&&void 0!==dn?dn:0,padding:null!==(Tr=null===(hn=Mr?.bits)||void 0===hn?void 0:hn.padding)&&void 0!==Tr?Tr:0}),Yr}(O,D,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:D=0}=s;let O,U;try{O=La(l).toUint8Array()}catch(q){if(q instanceof _u)return Vn("Decoding the base64 bloom filter in existence filter failed ("+q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw q}try{U=new K(O,f,D)}catch(q){return Vn(q instanceof Me?"BloomFilter error: ":"Applying bloom filter failed: ",q),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const f=this.Gt.ue(),D=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(D)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const D=this.se(f);if(D){if(l.current&&Uo(D.target)){const O=new nn(D.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,di.newNoDocument(O,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=ir();this.zt.forEach((l,f)=>{let D=!0;f.forEachWhile(O=>{const U=this.se(O);return!U||"TargetPurposeLimboResolution"===U.purpose||(D=!1,!1)}),D&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new tt(e,t,this.Wt,this.jt,s);return this.jt=Bo(),this.zt=pc(),this.Wt=new Yn(Nn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new so,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new li(Nn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new so),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function pc(){return new Yn(nn.comparator)}function vh(){return new Yn(nn.comparator)}const _h={asc:"ASCENDING",desc:"DESCENDING"},Hf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cl={and:"AND",or:"OR"};class Gc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bd(r,e){return r.useProto3Json||Xa(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wc(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Eh(r,e){return gc(r,e.toTimestamp())}function es(r){return Lt(!!r),Xt.fromTimestamp(function(e){const t=Io(e);return new ti(t.seconds,t.nanos)}(r))}function qc(r,e){return(t=r,new bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wh(r){const e=bn.fromString(r);return Lt(Kf(e)),e}function Sl(r,e){return qc(r.databaseId,e.path)}function wa(r,e){const t=wh(e);if(t.get(1)!==r.databaseId.projectId)throw new mt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new mt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new nn(ps(t))}function Ih(r,e){return qc(r.databaseId,e)}function Cd(r){return new bn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ps(r){return Lt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function zf(r,e,t){return{name:Sl(r,e),fields:t.value.mapValue.fields}}function xg(r,e){return{documents:[Ih(r,e.path)]}}function Dh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ih(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ih(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return Og(Gr.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(O){if(0!==O.length)return O.map(U=>{return{field:Ju((q=U).field),direction:qf(q.dir)};var q})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=bd(r,e.limit);var D,O;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function Oy(r){let e=function Th(r){const e=wh(r);return 4===e.length?bn.emptyPath():ps(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Lt(1===s);const q=t.from[0];q.allDescendants?a=q.collectionId:e=e.child(q.collectionId)}let l=[];t.where&&(l=function(q){const ce=Al(q);return ce instanceof Gr&&I(ce)?ce.getFilters():[ce]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(q=>{return new Fo(Ml((ce=q).field),function(je){switch(je){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ce.direction));var ce}));let D=null;t.limit&&(D=function(q){let ce;return ce="object"==typeof q?q.value:q,Xa(ce)?null:ce}(t.limit));let O=null;var q;t.startAt&&(O=new bs((q=t.startAt).values||[],!!q.before));let U=null;return t.endAt&&(U=function(q){return new bs(q.values||[],!q.before)}(t.endAt)),function ld(r,e,t,s,a,l,f,D){return new ja(r,e,t,s,a,l,f,D)}(e,a,f,l,D,"F",O,U)}function Al(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ml(e.unaryFilter.field);return Cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=Ml(e.unaryFilter.field);return Cr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ml(e.unaryFilter.field);return Cr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ml(e.unaryFilter.field);return Cr.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Kt()}}(r):void 0!==r.fieldFilter?Cr.create(Ml((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Gr.create(e.compositeFilter.filters.map(t=>Al(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Kt()}}(e.compositeFilter.op))}(r):Kt();var e}function qf(r){return _h[r]}function Pg(r){return Hf[r]}function Ng(r){return Cl[r]}function Ju(r){return{fieldPath:r.canonicalString()}}function Ml(r){return lr.fromServerFormat(r.fieldPath)}function Og(r){return r instanceof Cr?function(e){if("=="===e.op){if(Wu(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NAN"}};if(Iu(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wu(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NAN"}};if(Iu(e.value))return{unaryFilter:{field:Ju(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ju(e.field),op:Pg(e.op),value:e.value}}}(r):r instanceof Gr?function(e){const t=e.getFilters().map(s=>Og(s));return 1===t.length?t[0]:{compositeFilter:{op:Ng(e.op),filters:t}}}(r):Kt()}function kg(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kf(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class du{constructor(e,t,s,a,l=Xt.min(),f=Xt.min(),D=Xi.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=D,this.expectedCount=O}withSequenceNumber(e){return new du(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ky{constructor(e){this.fe=e}}function xl(r){const e=Oy({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Bc(e,e.limit,"L"):e}class vc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ei(e.integerValue));else if("doubleValue"in e){const s=Ei(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),Oa(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(La(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?oh(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Kt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),nn.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}vc.Ve=new vc;class Uy{constructor(){this.rn=new xh}addToCollectionParentIndex(e,t){return this.rn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(Ts.min())}updateCollectionGroup(e,t,s){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class xh{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new li(bn.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new li(bn.comparator)).toArray()}}new Uint8Array(0);class Vo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Vo(e,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class Zc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zc(0)}static Mn(){return new Zc(-1)}}class Vy{constructor(){this.changes=new Ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?We.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class jy{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dr{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&wd(s.mutation,a,hs.empty(),ti.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ir()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ir()){const a=Do();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let f=Vc();return l.forEach((D,O)=>{f=f.insert(D,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Do();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ir()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,D)=>{t.set(f,D)})})}computeViews(e,t,s,a){let l=Bo();const f=$c(),D=$c();return t.forEach((O,U)=>{const q=s.get(U.key);a.has(U.key)&&(void 0===q||q.mutation instanceof uu)?l=l.insert(U.key,U):void 0!==q?(f.set(U.key,q.mutation.getFieldMask()),wd(q.mutation,U,q.mutation.getFieldMask(),ti.now())):f.set(U.key,hs.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((U,q)=>f.set(U,q)),t.forEach((U,q)=>{var ce;return D.set(U,new jy(q,null!==(ce=f.get(U))&&void 0!==ce?ce:null))}),D))}recalculateAndSaveOverlays(e,t){const s=$c();let a=new Yn((f,D)=>f-D),l=ir();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const D of f)D.keys().forEach(O=>{const U=t.get(O);if(null===U)return;let q=s.get(O)||hs.empty();q=D.applyToLocalView(U,q),s.set(O,q);const ce=(a.get(D.batchId)||ir()).add(O);a=a.insert(D.batchId,ce)})}).next(()=>{const f=[],D=a.getReverseIterator();for(;D.hasNext();){const O=D.getNext(),U=O.key,q=O.value,ce=dh();q.forEach(je=>{if(!l.has(je)){const pt=$f(t.get(je),s.get(je));null!==pt&&ce.set(je,pt),l=l.add(je)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,ce))}return We.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return nn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Lc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):We.resolve(Do());let D=-1,O=l;return f.next(U=>We.forEach(U,(q,ce)=>(D<ce.largestBatchId&&(D=ce.largestBatchId),l.get(q)?We.resolve():this.remoteDocumentCache.getEntry(e,q).next(je=>{O=O.insert(q,je)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,O,U,ir())).next(q=>({batchId:D,changes:lh(q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(s=>{let a=Vc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=Vc();return this.indexManager.getCollectionParents(e,a).next(f=>We.forEach(f,D=>{const O=(U=t,q=D.child(a),new ja(q,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,q;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(U=>{U.forEach((q,ce)=>{l=l.insert(q,ce)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((D,O)=>{const U=O.getKey();null===l.get(U)&&(l=l.insert(U,di.newInvalidDocument(U)))});let f=Vc();return l.forEach((D,O)=>{const U=a.get(D);void 0!==U&&wd(U.mutation,O,hs.empty(),ti.now()),Yu(t,O)&&(f=f.insert(D,O))}),f})}}class em{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return We.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:es(s.createTime)}),We.resolve()}getNamedQuery(e,t){return We.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:xl(s.bundledQuery),readTime:es(s.readTime)}),We.resolve();var s}}class tm{constructor(){this.overlays=new Yn(nn.comparator),this.ls=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Do();return We.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),We.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),We.resolve()}getOverlaysForCollection(e,t,s){const a=Do(),l=t.length+1,f=new nn(t.child("")),D=this.overlays.getIteratorFrom(f);for(;D.hasNext();){const O=D.getNext().value,U=O.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===l&&O.largestBatchId>s&&a.set(O.getKey(),O)}return We.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Yn((U,q)=>U-q);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let q=l.get(U.largestBatchId);null===q&&(q=Do(),l=l.insert(U.largestBatchId,q)),q.set(U.getKey(),U)}}const D=Do(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,q)=>D.set(U,q)),!(D.size()>=a)););return We.resolve(D)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mh(t,s));let l=this.ls.get(t);void 0===l&&(l=ir(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class kh{constructor(){this.fs=new li(oo.ds),this.ws=new li(oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new oo(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new oo(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new nn(new bn([])),s=new oo(t,e),a=new oo(t,e+1),l=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new nn(new bn([])),s=new oo(t,e),a=new oo(t,e+1);let l=ir();return this.ws.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new oo(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class oo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return nn.comparator(e.key,t.key)||Nn(e.As,t.As)}static _s(e,t){return Nn(e.As,t.As)||nn.comparator(e.key,t.key)}}class Hy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new li(oo.ds)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const f=new cu(l,t,s,a);this.mutationQueue.push(f);for(const D of a)this.Rs=this.Rs.add(new oo(D.key,l)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return We.resolve(f)}lookupMutationBatch(e,t){return We.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return We.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new oo(t,0),a=new oo(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],f=>{const D=this.Ps(f.As);l.push(D)}),We.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new li(Nn);return t.forEach(a=>{const l=new oo(a,0),f=new oo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],D=>{s=s.add(D.As)})}),We.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;nn.isDocumentKey(l)||(l=l.child(""));const f=new oo(new nn(l),0);let D=new li(Nn);return this.Rs.forEachWhile(O=>{const U=O.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(D=D.add(O.As)),!0)},f),We.resolve(this.Vs(D))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return We.forEach(t.mutations,a=>{const l=new oo(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new oo(t,0),a=this.Rs.firstAfterOrEqual(s);return We.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return We.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class nm{constructor(e){this.Ds=e,this.docs=new Yn(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return We.resolve(s?s.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let s=Bo();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():di.newInvalidDocument(a))}),We.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Bo();const f=t.path,D=new nn(f.child("")),O=this.docs.getIteratorFrom(D);for(;O.hasNext();){const{key:U,value:{document:q}}=O.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||eo(mu(q),s)<=0||(a.has(q.key)||Yu(t,q))&&(l=l.insert(q.key,q.mutableCopy()))}return We.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Kt()}Cs(e,t){return We.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new zy(this)}getSize(e){return We.resolve(this.size)}}class zy extends Vy{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),We.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rm{constructor(e){this.persistence=e,this.xs=new Ha(t=>Lo(t),io),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kh,this.targetCount=0,this.Ms=Zc.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),We.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Zc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.Fn(t),We.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((f,D)=>{D.sequenceNumber<=t&&null===s.get(D.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,D.targetId)),a++)}),We.waitFor(l).next(()=>a)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return We.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),We.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),We.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),We.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return We.resolve(s)}containsKey(e,t){return We.resolve(this.ks.containsKey(t))}}class sp{constructor(e,t){this.$s={},this.overlays={},this.Os=new ls(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rm(this),this.indexManager=new Uy,this.remoteDocumentCache=new nm(s=>this.referenceDelegate.Ls(s)),this.serializer=new ky(t),this.qs=new em(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new Hy(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){Ge("MemoryPersistence","Starting transaction:",e);const a=new Gy(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return We.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Gy extends cs{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Qs=new kh,this.js=null}static zs(e){return new op(e)}get Ws(){if(this.js)return this.js;throw Kt()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),We.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),We.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Ws,s=>{const a=nn.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,Xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return We.or([()=>We.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class om{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=ir(),a=ir();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new om(e,t.fromCache,s,a)}}class Wy{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Il(t))return We.resolve(null);let s=To(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Bc(t,null,"F"),s=To(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=ir(...l);return this.Ui.getDocuments(e,f).next(D=>this.indexManager.getMinOffset(e,s).next(O=>{const U=this.ji(t,D);return this.zi(t,U,f,O.readTime)?this.Ki(e,Bc(t,null,"F")):this.Wi(e,U,t,O)}))})))}Gi(e,t,s,a){return Il(t)||a.isEqual(Xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,a)?this.Qi(e,t):(zt()<=Oe.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),uh(t)),this.Wi(e,f,t,function Uu(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Xt.fromTimestamp(1e9===s?new ti(t+1,0):new ti(t,s));return new Ts(a,nn.empty(),e)}(a,-1)))})}ji(e,t){let s=new li(hd(e));return t.forEach((a,l)=>{Yu(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return zt()<=Oe.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",uh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ts.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class qy{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new Yn(Nn),this.Yi=new Ha(l=>Lo(l),io),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dr(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ky(r,e){return cp.apply(this,arguments)}function cp(){return cp=(0,T.Z)(function*(r,e){const t=Gt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],D=[];let O=ir();for(const U of a){f.push(U.batchId);for(const q of U.mutations)O=O.add(q.key)}for(const U of l){D.push(U.batchId);for(const q of U.mutations)O=O.add(q.key)}return t.localDocuments.getDocuments(s,O).next(U=>({er:U,removedBatchIds:f,addedBatchIds:D}))})})}),cp.apply(this,arguments)}function am(r){const e=Gt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Zy(r,e){const t=Gt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ll(r,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,T.Z)(function*(r,e,t){const s=Gt(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Qo(f))throw f;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),lp.apply(this,arguments)}function Lh(r,e,t){const s=Gt(r);let a=Xt.min(),l=ir();return s.persistence.runTransaction("Execute query","readonly",f=>function(D,O,U){const q=Gt(D),ce=q.Yi.get(U);return void 0!==ce?We.resolve(q.Ji.get(ce)):q.Bs.getTargetData(O,U)}(s,f,To(e)).next(D=>{if(D)return a=D.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,D.targetId).next(O=>{l=O})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:Xt.min(),t?l:ir())).next(D=>(function dp(r,e,t){let s=r.Xi.get(e)||Xt.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}(s,function ch(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),D),{documents:D,ir:l})))}class Vh{constructor(){this.activeTargetIds=function gd(){return Dg}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hm{constructor(){this.Hr=new Vh,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Vh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $h{Yr(e){}shutdown(){}}class el{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ul=null;function tl(){return null===Ul?Ul=268435456+Math.round(2147483648*Math.random()):Ul++,"0x"+Ul.toString(16)}const mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const bo="WebChannelConnection";class yp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const f=tl(),D=this.To(e,t);Ge("RestConnection",`Sending RPC '${e}' ${f}:`,D,s);const O={};return this.Eo(O,a,l),this.Ao(e,D,O,s).then(U=>(Ge("RestConnection",`Received RPC '${e}' ${f}: `,U),U),U=>{throw Vn("RestConnection",`RPC '${e}' ${f} failed with error: `,U,"url: ",D,"request:",s),U})}vo(e,t,s,a,l,f){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+cr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${mp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=tl();return new Promise((f,D)=>{const O=new H;O.setWithCredentials(!0),O.listenOnce($r.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case Br.NO_ERROR:const q=O.getResponseJson();Ge(bo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(q)),f(q);break;case Br.TIMEOUT:Ge(bo,`RPC '${e}' ${l} timed out`),D(new mt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Br.HTTP_ERROR:const ce=O.getStatus();if(Ge(bo,`RPC '${e}' ${l} failed with status:`,ce,"response text:",O.getResponseText()),ce>0){let je=O.getResponseJson();Array.isArray(je)&&(je=je[0]);const pt=je?.error;if(pt&&pt.status&&pt.message){const Ut=function(dn){const hn=dn.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(hn)>=0?hn:Le.UNKNOWN}(pt.status);D(new mt(Ut,pt.message))}else D(new mt(Le.UNKNOWN,"Server responded with status "+O.getStatus()))}else D(new mt(Le.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{Ge(bo,`RPC '${e}' ${l} completed.`)}});const U=JSON.stringify(a);Ge(bo,`RPC '${e}' ${l} sending request:`,a),O.send(t,"POST",U,s,15)})}Ro(e,t,s){const a=tl(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=oi(),D=Nr(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(O.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(O.xmlHttpFactory=new F({})),this.Eo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const q=l.join("");Ge(bo,`Creating RPC '${e}' stream ${a}: ${q}`,O);const ce=f.createWebChannel(q,O);let je=!1,pt=!1;const Ut=new jh({ro:hn=>{pt?Ge(bo,`Not sending because RPC '${e}' stream ${a} is closed:`,hn):(je||(Ge(bo,`Opening RPC '${e}' stream ${a} transport.`),ce.open(),je=!0),Ge(bo,`RPC '${e}' stream ${a} sending:`,hn),ce.send(hn))},oo:()=>ce.close()}),dn=(hn,Tr,Yr)=>{hn.listen(Tr,Mr=>{try{Yr(Mr)}catch(Ws){setTimeout(()=>{throw Ws},0)}})};return dn(ce,x.EventType.OPEN,()=>{pt||Ge(bo,`RPC '${e}' stream ${a} transport opened.`)}),dn(ce,x.EventType.CLOSE,()=>{pt||(pt=!0,Ge(bo,`RPC '${e}' stream ${a} transport closed`),Ut.wo())}),dn(ce,x.EventType.ERROR,hn=>{pt||(pt=!0,Vn(bo,`RPC '${e}' stream ${a} transport errored:`,hn),Ut.wo(new mt(Le.UNAVAILABLE,"The operation could not be completed")))}),dn(ce,x.EventType.MESSAGE,hn=>{var Tr;if(!pt){const Yr=hn.data[0];Lt(!!Yr);const Ws=Yr.error||(null===(Tr=Yr[0])||void 0===Tr?void 0:Tr.error);if(Ws){Ge(bo,`RPC '${e}' stream ${a} received error:`,Ws);const ks=Ws.status;let Fi=function(ml){const vg=Cs[ml];if(void 0!==vg)return jf(vg)}(ks),ca=Ws.message;void 0===Fi&&(Fi=Le.INTERNAL,ca="Unknown error status: "+ks+" with message "+Ws.message),pt=!0,Ut.wo(new mt(Fi,ca)),ce.close()}else Ge(bo,`RPC '${e}' stream ${a} received:`,Yr),Ut._o(Yr)}}),dn(D,Ns.STAT_EVENT,hn=>{hn.stat===A.PROXY?Ge(bo,`RPC '${e}' stream ${a} detected buffering proxy`):hn.stat===A.NOPROXY&&Ge(bo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ut.fo()},0),Ut}}function Bl(){return typeof document<"u"?document:null}function Vl(r){return new Gc(r,!0)}class $d{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&Ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class fm{constructor(e,t,s,a,l,f,D,O){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=D,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $d(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,T.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,T.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,T.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===Le.RESOURCE_EXHAUSTED?(cn(t.toString()),cn("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===Le.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new mt(Le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,T.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jy extends fm{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Rg(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:Kt(),a=e.targetChange.targetIds||[],l=function(O,U){return O.useProto3Json?(Lt(void 0===U||"string"==typeof U),Xi.fromBase64String(U||"")):(Lt(void 0===U||U instanceof Uint8Array),Xi.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,D=f&&function(O){const U=void 0===O.code?Le.UNKNOWN:jf(O.code);return new mt(U,O.message||"")}(f);t=new mr(s,a,l,D||null)}else if("documentChange"in e){const s=e.documentChange,a=wa(r,s.document.name),l=es(s.document.updateTime),f=s.document.createTime?es(s.document.createTime):Xt.min(),D=new Si({mapValue:{fields:s.document.fields}}),O=di.newFoundDocument(a,l,f,D);t=new rn(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=wa(r,s.document),l=s.readTime?es(s.readTime):Xt.min(),f=di.newNoDocument(a,l);t=new rn([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=wa(r,s.document);t=new rn([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Kt();{const s=e.filter,{count:a=0,unchangedNames:l}=s,f=new Ag(a,l);t=new vn(s.targetId,f)}}var O;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Xt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?es(l.readTime):Xt.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=Cd(this.serializer),t.addTarget=function(a,l){let f;const D=l.target;if(f=Uo(D)?{documents:xg(a,D)}:{query:Dh(a,D)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Wc(a,l.resumeToken);const O=bd(a,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(Xt.min())>0){f.readTime=gc(a,l.snapshotVersion.toTimestamp());const O=bd(a,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const s=function C_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=Cd(this.serializer),t.removeTarget=e,this.Wo(t)}}class pm extends fm{constructor(e,t,s,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Ny(r,e){return r&&r.length>0?(Lt(void 0!==e),r.map(t=>function(s,a){let l=es(s.updateTime?s.updateTime:a);return l.isEqual(Xt.min())&&(l=es(a)),new Vf(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=es(e.commitTime);return this.listener.cu(s,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Sd(r,e){let t;if(e instanceof Hc)t={update:zf(r,e.key,e.value)};else if(e instanceof hc)t={delete:Sl(r,e.key)};else if(e instanceof uu)t={update:zf(r,e.key,e.data),updateMask:kg(e.fieldMask)};else{if(!(e instanceof Dd))return Kt();t={verify:Sl(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof Qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof za)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dc)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw Kt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Eh(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Kt()),t;var a}(this.serializer,s))};this.Wo(t)}}class Xy extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new mt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new mt(Le.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(Le.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class ev{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cn(t),this.mu=!1):Ge("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tv{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(D=>{s.enqueueAndForget((0,T.Z)(function*(){var O;Tc(f)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,T.Z)(function*(U){const q=Gt(U);q.vu.add(4),yield $l(q),q.bu.set("Unknown"),q.vu.delete(4),yield Co(q)}),function(U){return O.apply(this,arguments)})(f))}))}),this.bu=new ev(s,a)}}function Co(r){return vp.apply(this,arguments)}function vp(){return vp=(0,T.Z)(function*(r){if(Tc(r))for(const e of r.Ru)yield e(!0)}),vp.apply(this,arguments)}function $l(r){return mm.apply(this,arguments)}function mm(){return mm=(0,T.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),mm.apply(this,arguments)}function jl(r,e){const t=Gt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Gh(t)?Ep(t):Dc(t).Ko()&&_p(t,e))}function Hl(r,e){const t=Gt(r),s=Dc(t);t.Au.delete(e),s.Ko()&&ym(t,e),0===t.Au.size&&(s.Ko()?s.jo():Tc(t)&&t.bu.set("Unknown"))}function _p(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Dc(r).su(e)}function ym(r,e){r.Vu.qt(e),Dc(r).iu(e)}function Ep(r){r.Vu=new lu({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),Dc(r).start(),r.bu.gu()}function Gh(r){return Tc(r)&&!Dc(r).Uo()&&r.Au.size>0}function Tc(r){return 0===Gt(r).vu.size}function vm(r){r.Vu=void 0}function wp(r){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,T.Z)(function*(r){r.Au.forEach((e,t)=>{_p(r,e)})}),Ip.apply(this,arguments)}function nv(r,e){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,T.Z)(function*(r,e){vm(r),Gh(r)?(r.bu.Iu(e),Ep(r)):r.bu.set("Unknown")}),Tp.apply(this,arguments)}function rv(r,e,t){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,T.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof mr&&2===e.state&&e.cause)try{yield(s=(0,T.Z)(function*(a,l){const f=l.cause;for(const D of l.targetIds)a.Au.has(D)&&(yield a.remoteSyncer.rejectListen(D,f),a.Au.delete(D),a.Vu.removeTarget(D))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Da(r,s)}else if(e instanceof rn?r.Vu.Ht(e):e instanceof vn?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Xt.min()))try{const s=yield am(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((D,O)=>{if(D.resumeToken.approximateByteSize()>0){const U=a.Au.get(O);U&&a.Au.set(O,U.withResumeToken(D.resumeToken,l))}}),f.targetMismatches.forEach((D,O)=>{const U=a.Au.get(D);if(!U)return;a.Au.set(D,U.withResumeToken(Xi.EMPTY_BYTE_STRING,U.snapshotVersion)),ym(a,D);const q=new du(U.target,D,O,U.sequenceNumber);_p(a,q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Ge("RemoteStore","Failed to raise snapshot:",s),yield Da(r,s)}var s}),Dp.apply(this,arguments)}function Da(r,e,t){return jd.apply(this,arguments)}function jd(){return jd=(0,T.Z)(function*(r,e,t){if(!Qo(e))throw e;r.vu.add(1),yield $l(r),r.bu.set("Offline"),t||(t=()=>am(r.localStore)),r.asyncQueue.enqueueRetryable((0,T.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Co(r)}))}),jd.apply(this,arguments)}function _m(r,e){return e().catch(t=>Da(r,t,e))}function zl(r){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,T.Z)(function*(r){const e=Gt(r),t=$o(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;iv(e);)try{const a=yield Zy(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,sv(e,a)}catch(a){yield Da(e,a)}Em(e)&&qh(e)}),Wh.apply(this,arguments)}function iv(r){return Tc(r)&&r.Eu.length<10}function sv(r,e){r.Eu.push(e);const t=$o(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function Em(r){return Tc(r)&&!$o(r).Uo()&&r.Eu.length>0}function qh(r){$o(r).start()}function ov(r){return bp.apply(this,arguments)}function bp(){return bp=(0,T.Z)(function*(r){$o(r).hu()}),bp.apply(this,arguments)}function Kh(r){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,T.Z)(function*(r){const e=$o(r);for(const t of r.Eu)e.uu(t.mutations)}),Gl.apply(this,arguments)}function Zh(r,e,t){return wm.apply(this,arguments)}function wm(){return wm=(0,T.Z)(function*(r,e,t){const s=r.Eu.shift(),a=gh.from(s,e,t);yield _m(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield zl(r)}),wm.apply(this,arguments)}function Cp(r,e){return Im.apply(this,arguments)}function Im(){return Im=(0,T.Z)(function*(r,e){var t;e&&$o(r).ou&&(yield(t=(0,T.Z)(function*(s,a){if(function fc(r){switch(r){default:return Kt();case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0}}(l=a.code)&&l!==Le.ABORTED){const f=s.Eu.shift();$o(s).Qo(),yield _m(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield zl(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),Em(r)&&qh(r)}),Im.apply(this,arguments)}function Sp(r,e){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,T.Z)(function*(r,e){const t=Gt(r);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const s=Tc(t);t.vu.add(3),yield $l(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Co(t)}),Yh.apply(this,arguments)}function Jh(){return Jh=(0,T.Z)(function*(r,e){const t=Gt(r);e?(t.vu.delete(2),yield Co(t)):e||(t.vu.add(2),yield $l(t),t.bu.set("Unknown"))}),Jh.apply(this,arguments)}function Dc(r){return r.Su||(r.Su=function(e,t,s){const a=Gt(e);return a.fu(),new Jy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:wp.bind(null,r),ao:nv.bind(null,r),nu:rv.bind(null,r)}),r.Ru.push(function(){var e=(0,T.Z)(function*(t){t?(r.Su.Qo(),Gh(r)?Ep(r):r.bu.set("Unknown")):(yield r.Su.stop(),vm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function $o(r){return r.Du||(r.Du=function(e,t,s){const a=Gt(e);return a.fu(),new pm(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:ov.bind(null,r),ao:Cp.bind(null,r),au:Kh.bind(null,r),cu:Zh.bind(null,r)}),r.Ru.push(function(){var e=(0,T.Z)(function*(t){t?(r.Du.Qo(),yield zl(r)):(yield r.Du.stop(),r.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Wl{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,D=new Wl(e,t,f,a,l);return D.start(s),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ec(r,e){if(cn("AsyncQueue",`${e}: ${r}`),Qo(r))return new mt(Le.UNAVAILABLE,`${e}: ${r}`);throw r}class Ru{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nn.comparator(t.key,s.key):(t,s)=>nn.comparator(t.key,s.key),this.keyedMap=Vc(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ru;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Tm{constructor(){this.Cu=new Yn(nn.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Kt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class nl{constructor(e,t,s,a,l,f,D,O,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=D,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,l){const f=[];return t.forEach(D=>{f.push({type:0,doc:D})}),new nl(e,t,Ru.emptySet(t),f,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Dm{constructor(){this.Nu=void 0,this.listeners=[]}}class av{constructor(){this.queries=new Ha(e=>dd(e),Cu),this.onlineState="Unknown",this.ku=new Set}}function rl(){return rl=(0,T.Z)(function*(r,e){const t=Gt(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new Dm),a)try{l.Nu=yield t.onListen(s)}catch(f){const D=ec(f,`Initialization of query '${uh(e.query)}' failed`);return void e.onError(D)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Rp(t)}),rl.apply(this,arguments)}function bm(){return bm=(0,T.Z)(function*(r,e){const t=Gt(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),bm.apply(this,arguments)}function uv(r,e){const t=Gt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const D of f.listeners)D.$u(a)&&(s=!0);f.Nu=a}}s&&Rp(t)}function cv(r,e,t){const s=Gt(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Rp(r){r.ku.forEach(e=>{e.next()})}class xp{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Xh{constructor(e){this.key=e}}class Sm{constructor(e){this.key=e}}class ef{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ir(),this.mutatedKeys=ir(),this.tc=hd(e),this.ec=new Ru(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Tm,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,D=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((q,ce)=>{const je=a.get(q),pt=Yu(this.query,ce)?ce:null,Ut=!!je&&this.mutatedKeys.has(je.key),dn=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let hn=!1;je&&pt?je.data.isEqual(pt.data)?Ut!==dn&&(s.track({type:3,doc:pt}),hn=!0):this.rc(je,pt)||(s.track({type:2,doc:pt}),hn=!0,(O&&this.tc(pt,O)>0||U&&this.tc(pt,U)<0)&&(D=!0)):!je&&pt?(s.track({type:0,doc:pt}),hn=!0):je&&!pt&&(s.track({type:1,doc:je}),hn=!0,(O||U)&&(D=!0)),hn&&(pt?(f=f.add(pt),l=dn?l.add(q):l.delete(q)):(f=f.delete(q),l=l.delete(q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const q="F"===this.query.limitType?f.last():f.first();f=f.delete(q.key),l=l.delete(q.key),s.track({type:1,doc:q})}return{ec:f,ic:s,zi:D,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((U,q)=>function(ce,je){const pt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}};return pt(ce)-pt(je)}(U.type,q.type)||this.tc(U.doc,q.doc)),this.oc(s);const f=t?this.uc():[],D=0===this.Zu.size&&this.current?1:0,O=D!==this.Xu;return this.Xu=D,0!==l.length||O?{snapshot:new nl(this.query,e.ec,a,l,e.mutatedKeys,0===D,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ir(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Sm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Xh(s))}),t}hc(e){this.Yu=e.ir,this.Zu=ir();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return nl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class hv{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class fv{constructor(e){this.key=e,this.fc=!1}}class pv{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new Ha(D=>dd(D),Cu),this._c=new Map,this.mc=new Set,this.gc=new Yn(nn.comparator),this.yc=new Map,this.Ic=new kh,this.Tc={},this.Ec=new Map,this.Ac=Zc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function gv(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,T.Z)(function*(r,e){const t=function Hp(r){const e=Gt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yv.bind(null,e),e.dc.nu=uv.bind(null,e.eventManager),e.dc.Pc=cv.bind(null,e.eventManager),e}(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const f=yield function Xc(r,e){const t=Gt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,We.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new du(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,To(e)),D=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function Op(r,e,t,s,a){return kp.apply(this,arguments)}(t,e,s,"current"===D,f.resumeToken),t.isPrimaryClient&&jl(t.remoteStore,f)}return a}),Np.apply(this,arguments)}function kp(){return kp=(0,T.Z)(function*(r,e,t,s,a){r.Rc=(ce,je,pt)=>{return(Ut=(0,T.Z)(function*(dn,hn,Tr,Yr){let Mr=hn.view.sc(Tr);Mr.zi&&(Mr=yield Lh(dn.localStore,hn.query,!1).then(({documents:Fi})=>hn.view.sc(Fi,Mr)));const Ws=Yr&&Yr.targetChanges.get(hn.targetId),ks=hn.view.applyChanges(Mr,dn.isPrimaryClient,Ws);return Cc(dn,hn.targetId,ks.cc),ks.snapshot}),function(dn,hn,Tr,Yr){return Ut.apply(this,arguments)})(r,ce,je,pt);var Ut};const l=yield Lh(r.localStore,e,!0),f=new ef(e,l.ir),D=f.sc(l.documents),O=jt.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),U=f.applyChanges(D,r.isPrimaryClient,O);Cc(r,t,U.cc);const q=new hv(e,t,f);return r.wc.set(e,q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),U.snapshot}),kp.apply(this,arguments)}function Am(r,e){return tf.apply(this,arguments)}function tf(){return tf=(0,T.Z)(function*(r,e){const t=Gt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!Cu(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ll(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Hl(t.remoteStore,s.targetId),bc(t,s.targetId)}).catch(Eo))):(bc(t,s.targetId),yield Ll(t.localStore,s.targetId,!0))}),tf.apply(this,arguments)}function Mm(){return Mm=(0,T.Z)(function*(r,e,t){const s=function Ql(r){const e=Gt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Up.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xu.bind(null,e),e}(r);try{const a=yield function(l,f){const D=Gt(l),O=ti.now(),U=f.reduce((je,pt)=>je.add(pt.key),ir());let q,ce;return D.persistence.runTransaction("Locally write mutations","readwrite",je=>{let pt=Bo(),Ut=ir();return D.Zi.getEntries(je,U).next(dn=>{pt=dn,pt.forEach((hn,Tr)=>{Tr.isValidDocument()||(Ut=Ut.add(hn))})}).next(()=>D.localDocuments.getOverlayedDocuments(je,pt)).next(dn=>{q=dn;const hn=[];for(const Tr of f){const Yr=Cg(Tr,q.get(Tr.key).overlayedDocument);null!=Yr&&hn.push(new uu(Tr.key,Yr,iu(Yr.value.mapValue),wi.exists(!0)))}return D.mutationQueue.addMutationBatch(je,O,hn,f)}).next(dn=>{ce=dn;const hn=dn.applyToLocalDocumentSet(q,Ut);return D.documentOverlayCache.saveOverlays(je,dn.batchId,hn)})}).then(()=>({batchId:ce.batchId,changes:lh(q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,D){let O=l.Tc[l.currentUser.toKey()];O||(O=new Yn(Nn)),O=O.insert(f,D),l.Tc[l.currentUser.toKey()]=O}(s,a.batchId,t),yield ua(s,a.changes),yield zl(s.remoteStore)}catch(a){const l=ec(a,"Failed to persist write");t.reject(l)}}),Mm.apply(this,arguments)}function Fp(r,e){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,T.Z)(function*(r,e){const t=Gt(r);try{const s=yield function um(r,e){const t=Gt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const D=[];e.targetChanges.forEach((q,ce)=>{const je=a.get(ce);if(!je)return;D.push(t.Bs.removeMatchingKeys(l,q.removedDocuments,ce).next(()=>t.Bs.addMatchingKeys(l,q.addedDocuments,ce)));let pt=je.withSequenceNumber(l.currentSequenceNumber);var Ut,dn,hn;null!==e.targetMismatches.get(ce)?pt=pt.withResumeToken(Xi.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):q.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(q.resumeToken,s)),a=a.insert(ce,pt),dn=pt,hn=q,(0===(Ut=je).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Ut.snapshotVersion.toMicroseconds()>=3e8||hn.addedDocuments.size+hn.modifiedDocuments.size+hn.removedDocuments.size>0)&&D.push(t.Bs.updateTargetData(l,pt))});let O=Bo(),U=ir();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&D.push(t.persistence.referenceDelegate.updateLimboDocument(l,q))}),D.push(function Ud(r,e,t){let s=ir(),a=ir();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let f=Bo();return t.forEach((D,O)=>{const U=l.get(D);O.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(D)),O.isNoDocument()&&O.version.isEqual(Xt.min())?(e.removeEntry(D,O.readTime),f=f.insert(D,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),f=f.insert(D,O)):Ge("LocalStore","Ignoring outdated watch update for ",D,". Current version:",U.version," Watch version:",O.version)}),{nr:f,sr:a}})}(l,f,e.documentUpdates).next(q=>{O=q.nr,U=q.sr})),!s.isEqual(Xt.min())){const q=t.Bs.getLastRemoteSnapshotVersion(l).next(ce=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));D.push(q)}return We.waitFor(D).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,U)).next(()=>O)}).then(l=>(t.Ji=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(Lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Lt(f.fc):a.removedDocuments.size>0&&(Lt(f.fc),f.fc=!1))}),yield ua(t,s,e)}catch(s){yield Eo(s)}}),Rm.apply(this,arguments)}function Hd(r,e,t){const s=Gt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,f)=>{const D=f.view.Mu(e);D.snapshot&&a.push(D.snapshot)}),function(l,f){const D=Gt(l);D.onlineState=f;let O=!1;D.queries.forEach((U,q)=>{for(const ce of q.listeners)ce.Mu(f)&&(O=!0)}),O&&Rp(D)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function yv(r,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,T.Z)(function*(r,e,t){const s=Gt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let f=new Yn(nn.comparator);f=f.insert(l,di.newNoDocument(l,Xt.min()));const D=ir().add(l),O=new tt(Xt.min(),new Map,new Yn(Nn),f,D);yield Fp(s,O),s.gc=s.gc.remove(l),s.yc.delete(e),Sc(s)}else yield Ll(s.localStore,e,!1).then(()=>bc(s,e,t)).catch(Eo)}),Lp.apply(this,arguments)}function Up(r,e){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,T.Z)(function*(r,e){const t=Gt(r),s=e.batch.batchId;try{const a=yield function Fl(r,e){const t=Gt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,D,O,U){const q=O.batch,ce=q.keys();let je=We.resolve();return ce.forEach(pt=>{je=je.next(()=>U.getEntry(D,pt)).next(Ut=>{const dn=O.docVersions.get(pt);Lt(null!==dn),Ut.version.compareTo(dn)<0&&(q.applyToRemoteDocument(Ut,O),Ut.isValidDocument()&&(Ut.setReadTime(O.commitVersion),U.addEntry(Ut)))})}),je.next(()=>f.mutationQueue.removeMutationBatch(D,q))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let D=ir();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(D=D.add(f.batch.mutations[O].key));return D}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);aa(t,s,null),ql(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ua(t,a)}catch(a){yield Eo(a)}}),Bp.apply(this,arguments)}function xu(r,e,t){return il.apply(this,arguments)}function il(){return il=(0,T.Z)(function*(r,e,t){const s=Gt(r);try{const a=yield function(l,f){const D=Gt(l);return D.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return D.mutationQueue.lookupMutationBatch(O,f).next(q=>(Lt(null!==q),U=q.keys(),D.mutationQueue.removeMutationBatch(O,q))).next(()=>D.mutationQueue.performConsistencyCheck(O)).next(()=>D.documentOverlayCache.removeOverlaysForBatchId(O,U,f)).next(()=>D.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>D.localDocuments.getDocuments(O,U))})}(s.localStore,e);aa(s,e,t),ql(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ua(s,a)}catch(a){yield Eo(a)}}),il.apply(this,arguments)}function ql(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function aa(r,e,t){const s=Gt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function bc(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||sl(r,s)})}function sl(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(Hl(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),Sc(r))}function Cc(r,e,t){for(const s of t)s instanceof Xh?(r.Ic.addReference(s.key,e),Kl(r,s)):s instanceof Sm?(Ge("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||sl(r,s.key)):Kt()}function Kl(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(Ge("SyncEngine","New document in limbo: "+t),r.mc.add(s),Sc(r))}function Sc(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new nn(bn.fromString(e)),s=r.Ac.next();r.yc.set(s,new fv(t)),r.gc=r.gc.insert(t,s),jl(r.remoteStore,new du(To(bu(t.path)),s,"TargetPurposeLimboResolution",ls.ct))}}function ua(r,e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,T.Z)(function*(r,e,t){const s=Gt(r),a=[],l=[],f=[];var D;s.wc.isEmpty()||(s.wc.forEach((D,O)=>{f.push(s.Rc(O,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const q=om.Li(O.targetId,U);l.push(q)}}))}),yield Promise.all(f),s.dc.nu(a),yield(D=(0,T.Z)(function*(O,U){const q=Gt(O);try{yield q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>We.forEach(U,je=>We.forEach(je.Fi,pt=>q.persistence.referenceDelegate.addReference(ce,je.targetId,pt)).next(()=>We.forEach(je.Bi,pt=>q.persistence.referenceDelegate.removeReference(ce,je.targetId,pt)))))}catch(ce){if(!Qo(ce))throw ce;Ge("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of U){const je=ce.targetId;if(!ce.fromCache){const pt=q.Ji.get(je),dn=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);q.Ji=q.Ji.insert(je,dn)}}}),function(O,U){return D.apply(this,arguments)})(s.localStore,l))}),Ac.apply(this,arguments)}function Zl(r,e){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,T.Z)(function*(r,e){const t=Gt(r);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const s=yield Ky(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(D=>{D.reject(new mt(Le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ua(t,s.er)}var a}),Mc.apply(this,arguments)}function Yl(r,e){const t=Gt(r),s=t.yc.get(e);if(s&&s.fc)return ir().add(s.key);{let a=ir();const l=t._c.get(e);if(!l)return a;for(const f of l){const D=t.wc.get(f);a=a.unionWith(D.view.nc)}return a}}class Jl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,T.Z)(function*(){t.serializer=Vl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function up(r,e,t,s){return new qy(r,e,t,s)}(this.persistence,new Wy,e.initialUser,this.serializer)}createPersistence(e){return new sp(op.zs,this.serializer)}createSharedClientState(e){return new hm}terminate(){var e=this;return(0,T.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ol{initialize(e,t){var s=this;return(0,T.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Hd(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Zl.bind(null,s.syncEngine),yield function Qh(r,e){return Jh.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new av}createDatastore(e){const t=Vl(e.databaseInfo.databaseId),s=new yp(e.databaseInfo);return new Xy(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=D=>Hd(this.syncEngine,D,0),f=el.D()?new el:new $h,new tv(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,D,O,U){const q=new pv(s,a,l,f,D,O);return U&&(q.vc=!0),q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,T.Z)(function*(t){const s=Gt(t);Ge("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield $l(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Xl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Bm{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ht.UNAUTHENTICATED,this.clientId=Fu.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,T.Z)(function*(D){Ge("FirestoreClient","Received user=",D.uid),yield l.authCredentialListener(D),l.user=D});return function(D){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Ge("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,T.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new mt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=ec(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function lf(r,e){return df.apply(this,arguments)}function df(){return df=(0,T.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,T.Z)(function*(l){s.isEqual(l)||(yield Ky(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),df.apply(this,arguments)}function hf(r,e){return ff.apply(this,arguments)}function ff(){return ff=(0,T.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function qp(r){return Kp.apply(this,arguments)}(r);Ge("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Sp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Sp(e.remoteStore,l)),r._onlineComponents=e}),ff.apply(this,arguments)}function Kp(){return Kp=(0,T.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Wp(r){return"FirebaseError"===r.name?r.code===Le.FAILED_PRECONDITION||r.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Vn("Error using user provided cache. Falling back to memory cache: "+t),yield lf(r,new Jl)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield lf(r,new Jl);return r._offlineComponents}),Kp.apply(this,arguments)}function pf(r){return qd.apply(this,arguments)}function qd(){return qd=(0,T.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield hf(r,r._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield hf(r,new ol))),r._onlineComponents}),qd.apply(this,arguments)}function al(r){return yf.apply(this,arguments)}function yf(){return yf=(0,T.Z)(function*(r){const e=yield pf(r),t=e.eventManager;return t.onListen=gv.bind(null,e.syncEngine),t.onUnlisten=Am.bind(null,e.syncEngine),t}),yf.apply(this,arguments)}function _f(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const Iv=new Map;function Hm(r,e,t){if(!t)throw new mt(Le.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zm(r){if(!nn.isDocumentKey(r))throw new mt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xp(r){if(nn.isDocumentKey(r))throw new mt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ef(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":Kt()}function $n(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new mt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ef(r);throw new mt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Gm{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new mt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Tv(r,e,t,s){if(!0===e&&!0===s)throw new mt(Le.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_f(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new mt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new mt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Os;switch(t.type){case"firstParty":return new gu(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new mt(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iv.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),Iv.delete(e),t.terminate())}(this),Promise.resolve()}}class Ss{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ss(this.firestore,e,this._key)}}class ao{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class hu extends ao{constructor(e,t,s){super(e,t,bu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ss(this.firestore,null,new nn(e))}withConverter(e){return new hu(this.firestore,e,this._path)}}function ed(r,e,...t){if(r=(0,be.m9)(r),Hm("collection","path",e),r instanceof Zd){const s=bn.fromString(e,...t);return Xp(s),new hu(r,null,s)}{if(!(r instanceof Ss||r instanceof hu))throw new mt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(bn.fromString(e,...t));return Xp(s),new hu(r.firestore,null,s)}}function qm(r,e,...t){if(r=(0,be.m9)(r),1===arguments.length&&(e=Fu.A()),Hm("doc","path",e),r instanceof Zd){const s=bn.fromString(e,...t);return zm(s),new Ss(r,null,new nn(s))}{if(!(r instanceof Ss||r instanceof hu))throw new mt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(bn.fromString(e,...t));return zm(s),new Ss(r.firestore,r instanceof hu?r.converter:null,new nn(s))}}class Zm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $d(this,"async_queue_retry"),this.Xc=()=>{const t=Bl();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Bl();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Bl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new yr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,T.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Qo(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,cn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Wl.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&Kt()}verifyOperationInProgress(){}sa(){var e=this;return(0,T.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Ym(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Zr extends Zd{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Zm,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ga(this),this._firestoreClient.terminate()}}function Jm(r,e){const t="object"==typeof r?r:(0,z.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,z.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=(0,be.P0)("firestore");l&&function Wm(r,e,t,s={}){var a;const l=(r=$n(r,Zd))._getSettings(),f=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==f&&Vn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:f,ssl:!1})),s.mockUserToken){let D,O;if("string"==typeof s.mockUserToken)D=s.mockUserToken,O=Ht.MOCK_USER;else{D=(0,be.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const U=s.mockUserToken.sub||s.mockUserToken.user_id;if(!U)throw new mt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new Ht(U)}r._authCredentials=new Ko(new _o(D,O))}}(a,...l)}return a}function gi(r){return r._firestoreClient||Ga(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Ga(r){var e,t,s;const a=r._freezeSettings(),l=(D=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new tu(r._databaseId,D,r._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,_f(U.experimentalLongPollingOptions),U.useFetchStreams));var D,U;r._firestoreClient=new Bm(r._authCredentials,r._appCheckCredentials,r._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(Xi.fromBase64String(e))}catch(t){throw new mt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rc(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class cl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new mt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._methodName=e}}class If{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const ey=/^__.*__$/;class og{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class Qd{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ag(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}class Jd{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Cf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ag(this.ca)&&ey.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ty{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Vl(e)}ya(e,t,s,a=!1){return new Jd({ca:e,methodName:t,ga:s,path:lr.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ll(r){const e=r._freezeSettings(),t=Vl(r._databaseId);return new ty(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Tf(r,e,t,s,a,l={}){const f=r.ya(l.merge||l.mergeFields?2:0,e,t,a);cg("Data must be an object, but it was:",f,s);const D=sy(s,f);let O,U;if(l.merge)O=new hs(f.fieldMask),U=f.fieldTransforms;else if(l.mergeFields){const q=[];for(const ce of l.mergeFields){const je=Xd(e,ce,t);if(!f.contains(je))throw new mt(Le.INVALID_ARGUMENT,`Field '${je}' is specified in your field mask but missing from your input data.`);ay(q,je)||q.push(je)}O=new hs(q),U=f.fieldTransforms.filter(ce=>O.covers(ce.field))}else O=null,U=f.fieldTransforms;return new og(new Si(D),O,U)}class td extends sg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}function dl(r,e){if(oy(r=(0,be.m9)(r)))return cg("Unsupported field value:",e,r),sy(r,e);if(r instanceof sg)return function(t,s){if(!ag(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let D=dl(f,s.wa(l));null==D&&(D={nullValue:"NULL_VALUE"}),a.push(D),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,be.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yd(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=ti.fromDate(t);return{timestampValue:gc(s.serializer,a)}}if(t instanceof ti){const a=new ti(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gc(s.serializer,a)}}if(t instanceof If)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Rc)return{bytesValue:Wc(s.serializer,t._byteString)};if(t instanceof Ss){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qc(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Ef(t)}`)}(r,e)}function sy(r,e){const t={};return wo(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(r,(s,a)=>{const l=dl(a,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function oy(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ti||r instanceof If||r instanceof Rc||r instanceof Ss||r instanceof sg)}function cg(r,e,t){if(!oy(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Ef(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Xd(r,e,t){if((e=(0,be.m9)(e))instanceof cl)return e._internalPath;if("string"==typeof e)return bf(r,e);throw Cf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Rv=new RegExp("[~\\*/\\[\\]]");function bf(r,e,t){if(e.search(Rv)>=0)throw Cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new cl(...e.split("."))._internalPath}catch{throw Cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Cf(r,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let D=`Function ${e}() called with invalid data`;t&&(D+=" (via `toFirestore()`)"),D+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${s}`),f&&(O+=` in document ${a}`),O+=")"),new mt(Le.INVALID_ARGUMENT,D+r+O)}function ay(r,e){return r.some(t=>t.isEqual(e))}class lg{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ss(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xv extends lg{data(){return super.data()}}function Sf(r,e){return"string"==typeof e?bf(r,e):e instanceof cl?e._internalPath:e._delegate._internalPath}class Af{}class hg extends Af{}function uy(r,e,...t){let s=[];e instanceof Af&&s.push(e),s=s.concat(t),function(a){const l=a.filter(D=>D instanceof hl).length,f=a.filter(D=>D instanceof nd).length;if(l>1||l>0&&f>0)throw new mt(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class nd extends hg{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new nd(e,t,s)}_apply(e){const t=this._parse(e);return hy(e._query,t),new ao(e.firestore,e.converter,Uc(e._query,t))}_parse(e){const t=ll(e.firestore);return function(a,l,f,D,O,U,q){let ce;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new mt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){dy(q,U);const je=[];for(const pt of q)je.push(jn(D,a,pt));ce={arrayValue:{values:je}}}else ce=jn(D,a,q)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||dy(q,U),ce=function iy(r,e,t,s=!1){return dl(t,r.ya(s?4:3,e))}(f,"where",q,"in"===U||"not-in"===U);return Cr.create(O,U,ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function cy(r,e,t){const s=e,a=Sf("where",r);return nd._create(a,s,t)}class hl extends Af{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hl(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const f=a.getFlattenedFilters();for(const D of f)hy(l,D),l=Uc(l,D)}(e._query,t),new ao(e.firestore,e.converter,Uc(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Mf extends hg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mf(e,t)}_apply(e){const t=function(s,a,l){if(null!==s.startAt)throw new mt(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new mt(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Fo(a,l);return function(D,O){if(null===Tl(D)){const U=ou(D);null!==U&&fy(0,U,O.field)}}(s,f),f}(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new ja(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function fg(r,e="asc"){const t=e,s=Sf("orderBy",r);return Mf._create(s,t)}function jn(r,e,t){if("string"==typeof(t=(0,be.m9)(t))){if(""===t)throw new mt(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lc(e)&&-1!==t.indexOf("/"))throw new mt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(bn.fromString(t));if(!nn.isDocumentKey(s))throw new mt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ko(r,new nn(s))}if(t instanceof Ss)return ko(r,t._key);throw new mt(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(t)}.`)}function dy(r,e){if(!Array.isArray(r)||0===r.length)throw new mt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hy(r,e){if(e.isInequality()){const s=ou(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new mt(Le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=Tl(r);null!==l&&fy(0,a,l)}const t=function(s,a){for(const l of s)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new mt(Le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function fy(r,e,t){if(!t.isEqual(e))throw new mt(Le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Lv{convertValue(e,t="none"){switch(ru(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ji(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new If(Ei(e.latitude),Ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Oc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=Io(e);return new ti(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=bn.fromString(e);Lt(Kf(s));const a=new nu(s.get(1),s.get(3)),l=new nn(s.popFirst(5));return a.isEqual(t)||cn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pl extends lg{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class eh extends pl{data(e={}){return super.data(e)}}class gl{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new eh(this._firestore,this._userDataWriter,s.key,s,new xc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new mt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new eh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const D=new eh(s._firestore,s._userDataWriter,f.doc.key,f.doc,new xc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,U=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),U=l.indexOf(f.doc.key)),{type:Bv(f.type),doc:D,oldIndex:O,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}class Wa extends Lv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ss(this.firestore,null,t)}}function gy(r,e,t){r=$n(r,Ss);const s=$n(r.firestore,Zr),a=function rd(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return nh(s,[Tf(ll(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,wi.none())])}function my(r,e,t,...s){r=$n(r,Ss);const a=$n(r.firestore,Zr),l=ll(a);let f;return f="string"==typeof(e=(0,be.m9)(e))||e instanceof cl?function ry(r,e,t,s,a,l){const f=r.ya(1,e,t),D=[Xd(e,s,t)],O=[a];if(l.length%2!=0)throw new mt(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let je=0;je<l.length;je+=2)D.push(Xd(e,l[je])),O.push(l[je+1]);const U=[],q=Si.empty();for(let je=D.length-1;je>=0;--je)if(!ay(U,D[je])){const pt=D[je];let Ut=O[je];Ut=(0,be.m9)(Ut);const dn=f.da(pt);if(Ut instanceof td)U.push(pt);else{const hn=dl(Ut,dn);null!=hn&&(U.push(pt),q.set(pt,hn))}}const ce=new hs(U);return new Qd(q,ce,f.fieldTransforms)}(l,"updateDoc",r._key,e,t,s):function ny(r,e,t,s){const a=r.ya(1,e,t);cg("Data must be an object, but it was:",a,s);const l=[],f=Si.empty();Ji(s,(O,U)=>{const q=bf(e,O,t);U=(0,be.m9)(U);const ce=a.da(q);if(U instanceof td)l.push(q);else{const je=dl(U,ce);null!=je&&(l.push(q),f.set(q,je))}});const D=new hs(l);return new Qd(f,D,a.fieldTransforms)}(l,"updateDoc",r._key,e),nh(a,[f.toMutation(r._key,wi.exists(!0))])}function th(r,...e){var t,s,a;r=(0,be.m9)(r);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Ym(e[f])||(l=e[f],f++);const D={includeMetadataChanges:l.includeMetadataChanges};if(Ym(e[f])){const ce=e[f];e[f]=null===(t=ce.next)||void 0===t?void 0:t.bind(ce),e[f+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),e[f+2]=null===(a=ce.complete)||void 0===a?void 0:a.bind(ce)}let O,U,q;if(r instanceof Ss)U=$n(r.firestore,Zr),q=bu(r._key.path),O={next:ce=>{e[f]&&e[f](function yg(r,e,t){const s=t.docs.get(e._key),a=new Wa(r);return new pl(r,a,e._key,s,new xc(t.hasPendingWrites,t.fromCache),e.converter)}(U,r,ce))},error:e[f+1],complete:e[f+2]};else{const ce=$n(r,ao);U=$n(ce.firestore,Zr),q=ce._query;const je=new Wa(U);O={next:pt=>{e[f]&&e[f](new gl(U,je,ce,pt))},error:e[f+1],complete:e[f+2]},function dg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new mt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(ce,je,pt,Ut){const dn=new Xl(Ut),hn=new xp(je,dn,pt);return ce.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function Ap(r,e){return rl.apply(this,arguments)}(yield al(ce),hn)})),()=>{dn.Dc(),ce.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function Mp(r,e){return bm.apply(this,arguments)}(yield al(ce),hn)}))}}(gi(U),q,D,O)}function nh(r,e){return function(t,s){const a=new yr;return t.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function mv(r,e,t){return Mm.apply(this,arguments)}(yield function mf(r){return pf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(gi(r),e)}!function(r,e=!0){cr=z.Jn,(0,z.Xd)(new X.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new Zr(new ku(t.getProvider("auth-internal")),new sc(t.getProvider("app-check-internal")),function(D,O){if(!Object.prototype.hasOwnProperty.apply(D.options,["projectId"]))throw new mt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(D.options.projectId,O)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,z.KN)(ut,"3.13.0",r),(0,z.KN)(ut,"3.13.0","esm2017")}()},3648:(Dn,Et,Z)=>{Z.d(Et,{Rh:()=>nr,_W:()=>pn});var T=Z(8256),z=Z(7340),X=Z(6895),Oe=Z(7579),be=Z(1481);const he=["toast-component",""];function Ce(ve,qe){if(1&ve){const ue=T.EpF();T.TgZ(0,"button",5),T.NdJ("click",function(){T.CHM(ue);const nt=T.oxw();return T.KtG(nt.remove())}),T.TgZ(1,"span",6),T._uU(2,"\xd7"),T.qZA()()}}function Ae(ve,qe){if(1&ve&&(T.ynx(0),T._uU(1),T.BQk()),2&ve){const ue=T.oxw(2);T.xp6(1),T.hij("[",ue.duplicatesCount+1,"]")}}function vt(ve,qe){if(1&ve&&(T.TgZ(0,"div"),T._uU(1),T.YNc(2,Ae,2,1,"ng-container",4),T.qZA()),2&ve){const ue=T.oxw();T.Tol(ue.options.titleClass),T.uIk("aria-label",ue.title),T.xp6(1),T.hij(" ",ue.title," "),T.xp6(1),T.Q6J("ngIf",ue.duplicatesCount)}}function ne(ve,qe){if(1&ve&&T._UZ(0,"div",7),2&ve){const ue=T.oxw();T.Tol(ue.options.messageClass),T.Q6J("innerHTML",ue.message,T.oJD)}}function me(ve,qe){if(1&ve&&(T.TgZ(0,"div",8),T._uU(1),T.qZA()),2&ve){const ue=T.oxw();T.Tol(ue.options.messageClass),T.uIk("aria-label",ue.message),T.xp6(1),T.hij(" ",ue.message," ")}}function Ze(ve,qe){if(1&ve&&(T.TgZ(0,"div"),T._UZ(1,"div",9),T.qZA()),2&ve){const ue=T.oxw();T.xp6(1),T.Udp("width",ue.width+"%")}}class Dt{_attachedHost;component;viewContainerRef;injector;constructor(qe,ue){this.component=qe,this.injector=ue}attach(qe,ue){return this._attachedHost=qe,qe.attach(this,ue)}detach(){const qe=this._attachedHost;if(qe)return this._attachedHost=void 0,qe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(qe){this._attachedHost=qe}}class Qe{_attachedPortal;_disposeFn;attach(qe,ue){return this._attachedPortal=qe,this.attachComponentPortal(qe,ue)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(qe){this._disposeFn=qe}}class Pe{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Oe.x;_activate=new Oe.x;_manualClose=new Oe.x;_resetTimeout=new Oe.x;_countDuplicate=new Oe.x;constructor(qe){this._overlayRef=qe}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(qe,ue){qe&&this._resetTimeout.next(),ue&&this._countDuplicate.next(++this.duplicatesCount)}}class ot{toastId;config;message;title;toastType;toastRef;_onTap=new Oe.x;_onAction=new Oe.x;constructor(qe,ue,Te,nt,It,Pt){this.toastId=qe,this.config=ue,this.message=Te,this.title=nt,this.toastType=It,this.toastRef=Pt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(qe){this._onAction.next(qe)}onAction(){return this._onAction.asObservable()}}const ct=new T.OlP("ToastConfig");class Tt extends Qe{_hostDomElement;_componentFactoryResolver;_appRef;constructor(qe,ue,Te){super(),this._hostDomElement=qe,this._componentFactoryResolver=ue,this._appRef=Te}attachComponentPortal(qe,ue){const Te=this._componentFactoryResolver.resolveComponentFactory(qe.component);let nt;return nt=Te.create(qe.injector),this._appRef.attachView(nt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(nt.hostView),nt.destroy()}),ue?this._hostDomElement.insertBefore(this._getComponentRootNode(nt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(nt)),nt}_getComponentRootNode(qe){return qe.hostView.rootNodes[0]}}let at=(()=>{class ve{_document=(0,T.f3M)(X.K0);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ue=this._document.createElement("div");ue.classList.add("overlay-container"),ue.setAttribute("aria-live","polite"),this._document.body.appendChild(ue),this._containerElement=ue}static \u0275fac=function(Te){return new(Te||ve)};static \u0275prov=T.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();class Wt{_portalHost;constructor(qe){this._portalHost=qe}attach(qe,ue=!0){return this._portalHost.attach(qe,ue)}detach(){return this._portalHost.detach()}}let qt=(()=>{class ve{_overlayContainer=(0,T.f3M)(at);_componentFactoryResolver=(0,T.f3M)(T._Vd);_appRef=(0,T.f3M)(T.z2F);_document=(0,T.f3M)(X.K0);_paneElements=new Map;create(ue,Te){return this._createOverlayRef(this.getPaneElement(ue,Te))}getPaneElement(ue="",Te){return this._paneElements.get(Te)||this._paneElements.set(Te,{}),this._paneElements.get(Te)[ue]||(this._paneElements.get(Te)[ue]=this._createPaneElement(ue,Te)),this._paneElements.get(Te)[ue]}_createPaneElement(ue,Te){const nt=this._document.createElement("div");return nt.id="toast-container",nt.classList.add(ue),nt.classList.add("toast-container"),Te?Te.getContainerElement().appendChild(nt):this._overlayContainer.getContainerElement().appendChild(nt),nt}_createPortalHost(ue){return new Tt(ue,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ue){return new Wt(this._createPortalHost(ue))}static \u0275fac=function(Te){return new(Te||ve)};static \u0275prov=T.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})(),pn=(()=>{class ve{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(ue,Te,nt,It,Pt){this.overlay=Te,this._injector=nt,this.sanitizer=It,this.ngZone=Pt,this.toastrConfig={...ue.default,...ue.config},ue.config.iconClasses&&(this.toastrConfig.iconClasses={...ue.default.iconClasses,...ue.config.iconClasses})}show(ue,Te,nt={},It=""){return this._preBuildNotification(It,ue,Te,this.applyConfig(nt))}success(ue,Te,nt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ue,Te,this.applyConfig(nt))}error(ue,Te,nt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ue,Te,this.applyConfig(nt))}info(ue,Te,nt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ue,Te,this.applyConfig(nt))}warning(ue,Te,nt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ue,Te,this.applyConfig(nt))}clear(ue){for(const Te of this.toasts)if(void 0!==ue){if(Te.toastId===ue)return void Te.toastRef.manualClose()}else Te.toastRef.manualClose()}remove(ue){const Te=this._findToast(ue);if(!Te||(Te.activeToast.toastRef.close(),this.toasts.splice(Te.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const nt=this.toasts[this.currentlyActive].toastRef;nt.isInactive()||(this.currentlyActive=this.currentlyActive+1,nt.activate())}return!0}findDuplicate(ue="",Te="",nt,It){const{includeTitleDuplicates:Pt}=this.toastrConfig;for(const _n of this.toasts)if((!Pt||Pt&&_n.title===ue)&&_n.message===Te)return _n.toastRef.onDuplicate(nt,It),_n;return null}applyConfig(ue={}){return{...this.toastrConfig,...ue}}_findToast(ue){for(let Te=0;Te<this.toasts.length;Te++)if(this.toasts[Te].toastId===ue)return{index:Te,activeToast:this.toasts[Te]};return null}_preBuildNotification(ue,Te,nt,It){return It.onActivateTick?this.ngZone.run(()=>this._buildNotification(ue,Te,nt,It)):this._buildNotification(ue,Te,nt,It)}_buildNotification(ue,Te,nt,It){if(!It.toastComponent)throw new Error("toastComponent required");const Pt=this.findDuplicate(nt,Te,this.toastrConfig.resetTimeoutOnDuplicate&&It.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&nt||Te)&&this.toastrConfig.preventDuplicates&&null!==Pt)return Pt;this.previousToastMessage=Te;let _n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(_n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const sn=this.overlay.create(It.positionClass,this.overlayContainer);this.index=this.index+1;let Qn=Te;Te&&It.enableHtml&&(Qn=this.sanitizer.sanitize(T.q3G.HTML,Te));const Hn=new Pe(sn),Er=new ot(this.index,It,Qn,nt,ue,Hn),Rr=T.zs3.create({providers:[{provide:ot,useValue:Er}],parent:this._injector}),wr=new Dt(It.toastComponent,Rr),Yt=sn.attach(wr,It.newestOnTop);Hn.componentInstance=Yt.instance;const hr={toastId:this.index,title:nt||"",message:Te||"",toastRef:Hn,onShown:Hn.afterActivate(),onHidden:Hn.afterClosed(),onTap:Er.onTap(),onAction:Er.onAction(),portal:Yt};return _n||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{hr.toastRef.activate()})),this.toasts.push(hr),hr}static \u0275fac=function(Te){return new(Te||ve)(T.LFG(ct),T.LFG(qt),T.LFG(T.zs3),T.LFG(be.H7),T.LFG(T.R0b))};static \u0275prov=T.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"})}return ve})();const On={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class ve{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(ue,Te,nt){this.toastrService=ue,this.toastPackage=Te,this.ngZone=nt,this.message=Te.message,this.title=Te.title,this.options=Te.config,this.originalTimeout=Te.config.timeOut,this.toastClasses=`${Te.toastType} ${Te.config.toastClass}`,this.sub=Te.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Te.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Te.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Te.toastRef.countDuplicate().subscribe(It=>{this.duplicatesCount=It}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ue=(new Date).getTime();this.width=(this.hideTime-ue)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ue,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ue),Te)):this.timeout=setTimeout(()=>ue(),Te)}outsideInterval(ue,Te){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ue),Te)):this.intervalId=setInterval(()=>ue(),Te)}runInsideAngular(ue){this.ngZone?this.ngZone.run(()=>ue()):ue()}static \u0275fac=function(Te){return new(Te||ve)(T.Y36(pn),T.Y36(ot),T.Y36(T.R0b))};static \u0275cmp=T.Xpm({type:ve,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Te,nt){1&Te&&T.NdJ("click",function(){return nt.tapToast()})("mouseenter",function(){return nt.stickAround()})("mouseleave",function(){return nt.delayedHideToast()}),2&Te&&(T.d8E("@flyInOut",nt.state),T.Tol(nt.toastClasses),T.Udp("display",nt.displayStyle))},standalone:!0,features:[T.jDz],attrs:he,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Te,nt){1&Te&&(T.YNc(0,Ce,3,0,"button",0),T.YNc(1,vt,3,5,"div",1),T.YNc(2,ne,1,3,"div",2),T.YNc(3,me,2,4,"div",3),T.YNc(4,Ze,2,2,"div",4)),2&Te&&(T.Q6J("ngIf",nt.options.closeButton),T.xp6(1),T.Q6J("ngIf",nt.title),T.xp6(1),T.Q6J("ngIf",nt.message&&nt.options.enableHtml),T.xp6(1),T.Q6J("ngIf",nt.message&&!nt.options.enableHtml),T.xp6(1),T.Q6J("ngIf",nt.options.progressBar))},dependencies:[X.O5],encapsulation:2,data:{animation:[(0,z.X$)("flyInOut",[(0,z.SB)("inactive",(0,z.oB)({opacity:0})),(0,z.SB)("active",(0,z.oB)({opacity:1})),(0,z.SB)("removed",(0,z.oB)({opacity:0})),(0,z.eR)("inactive => active",(0,z.jt)("{{ easeTime }}ms {{ easing }}")),(0,z.eR)("active => removed",(0,z.jt)("{{ easeTime }}ms {{ easing }}"))])]}})}return ve})()},Jt=(ve={})=>(0,T.MR2)([{provide:ct,useValue:{default:On,config:ve}}]);let nr=(()=>{class ve{static forRoot(ue={}){return{ngModule:ve,providers:[Jt(ue)]}}static \u0275fac=function(Te){return new(Te||ve)};static \u0275mod=T.oAB({type:ve});static \u0275inj=T.cJS({})}return ve})()},5861:(Dn,Et,Z)=>{function T(X,Oe,be,he,Ce,Ae,vt){try{var ne=X[Ae](vt),me=ne.value}catch(Ze){return void be(Ze)}ne.done?Oe(me):Promise.resolve(me).then(he,Ce)}function z(X){return function(){var Oe=this,be=arguments;return new Promise(function(he,Ce){var Ae=X.apply(Oe,be);function vt(me){T(Ae,he,Ce,vt,ne,"next",me)}function ne(me){T(Ae,he,Ce,vt,ne,"throw",me)}vt(void 0)})}}Z.d(Et,{Z:()=>z})},7582:(Dn,Et,Z)=>{function Oe(He,Ue){var Xe={};for(var ve in He)Object.prototype.hasOwnProperty.call(He,ve)&&Ue.indexOf(ve)<0&&(Xe[ve]=He[ve]);if(null!=He&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(ve=Object.getOwnPropertySymbols(He);qe<ve.length;qe++)Ue.indexOf(ve[qe])<0&&Object.prototype.propertyIsEnumerable.call(He,ve[qe])&&(Xe[ve[qe]]=He[ve[qe]])}return Xe}function Ze(He,Ue,Xe,ve){return new(Xe||(Xe=Promise))(function(ue,Te){function nt(_n){try{Pt(ve.next(_n))}catch(sn){Te(sn)}}function It(_n){try{Pt(ve.throw(_n))}catch(sn){Te(sn)}}function Pt(_n){_n.done?ue(_n.value):function qe(ue){return ue instanceof Xe?ue:new Xe(function(Te){Te(ue)})}(_n.value).then(nt,It)}Pt((ve=ve.apply(He,Ue||[])).next())})}function Qe(He){return this instanceof Qe?(this.v=He,this):new Qe(He)}function Pe(He,Ue,Xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,ve=Xe.apply(He,Ue||[]),ue=[];return qe={},Te("next"),Te("throw"),Te("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function Te(Qn){ve[Qn]&&(qe[Qn]=function(Hn){return new Promise(function(Er,Jn){ue.push([Qn,Hn,Er,Jn])>1||nt(Qn,Hn)})})}function nt(Qn,Hn){try{!function It(Qn){Qn.value instanceof Qe?Promise.resolve(Qn.value.v).then(Pt,_n):sn(ue[0][2],Qn)}(ve[Qn](Hn))}catch(Er){sn(ue[0][3],Er)}}function Pt(Qn){nt("next",Qn)}function _n(Qn){nt("throw",Qn)}function sn(Qn,Hn){Qn(Hn),ue.shift(),ue.length&&nt(ue[0][0],ue[0][1])}}function At(He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Ue=He[Symbol.asyncIterator];return Ue?Ue.call(He):(He=function Zt(He){var Ue="function"==typeof Symbol&&Symbol.iterator,Xe=Ue&&He[Ue],ve=0;if(Xe)return Xe.call(He);if(He&&"number"==typeof He.length)return{next:function(){return He&&ve>=He.length&&(He=void 0),{value:He&&He[ve++],done:!He}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(He),Xe={},ve("next"),ve("throw"),ve("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe);function ve(ue){Xe[ue]=He[ue]&&function(Te){return new Promise(function(nt,It){!function qe(ue,Te,nt,It){Promise.resolve(It).then(function(Pt){ue({value:Pt,done:nt})},Te)}(nt,It,(Te=He[ue](Te)).done,Te.value)})}}}Z.d(Et,{FC:()=>Pe,KL:()=>At,_T:()=>Oe,mG:()=>Ze,qq:()=>Qe}),"function"==typeof SuppressedError&&SuppressedError}},Dn=>{Dn(Dn.s=4716)}]);