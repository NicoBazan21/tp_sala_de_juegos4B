"use strict";(self.webpackChunktp1_sala_de_juegos=self.webpackChunktp1_sala_de_juegos||[]).push([[986],{7986:(S,u,s)=>{s.r(u),s.d(u,{BlackjackModule:()=>T});var l=s(6895),h=s(5450),m=s(5226),c=s.n(m),i=s(8256),g=s(9682),d=s(3786);function p(e,n){if(1&e&&(i.TgZ(0,"button",10),i._uU(1),i.qZA()),2&e){const t=i.oxw();i.xp6(1),i.hij("Mano del crupier: ",t.valorProvisional,"")}}function f(e,n){if(1&e&&(i.TgZ(0,"button",10),i._uU(1),i.qZA()),2&e){const t=i.oxw();i.xp6(1),i.hij("Mano del crupier: ",t.valorCrupierFinal,"")}}function k(e,n){if(1&e&&(i.ynx(0),i._UZ(1,"img",13),i.BQk()),2&e){const t=n.$implicit;i.xp6(1),i.s9C("src",t.carta,i.LSH)}}function v(e,n){if(1&e&&(i.ynx(0),i.YNc(1,k,2,1,"ng-container",12),i.BQk()),2&e){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.manoCrupier)}}function _(e,n){if(1&e&&i._UZ(0,"img",14),2&e){const t=i.oxw();i.s9C("src",t.imgCrupier,i.LSH)}}function J(e,n){if(1&e&&(i.ynx(0),i._UZ(1,"img",15),i.BQk()),2&e){const t=n.$implicit;i.xp6(1),i.s9C("src",t.carta,i.LSH)}}function b(e,n){if(1&e&&(i.ynx(0),i.YNc(1,J,2,1,"ng-container",12),i.BQk()),2&e){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.manoJugador)}}function C(e,n){if(1&e&&(i.ynx(0),i._UZ(1,"img",15),i.BQk()),2&e){const t=n.$implicit;i.xp6(1),i.s9C("src",t.carta,i.LSH)}}function x(e,n){if(1&e&&i.YNc(0,C,2,1,"ng-container",12),2&e){const t=i.oxw();i.Q6J("ngForOf",t.manoJugador)}}const B=[{path:"",component:(()=>{class e{constructor(t,r){this.userService=t,this.resultadosService=r,this.path="/assets/img/blackjack/",this.imgCrupier="",this.imgJugador="",this.manoCrupier=[],this.valorProvisional=0,this.valorCrupierFinal=0,this.finalizar=!1,this.manoJugador=[],this.valorJugador=0}ngOnInit(){this.generarManoCrupier(),this.generarManoJugador()}reiniciar(){this.manoCrupier=[],this.valorProvisional=0,this.valorCrupierFinal=0,this.finalizar=!1,this.manoJugador=[],this.valorJugador=0,this.generarManoCrupier(),this.generarManoJugador()}pedir(){let t=this.cartaRandom();this.imgJugador=11==t?`${this.path}${t}A.jpg`:10==t?`${this.path}${t}${this.caracterAleatorio()}.jpg`:`${this.path}${t}.jpg`,this.manoJugador.push({carta:this.imgJugador,valor:t}),this.valorJugador+=t,this.valorJugador>21&&(this.finalizar=!0,this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,0,"BlackJack","Perdio"),setTimeout(()=>{c().fire({title:"Perdiste!.",text:"Te pasaste de 21",icon:"error",confirmButtonText:"Finalizar",background:"#3b293b"})},1500)),21==this.valorJugador&&(this.finalizar=!0,this.userService.sesionFirestore.puntos+=7,this.userService.modificar(this.userService.sesionFirestore),this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,7,"BlackJack","Gano"),setTimeout(()=>{c().fire({title:"BlackJack!.",text:"",icon:"success",confirmButtonText:"Finalizar",background:"#3b293b"})},1500))}quedarse(){this.finalizar=!0,this.valorCrupierFinal>21&&this.valorJugador<21?(this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,5,"BlackJack","Gano"),setTimeout(()=>{c().fire({title:"Ganaste!.",text:"El crupier se pas\xf3 de 21!.",icon:"success",confirmButtonText:"Finalizar",background:"#3b293b"})},1500),this.userService.sesionFirestore.puntos+=5,this.userService.modificar(this.userService.sesionFirestore)):this.valorJugador>this.valorCrupierFinal?(setTimeout(()=>{c().fire({title:"Ganaste!.",text:"Le ganaste al crupier en las cartas!.",icon:"success",confirmButtonText:"Finalizar",background:"#3b293b"})},1500),this.userService.sesionFirestore.puntos+=5,this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,5,"BlackJack","Gano"),this.userService.modificar(this.userService.sesionFirestore)):(this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,0,"BlackJack","Perdio"),setTimeout(()=>{c().fire({title:"Perdiste!.",text:"El crupier te ha ganado!.",icon:"error",confirmButtonText:"Finalizar",background:"#3b293b"})},1500))}generarManoJugador(){let t=0;for(let r=0;r<2;r++){let a=this.cartaRandom();this.imgJugador=11==a?`${this.path}${a}A.jpg`:10==a?`${this.path}${a}${this.caracterAleatorio()}.jpg`:`${this.path}${a}.jpg`,this.manoJugador.push({carta:this.imgJugador,valor:a}),t+=a}console.log(this.manoJugador.reverse()),this.valorJugador=t,21==this.valorJugador&&(this.finalizar=!0,c().fire({title:"BlackJack!.",text:"",icon:"success",confirmButtonText:"Finalizar",background:"#3b293b"}),this.userService.sesionFirestore.puntos+=7,this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,7,"BlackJack","Gano"),this.userService.modificar(this.userService.sesionFirestore))}generarManoCrupier(){let t=0;do{let r=this.cartaRandom();this.imgCrupier=11==r?`${this.path}${r}A.jpg`:10==r?`${this.path}${r}${this.caracterAleatorio()}.jpg`:`${this.path}${r}.jpg`,this.manoCrupier.push({carta:this.imgCrupier,valor:r}),t+=r}while(t<17);console.log(t),this.valorCrupierFinal=t,console.log(this.manoCrupier.reverse()),this.valorProvisional=this.manoCrupier[0].valor}cartaRandom(){return Math.floor(10*Math.random()+2)}caracterAleatorio(){let r="";const a="JQK".length;for(let o=0;o<1;o++)r+="JQK".charAt(Math.floor(Math.random()*a));return r}static#i=this.\u0275fac=function(r){return new(r||e)(i.Y36(g.R),i.Y36(d.q))};static#t=this.\u0275cmp=i.Xpm({type:e,selectors:[["app-blackjack"]],decls:23,vars:10,consts:[[1,"container"],[1,"row"],[1,"centrar","row"],[1,"centrar"],["class","btn btn-secondary col-sm-3","disabled","",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"btn","btn-success","m-5",3,"disabled","click"],[1,"btn","btn-primary","m-5",3,"disabled","click"],[1,"btn","btn-dark","m-5",3,"disabled","click"],["disabled","",1,"btn","btn-secondary","col-sm-3"],["elseBlockk",""],[4,"ngFor","ngForOf"],[2,"width","120px",3,"src"],[1,"animacionCrupier",2,"width","120px",3,"src"],[1,"animacion",2,"width","120px",3,"src"]],template:function(r,a){if(1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.YNc(4,p,2,1,"button",4),i.YNc(5,f,2,1,"button",4),i.qZA(),i.TgZ(6,"div",3),i.YNc(7,v,2,1,"ng-container",5),i.YNc(8,_,1,1,"ng-template",null,6,i.W1O),i.qZA(),i.TgZ(10,"div",3)(11,"button",7),i.NdJ("click",function(){return a.pedir()}),i._uU(12,"Pedir "),i.qZA(),i.TgZ(13,"button",8),i.NdJ("click",function(){return a.quedarse()}),i._uU(14,"Quedarse "),i.qZA(),i.TgZ(15,"button",9),i.NdJ("click",function(){return a.reiniciar()}),i._uU(16,"Reiniciar "),i.qZA()(),i.TgZ(17,"button",10),i._uU(18),i.qZA(),i.TgZ(19,"div",3),i.YNc(20,b,2,1,"ng-container",5),i.YNc(21,x,1,1,"ng-template",null,11,i.W1O),i.qZA()()()()),2&r){const o=i.MAs(9),F=i.MAs(22);i.xp6(4),i.Q6J("ngIf",0==a.finalizar),i.xp6(1),i.Q6J("ngIf",1==a.finalizar),i.xp6(2),i.Q6J("ngIf",1==a.finalizar)("ngIfElse",o),i.xp6(4),i.Q6J("disabled",a.finalizar),i.xp6(2),i.Q6J("disabled",a.finalizar),i.xp6(2),i.Q6J("disabled",!a.finalizar),i.xp6(3),i.hij("Tu mano: ",a.valorJugador,""),i.xp6(2),i.Q6J("ngIf",1==a.finalizar)("ngIfElse",F)}},dependencies:[l.sg,l.O5],styles:[".centrar[_ngcontent-%COMP%]{display:flex;justify-content:center}.animacion[_ngcontent-%COMP%]{animation-duration:1.5s;animation-name:_ngcontent-%COMP%_slidein}.animacionCrupier[_ngcontent-%COMP%]{animation-duration:2.5s;animation-name:_ngcontent-%COMP%_slidein}@keyframes _ngcontent-%COMP%_slidein{0%{margin-left:50%}to{margin-left:0%}}"]})}return e})()}];let j=(()=>{class e{static#i=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.oAB({type:e});static#e=this.\u0275inj=i.cJS({imports:[h.Bz.forChild(B),h.Bz]})}return e})(),T=(()=>{class e{static#i=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.oAB({type:e});static#e=this.\u0275inj=i.cJS({imports:[l.ez,j]})}return e})()}}]);