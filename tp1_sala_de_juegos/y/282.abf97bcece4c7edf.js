"use strict";(self.webpackChunktp1_sala_de_juegos=self.webpackChunktp1_sala_de_juegos||[]).push([[282],{6282:(w,d,i)=>{i.r(d),i.d(d,{PreguntadosModule:()=>k});var c=i(6895),u=i(5450),l=i(5226),a=i.n(l),t=i(8256),h=i(529);let m=(()=>{class e{constructor(n){this.http=n,this.api="https://the-trivia-api.com/v2/questions"}traerPreguntas(){return this.http.get(this.api)}static#t=this.\u0275fac=function(o){return new(o||e)(t.LFG(h.eN))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var p=i(9682),f=i(3786);function _(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",18)(2,"a",19),t.NdJ("click",function(r){t.CHM(n);const g=t.oxw(4);return t.KtG(g.onClick(r))}),t._uU(3),t.qZA()(),t.BQk()}if(2&e){const n=s.$implicit;t.xp6(3),t.Oqu(n)}}function v(e,s){if(1&e&&(t.ynx(0),t._UZ(1,"input",17),t.YNc(2,_,4,1,"ng-container",15),t.BQk()),2&e){const n=t.oxw(3);t.xp6(1),t.s9C("placeholder",n.preguntas[n.numero].question.text),t.xp6(1),t.Q6J("ngForOf",n.opciones)}}function x(e,s){if(1&e&&(t.ynx(0),t.YNc(1,v,3,2,"ng-container",12),t.BQk()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.preguntas)}}function b(e,s){1&e&&(t.ynx(0),t._UZ(1,"img",20),t.BQk())}function C(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"button",11),t._uU(3,"Pregunta:"),t.qZA()(),t.YNc(4,x,2,1,"ng-container",12),t.TgZ(5,"div",13)(6,"label",14),t.YNc(7,b,2,0,"ng-container",15),t.qZA(),t.TgZ(8,"a",16),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.resetearJuego())}),t._uU(9,"Siguiente pregunta!."),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngIf",n.resetear),t.xp6(3),t.Q6J("ngForOf",n.vidas)}}function P(e,s){1&e&&(t.TgZ(0,"div",7)(1,"h5",21),t._uU(2,"Te has quedado sin vidas"),t.qZA()(),t.TgZ(3,"button",22),t._uU(4,"Sala de juegos"),t.qZA())}const y=[{path:"",component:(()=>{class e{constructor(n,o,r){this.preguntadosService=n,this.userService=o,this.resultadosService=r,this.numero=0,this.resetear=!0,this.vidas=[0,1,2],this.puntos=0}ngOnInit(){this.preguntadosService.traerPreguntas().subscribe(n=>{this.preguntas=n,console.log(n),this.mezclarPreguntas()})}onClick(n){this.vidas.length&&(this.preguntas[this.numero].correctAnswer==n.srcElement.innerText?a().fire({title:"Correcto!.",text:"En el blanco!.",icon:"success",showCancelButton:!0,confirmButtonText:"Siguiente",background:"#3b293b"}).then(o=>{this.puntos=this.puntos+5,o.isConfirmed&&this.resetearJuego()}):a().fire({title:"Has perdido una vida!.",icon:"warning",showCancelButton:!0,confirmButtonText:"Siguiente",background:"#3b293b"}).then(o=>{o.isConfirmed&&(this.vidas.pop(),this.resetearJuego()),0==this.vidas.length&&(a().fire({title:"Te has quedado sin vidas!!.",text:"Has acumulado un total de "+this.puntos+" puntos!.",icon:"error",showCancelButton:!0,confirmButtonText:"Finalizar",background:"#3b293b"}),this.userService.sesionFirestore.puntos+=this.puntos,this.resultadosService.subirResultado(this.userService.sesionFirestore.mail,this.puntos,"Preguntados","Gano"),this.userService.modificar(this.userService.sesionFirestore.mail))}))}mezclarPreguntas(){const n=this.preguntas[this.numero].incorrectAnswers;n.push(this.preguntas[this.numero].correctAnswer);for(let o=0;o<n.length;o++){const r=Math.floor(Math.random()*(o+1));[n[o],n[r]]=[n[r],n[o]]}this.opciones=n}resetearJuego(){this.resetear?(this.resetear=!1,this.numero++,this.mezclarPreguntas(),a().fire({title:"Estas listo?.",icon:"info",confirmButtonText:"Si.",background:"#3b293b"}).then(n=>{n.isConfirmed&&(this.resetear=!0)})):this.resetear=!0,console.log(this.resetear)}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(m),t.Y36(p.R),t.Y36(f.q))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-preguntados"]],decls:14,vars:2,consts:[[1,"h-100","gradient-form"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-xl-8"],[1,"card","rounded-3","text-black","transparente"],[1,"row","g-0"],[1,"card-body"],[1,"text-center"],[1,"mt-1","mb-1","pb-1","text-white"],[4,"ngIf","ngIfElse"],["elseBlock",""],["disabled","",1,"btn","btn-primary","fa-lg","m-3","gradient-custom-2"],[4,"ngIf"],[1,"form-outline","mb-4","justify-content-around","d-flex"],[1,"btn","btn-danger","fa-lg","m-3"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","fa-lg","m-3","gradient-custom-2",3,"click"],["type","text","disabled","",1,"form-control",3,"placeholder"],[1,"row","m-2"],[1,"btn","btn-secondary",3,"click"],["src","assets/img/vidas/pngfind.com-minecraft-heart-png-697698.png",1,"m-1",2,"width","20px"],[1,"mt-1","mb-1","pb-1"],["routerLink","/games",1,"btn","btn-info"]],template:function(o,r){if(1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),t._uU(9,"Preguntados"),t.qZA()(),t.TgZ(10,"form"),t.YNc(11,C,10,2,"ng-container",9),t.YNc(12,P,5,0,"ng-template",null,10,t.W1O),t.qZA()()()()()()()()),2&o){const g=t.MAs(13);t.xp6(11),t.Q6J("ngIf",r.vidas.length>0)("ngIfElse",g)}},dependencies:[c.sg,c.O5,u.rH],styles:[".gradient-custom-2[_ngcontent-%COMP%]{background:linear-gradient(to right,#4e1637,rgb(37,53,196))}@media (min-width: 768px){.gradient-form[_ngcontent-%COMP%]{height:100vh!important}}@media (min-width: 769px){.gradient-custom-2[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}}.gradient-form[_ngcontent-%COMP%]{opacity:.9}.transparente[_ngcontent-%COMP%]{border-radius:50%;background:linear-gradient(to right,#4e1637,rgb(37,53,196))}input[_ngcontent-%COMP%]{opacity:.6}"]})}return e})()}];let T=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(y),u.Bz]})}return e})(),k=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.ez,T]})}return e})()}}]);